"use strict";
import {
  bignumber_exports,
  init_bignumber
} from "./chunk-56PJVFJW.js";
import {
  esm5_exports,
  init_esm5
} from "./chunk-PB6RPZVB.js";
import {
  require_hdkey
} from "./chunk-EMOG6BA7.js";
import {
  require_bs58check
} from "./chunk-LM3A5ETM.js";
import "./chunk-3L2QOU6N.js";
import {
  require_dist as require_dist2
} from "./chunk-P7FZ3CER.js";
import {
  require_dist
} from "./chunk-GY2U6V7C.js";
import "./chunk-6XVHBKXF.js";
import "./chunk-QJBX42KY.js";
import {
  require_assert,
  require_sha
} from "./chunk-UTWHOSAQ.js";
import "./chunk-BTG65MVN.js";
import {
  require_events
} from "./chunk-K2K3O27I.js";
import {
  require_buffer
} from "./chunk-557FO4FU.js";
import {
  require_base64_js,
  require_ieee754
} from "./chunk-S5NSXQRL.js";
import {
  require_react_dom
} from "./chunk-FJBGYZPC.js";
import {
  require_react
} from "./chunk-M6NHTCMH.js";
import {
  require_object_assign
} from "./chunk-RFCOJ5N5.js";
import "./chunk-QMSD3UEV.js";
import "./chunk-27CSTQIU.js";
import "./chunk-VIQ6GMKA.js";
import "./chunk-PX4IM7JA.js";
import {
  __commonJS,
  __esm,
  __export,
  __toCommonJS,
  __toESM,
  init_define_process_env
} from "./chunk-KJE66DWM.js";

// node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js
var require_DataItem = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DataItem = void 0;
    var DataItem = class {
      constructor(data, tag) {
        this.setTag = (tag2) => {
          this.tag = tag2;
        };
        this.clearTag = () => {
          this.tag = void 0;
        };
        this.getTag = () => {
          return this.tag;
        };
        this.getData = () => {
          return this.data;
        };
        this.data = data;
        this.tag = tag;
      }
    };
    exports.DataItem = DataItem;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js
var require_cbor_sync = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"(exports, module) {
    "use strict";
    init_define_process_env();
    (function(global, factory) {
      if (typeof define === "function" && define.amd) {
        define([], factory);
      } else if (typeof module !== "undefined" && module.exports) {
        module.exports = factory();
      } else {
        global.CBOR = factory();
      }
    })(exports, function() {
      const { DataItem } = require_DataItem();
      var CBOR = function() {
        function BinaryHex(hex) {
          this.$hex = hex;
        }
        BinaryHex.prototype = {
          length: function() {
            return this.$hex.length / 2;
          },
          toString: function(format) {
            if (!format || format === "hex" || format === 16)
              return this.$hex;
            if (format === "utf-8") {
              var encoded = "";
              for (var i = 0; i < this.$hex.length; i += 2) {
                encoded += "%" + this.$hex.substring(i, i + 2);
              }
              return decodeURIComponent(encoded);
            }
            if (format === "latin") {
              var encoded = [];
              for (var i = 0; i < this.$hex.length; i += 2) {
                encoded.push(parseInt(this.$hex.substring(i, i + 2), 16));
              }
              return String.fromCharCode.apply(String, encoded);
            }
            throw new Error("Unrecognised format: " + format);
          }
        };
        BinaryHex.fromLatinString = function(latinString) {
          var hex = "";
          for (var i = 0; i < latinString.length; i++) {
            var pair = latinString.charCodeAt(i).toString(16);
            if (pair.length === 1)
              pair = "0" + pair;
            hex += pair;
          }
          return new BinaryHex(hex);
        };
        BinaryHex.fromUtf8String = function(utf8String) {
          var encoded = encodeURIComponent(utf8String);
          var hex = "";
          for (var i = 0; i < encoded.length; i++) {
            if (encoded.charAt(i) === "%") {
              hex += encoded.substring(i + 1, i + 3);
              i += 2;
            } else {
              var hexPair = encoded.charCodeAt(i).toString(16);
              if (hexPair.length < 2)
                hexPair = "0" + hexPair;
              hex += hexPair;
            }
          }
          return new BinaryHex(hex);
        };
        var semanticEncoders = [];
        var semanticDecoders = {};
        var notImplemented = function(label) {
          return function() {
            throw new Error(label + " not implemented");
          };
        };
        function Reader() {
        }
        Reader.prototype = {
          peekByte: notImplemented("peekByte"),
          readByte: notImplemented("readByte"),
          readChunk: notImplemented("readChunk"),
          readFloat16: function() {
            var half = this.readUint16();
            var exponent = (half & 32767) >> 10;
            var mantissa = half & 1023;
            var negative = half & 32768;
            if (exponent === 31) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 25) * (1024 + mantissa) : Math.pow(2, -24) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readFloat32: function() {
            var intValue = this.readUint32();
            var exponent = (intValue & 2147483647) >> 23;
            var mantissa = intValue & 8388607;
            var negative = intValue & 2147483648;
            if (exponent === 255) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 23 - 127) * (8388608 + mantissa) : Math.pow(2, -23 - 126) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readFloat64: function() {
            var int1 = this.readUint32(), int2 = this.readUint32();
            var exponent = int1 >> 20 & 2047;
            var mantissa = (int1 & 1048575) * 4294967296 + int2;
            var negative = int1 & 2147483648;
            if (exponent === 2047) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 52 - 1023) * (4503599627370496 + mantissa) : Math.pow(2, -52 - 1022) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readUint16: function() {
            return this.readByte() * 256 + this.readByte();
          },
          readUint32: function() {
            return this.readUint16() * 65536 + this.readUint16();
          },
          readUint64: function() {
            return this.readUint32() * 4294967296 + this.readUint32();
          }
        };
        function Writer() {
        }
        Writer.prototype = {
          writeByte: notImplemented("writeByte"),
          result: notImplemented("result"),
          writeFloat16: notImplemented("writeFloat16"),
          writeFloat32: notImplemented("writeFloat32"),
          writeFloat64: notImplemented("writeFloat64"),
          writeUint16: function(value) {
            this.writeByte(value >> 8 & 255);
            this.writeByte(value & 255);
          },
          writeUint32: function(value) {
            this.writeUint16(value >> 16 & 65535);
            this.writeUint16(value & 65535);
          },
          writeUint64: function(value) {
            if (value >= 9007199254740992 || value <= -9007199254740992) {
              throw new Error("Cannot encode Uint64 of: " + value + " magnitude to big (floating point errors)");
            }
            this.writeUint32(Math.floor(value / 4294967296));
            this.writeUint32(value % 4294967296);
          },
          writeString: notImplemented("writeString"),
          canWriteBinary: function(chunk) {
            return false;
          },
          writeBinary: notImplemented("writeChunk")
        };
        function readHeaderRaw(reader) {
          var firstByte = reader.readByte();
          var majorType = firstByte >> 5, value = firstByte & 31;
          return { type: majorType, value };
        }
        function valueFromHeader(header, reader) {
          var value = header.value;
          if (value < 24) {
            return value;
          } else if (value == 24) {
            return reader.readByte();
          } else if (value == 25) {
            return reader.readUint16();
          } else if (value == 26) {
            return reader.readUint32();
          } else if (value == 27) {
            return reader.readUint64();
          } else if (value == 31) {
            return null;
          }
          notImplemented("Additional info: " + value)();
        }
        function writeHeaderRaw(type, value, writer) {
          writer.writeByte(type << 5 | value);
        }
        function writeHeader(type, value, writer) {
          var firstByte = type << 5;
          if (value < 24) {
            writer.writeByte(firstByte | value);
          } else if (value < 256) {
            writer.writeByte(firstByte | 24);
            writer.writeByte(value);
          } else if (value < 65536) {
            writer.writeByte(firstByte | 25);
            writer.writeUint16(value);
          } else if (value < 4294967296) {
            writer.writeByte(firstByte | 26);
            writer.writeUint32(value);
          } else {
            writer.writeByte(firstByte | 27);
            writer.writeUint64(value);
          }
        }
        var stopCode = new Error();
        function decodeReader(reader) {
          var header = readHeaderRaw(reader);
          switch (header.type) {
            case 0:
              return valueFromHeader(header, reader);
            case 1:
              return -1 - valueFromHeader(header, reader);
            case 2:
              return reader.readChunk(valueFromHeader(header, reader));
            case 3:
              var buffer = reader.readChunk(valueFromHeader(header, reader));
              return buffer.toString("utf-8");
            case 4:
            case 5:
              var arrayLength = valueFromHeader(header, reader);
              var result = [];
              if (arrayLength !== null) {
                if (header.type === 5) {
                  arrayLength *= 2;
                }
                for (var i = 0; i < arrayLength; i++) {
                  result[i] = decodeReader(reader);
                }
              } else {
                var item;
                while ((item = decodeReader(reader)) !== stopCode) {
                  result.push(item);
                }
              }
              if (header.type === 5) {
                var objResult = {};
                for (var i = 0; i < result.length; i += 2) {
                  objResult[result[i]] = result[i + 1];
                }
                return objResult;
              } else {
                return result;
              }
            case 6:
              var tag = valueFromHeader(header, reader);
              var decoder = semanticDecoders[tag];
              var result = decodeReader(reader);
              return decoder ? decoder(result) : result;
            case 7:
              if (header.value === 25) {
                return reader.readFloat16();
              } else if (header.value === 26) {
                return reader.readFloat32();
              } else if (header.value === 27) {
                return reader.readFloat64();
              }
              switch (valueFromHeader(header, reader)) {
                case 20:
                  return false;
                case 21:
                  return true;
                case 22:
                  return null;
                case 23:
                  return void 0;
                case null:
                  return stopCode;
                default:
                  throw new Error("Unknown fixed value: " + header.value);
              }
            default:
              throw new Error("Unsupported header: " + JSON.stringify(header));
          }
          throw new Error("not implemented yet");
        }
        function encodeWriter(data, writer) {
          for (var i = 0; i < semanticEncoders.length; i++) {
            var replacement = semanticEncoders[i].fn(data);
            if (replacement !== void 0) {
              writeHeader(6, semanticEncoders[i].tag, writer);
              return encodeWriter(replacement, writer);
            }
          }
          if (data && typeof data.toCBOR === "function") {
            data = data.toCBOR();
          }
          if (data === false) {
            writeHeader(7, 20, writer);
          } else if (data === true) {
            writeHeader(7, 21, writer);
          } else if (data === null) {
            writeHeader(7, 22, writer);
          } else if (data === void 0) {
            writeHeader(7, 23, writer);
          } else if (typeof data === "number") {
            if (Math.floor(data) === data && data < 9007199254740992 && data > -9007199254740992) {
              if (data < 0) {
                writeHeader(1, -1 - data, writer);
              } else {
                writeHeader(0, data, writer);
              }
            } else {
              writeHeaderRaw(7, 27, writer);
              writer.writeFloat64(data);
            }
          } else if (typeof data === "string") {
            writer.writeString(data, function(length) {
              writeHeader(3, length, writer);
            });
          } else if (writer.canWriteBinary(data)) {
            writer.writeBinary(data, function(length) {
              writeHeader(2, length, writer);
            });
          } else if (typeof data === "object") {
            if (api.config.useToJSON && typeof data.toJSON === "function") {
              data = data.toJSON();
            }
            if (Array.isArray(data)) {
              writeHeader(4, data.length, writer);
              for (var i = 0; i < data.length; i++) {
                encodeWriter(data[i], writer);
              }
            } else {
              var keys = Object.keys(data);
              writeHeader(5, keys.length, writer);
              for (var i = 0; i < keys.length; i++) {
                const number = parseInt(keys[i]);
                if (isNaN(number)) {
                  encodeWriter(keys[i], writer);
                  encodeWriter(data[keys[i]], writer);
                } else {
                  encodeWriter(number, writer);
                  encodeWriter(data[keys[i]], writer);
                }
              }
            }
          } else {
            throw new Error("CBOR encoding not supported: " + data);
          }
        }
        var readerFunctions = [];
        var writerFunctions = [];
        var api = {
          config: {
            useToJSON: true
          },
          addWriter: function(format, writerFunction) {
            if (typeof format === "string") {
              writerFunctions.push(function(f2) {
                if (format === f2)
                  return writerFunction(f2);
              });
            } else {
              writerFunctions.push(format);
            }
          },
          addReader: function(format, readerFunction) {
            if (typeof format === "string") {
              readerFunctions.push(function(data, f2) {
                if (format === f2)
                  return readerFunction(data, f2);
              });
            } else {
              readerFunctions.push(format);
            }
          },
          encode: function(data, format) {
            for (var i = 0; i < writerFunctions.length; i++) {
              var func = writerFunctions[i];
              var writer = func(format);
              if (writer) {
                encodeWriter(data, writer);
                return writer.result();
              }
            }
            throw new Error("Unsupported output format: " + format);
          },
          encodeDataItem: function(data, format) {
            for (var i = 0; i < writerFunctions.length; i++) {
              var func = writerFunctions[i];
              var writer = func(format);
              if (writer) {
                if (data.getTag() !== void 0) {
                  encodeWriter(data, writer);
                  return writer.result();
                } else {
                  encodeWriter(data.getData(), writer);
                  return writer.result();
                }
              }
            }
            throw new Error("Unsupported output format: " + format);
          },
          decode: function(data, format) {
            for (var i = 0; i < readerFunctions.length; i++) {
              var func = readerFunctions[i];
              var reader = func(data, format);
              if (reader) {
                return decodeReader(reader);
              }
            }
            throw new Error("Unsupported input format: " + format);
          },
          decodeToDataItem: function(data, format) {
            for (var i = 0; i < readerFunctions.length; i++) {
              var func = readerFunctions[i];
              var reader = func(data, format);
              if (reader) {
                const result = decodeReader(reader);
                if (result instanceof DataItem) {
                  return result;
                } else {
                  return new DataItem(result);
                }
              }
            }
            throw new Error("Unsupported input format: " + format);
          },
          addSemanticEncode: function(tag, fn) {
            if (typeof tag !== "number" || tag % 1 !== 0 || tag < 0) {
              throw new Error("Tag must be a positive integer");
            }
            semanticEncoders.push({ tag, fn });
            return this;
          },
          addSemanticDecode: function(tag, fn) {
            if (typeof tag !== "number" || tag % 1 !== 0 || tag < 0) {
              throw new Error("Tag must be a positive integer");
            }
            semanticDecoders[tag] = fn;
            return this;
          },
          Reader,
          Writer
        };
        function BufferReader(buffer) {
          this.buffer = buffer;
          this.pos = 0;
        }
        BufferReader.prototype = Object.create(Reader.prototype);
        BufferReader.prototype.peekByte = function() {
          return this.buffer[this.pos];
        };
        BufferReader.prototype.readByte = function() {
          return this.buffer[this.pos++];
        };
        BufferReader.prototype.readUint16 = function() {
          var result = this.buffer.readUInt16BE(this.pos);
          this.pos += 2;
          return result;
        };
        BufferReader.prototype.readUint32 = function() {
          var result = this.buffer.readUInt32BE(this.pos);
          this.pos += 4;
          return result;
        };
        BufferReader.prototype.readFloat32 = function() {
          var result = this.buffer.readFloatBE(this.pos);
          this.pos += 4;
          return result;
        };
        BufferReader.prototype.readFloat64 = function() {
          var result = this.buffer.readDoubleBE(this.pos);
          this.pos += 8;
          return result;
        };
        BufferReader.prototype.readChunk = function(length) {
          var result = Buffer.alloc(length);
          this.buffer.copy(result, 0, this.pos, this.pos += length);
          return result;
        };
        function BufferWriter(stringFormat) {
          this.byteLength = 0;
          this.defaultBufferLength = 16384;
          this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
          this.latestBufferOffset = 0;
          this.completeBuffers = [];
          this.stringFormat = stringFormat;
        }
        BufferWriter.prototype = Object.create(Writer.prototype);
        BufferWriter.prototype.writeByte = function(value) {
          this.latestBuffer[this.latestBufferOffset++] = value;
          if (this.latestBufferOffset >= this.latestBuffer.length) {
            this.completeBuffers.push(this.latestBuffer);
            this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
            this.latestBufferOffset = 0;
          }
          this.byteLength++;
        };
        BufferWriter.prototype.writeFloat32 = function(value) {
          var buffer = Buffer.alloc(4);
          buffer.writeFloatBE(value, 0);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeFloat64 = function(value) {
          var buffer = Buffer.alloc(8);
          buffer.writeDoubleBE(value, 0);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeString = function(string, lengthFunc) {
          var buffer = Buffer.from(string, "utf-8");
          lengthFunc(buffer.length);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.canWriteBinary = function(data) {
          return data instanceof Buffer;
        };
        BufferWriter.prototype.writeBinary = function(buffer, lengthFunc) {
          lengthFunc(buffer.length);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeBuffer = function(chunk) {
          if (!(chunk instanceof Buffer))
            throw new TypeError("BufferWriter only accepts Buffers");
          if (!this.latestBufferOffset) {
            this.completeBuffers.push(chunk);
          } else if (this.latestBuffer.length - this.latestBufferOffset >= chunk.length) {
            chunk.copy(this.latestBuffer, this.latestBufferOffset);
            this.latestBufferOffset += chunk.length;
            if (this.latestBufferOffset >= this.latestBuffer.length) {
              this.completeBuffers.push(this.latestBuffer);
              this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
              this.latestBufferOffset = 0;
            }
          } else {
            this.completeBuffers.push(this.latestBuffer.slice(0, this.latestBufferOffset));
            this.completeBuffers.push(chunk);
            this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
            this.latestBufferOffset = 0;
          }
          this.byteLength += chunk.length;
        };
        BufferWriter.prototype.result = function() {
          var result = Buffer.alloc(this.byteLength);
          var offset = 0;
          for (var i = 0; i < this.completeBuffers.length; i++) {
            var buffer = this.completeBuffers[i];
            buffer.copy(result, offset, 0, buffer.length);
            offset += buffer.length;
          }
          if (this.latestBufferOffset) {
            this.latestBuffer.copy(result, offset, 0, this.latestBufferOffset);
          }
          if (this.stringFormat)
            return result.toString(this.stringFormat);
          return result;
        };
        if (typeof Buffer === "function") {
          api.addReader(function(data, format) {
            if (data instanceof Buffer) {
              return new BufferReader(data);
            }
            if (format === "hex" || format === "base64") {
              var buffer = Buffer.from(data, format);
              return new BufferReader(buffer);
            }
          });
          api.addWriter(function(format) {
            if (!format || format === "buffer") {
              return new BufferWriter();
            } else if (format === "hex" || format === "base64") {
              return new BufferWriter(format);
            }
          });
        }
        function HexReader(hex) {
          this.hex = hex;
          this.pos = 0;
        }
        HexReader.prototype = Object.create(Reader.prototype);
        HexReader.prototype.peekByte = function() {
          var pair = this.hex.substring(this.pos, 2);
          return parseInt(pair, 16);
        };
        HexReader.prototype.readByte = function() {
          var pair = this.hex.substring(this.pos, this.pos + 2);
          this.pos += 2;
          return parseInt(pair, 16);
        };
        HexReader.prototype.readChunk = function(length) {
          var hex = this.hex.substring(this.pos, this.pos + length * 2);
          this.pos += length * 2;
          if (typeof Buffer === "function")
            return Buffer.from(hex, "hex");
          return new BinaryHex(hex);
        };
        function HexWriter(finalFormat) {
          this.$hex = "";
          this.finalFormat = finalFormat || "hex";
        }
        HexWriter.prototype = Object.create(Writer.prototype);
        HexWriter.prototype.writeByte = function(value) {
          if (value < 0 || value > 255)
            throw new Error("Byte value out of range: " + value);
          var hex = value.toString(16);
          if (hex.length == 1) {
            hex = "0" + hex;
          }
          this.$hex += hex;
        };
        HexWriter.prototype.canWriteBinary = function(chunk) {
          return chunk instanceof BinaryHex || typeof Buffer === "function" && chunk instanceof Buffer;
        };
        HexWriter.prototype.writeBinary = function(chunk, lengthFunction) {
          if (chunk instanceof BinaryHex) {
            lengthFunction(chunk.length());
            this.$hex += chunk.$hex;
          } else if (typeof Buffer === "function" && chunk instanceof Buffer) {
            lengthFunction(chunk.length);
            this.$hex += chunk.toString("hex");
          } else {
            throw new TypeError("HexWriter only accepts BinaryHex or Buffers");
          }
        };
        HexWriter.prototype.result = function() {
          if (this.finalFormat === "buffer" && typeof Buffer === "function") {
            return Buffer.from(this.$hex, "hex");
          }
          return new BinaryHex(this.$hex).toString(this.finalFormat);
        };
        HexWriter.prototype.writeString = function(string, lengthFunction) {
          var buffer = BinaryHex.fromUtf8String(string);
          lengthFunction(buffer.length());
          this.$hex += buffer.$hex;
        };
        api.addReader(function(data, format) {
          if (data instanceof BinaryHex || data.$hex) {
            return new HexReader(data.$hex);
          }
          if (format === "hex") {
            return new HexReader(data);
          }
        });
        api.addWriter(function(format) {
          if (format === "hex") {
            return new HexWriter();
          }
        });
        return api;
      }();
      CBOR.addSemanticEncode(0, function(data) {
        if (data instanceof Date) {
          return data.toISOString();
        }
      }).addSemanticDecode(0, function(isoString) {
        return new Date(isoString);
      }).addSemanticDecode(1, function(isoString) {
        return new Date(isoString);
      });
      return CBOR;
    });
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js
var require_lib = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DataItem = exports.addWriter = exports.addReader = exports.addSemanticEncode = exports.addSemanticDecode = exports.decodeToDataItem = exports.encodeDataItem = void 0;
    var cbor_sync_1 = require_cbor_sync();
    Object.defineProperty(exports, "encodeDataItem", { enumerable: true, get: function() {
      return cbor_sync_1.encodeDataItem;
    } });
    Object.defineProperty(exports, "decodeToDataItem", { enumerable: true, get: function() {
      return cbor_sync_1.decodeToDataItem;
    } });
    Object.defineProperty(exports, "addSemanticDecode", { enumerable: true, get: function() {
      return cbor_sync_1.addSemanticDecode;
    } });
    Object.defineProperty(exports, "addSemanticEncode", { enumerable: true, get: function() {
      return cbor_sync_1.addSemanticEncode;
    } });
    Object.defineProperty(exports, "addReader", { enumerable: true, get: function() {
      return cbor_sync_1.addReader;
    } });
    Object.defineProperty(exports, "addWriter", { enumerable: true, get: function() {
      return cbor_sync_1.addWriter;
    } });
    var DataItem_1 = require_DataItem();
    Object.defineProperty(exports, "DataItem", { enumerable: true, get: function() {
      return DataItem_1.DataItem;
    } });
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/utils.js
var require_utils = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/utils.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.patchTags = void 0;
    var lib_1 = require_lib();
    var alreadyPatchedTag = [];
    var patchTags = (tags) => {
      tags.forEach((tag) => {
        if (alreadyPatchedTag.find((i) => i === tag))
          return;
        lib_1.addSemanticEncode(tag, (data) => {
          if (data instanceof lib_1.DataItem) {
            if (data.getTag() === tag) {
              return data.getData();
            }
          }
        });
        lib_1.addSemanticDecode(tag, (data) => {
          return new lib_1.DataItem(data, tag);
        });
        alreadyPatchedTag.push(tag);
      });
    };
    exports.patchTags = patchTags;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js
var require_RegistryType = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RegistryTypes = exports.RegistryType = void 0;
    var RegistryType = class {
      constructor(type, tag) {
        this.type = type;
        this.tag = tag;
        this.getTag = () => this.tag;
        this.getType = () => this.type;
      }
    };
    exports.RegistryType = RegistryType;
    exports.RegistryTypes = {
      UUID: new RegistryType("uuid", 37),
      BYTES: new RegistryType("bytes", void 0),
      CRYPTO_HDKEY: new RegistryType("crypto-hdkey", 303),
      CRYPTO_KEYPATH: new RegistryType("crypto-keypath", 304),
      CRYPTO_COIN_INFO: new RegistryType("crypto-coin-info", 305),
      CRYPTO_ECKEY: new RegistryType("crypto-eckey", 306),
      CRYPTO_OUTPUT: new RegistryType("crypto-output", 308),
      CRYPTO_PSBT: new RegistryType("crypto-psbt", 310),
      CRYPTO_ACCOUNT: new RegistryType("crypto-account", 311)
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js
var require_ScriptExpression = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ScriptExpressions = exports.ScriptExpression = void 0;
    var ScriptExpression = class {
      constructor(tag, expression) {
        this.tag = tag;
        this.expression = expression;
        this.getTag = () => this.tag;
        this.getExpression = () => this.expression;
      }
    };
    exports.ScriptExpression = ScriptExpression;
    ScriptExpression.fromTag = (tag) => {
      const se = Object.values(exports.ScriptExpressions).find((se2) => se2.getTag() === tag);
      return se;
    };
    exports.ScriptExpressions = {
      SCRIPT_HASH: new ScriptExpression(400, "sh"),
      WITNESS_SCRIPT_HASH: new ScriptExpression(401, "wsh"),
      PUBLIC_KEY: new ScriptExpression(402, "pk"),
      PUBLIC_KEY_HASH: new ScriptExpression(403, "pkh"),
      WITNESS_PUBLIC_KEY_HASH: new ScriptExpression(404, "wpkh"),
      COMBO: new ScriptExpression(405, "combo"),
      MULTISIG: new ScriptExpression(406, "multi"),
      SORTED_MULTISIG: new ScriptExpression(407, "sorted"),
      ADDRESS: new ScriptExpression(307, "addr"),
      RAW_SCRIPT: new ScriptExpression(408, "raw")
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js
var require_patchCBOR = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    var utils_1 = require_utils();
    var RegistryType_1 = require_RegistryType();
    var ScriptExpression_1 = require_ScriptExpression();
    var registryTags = Object.values(RegistryType_1.RegistryTypes).filter((r) => !!r.getTag()).map((r) => r.getTag());
    var scriptExpressionTags = Object.values(ScriptExpression_1.ScriptExpressions).map((se) => se.getTag());
    utils_1.patchTags(registryTags.concat(scriptExpressionTags));
  }
});

// node_modules/@ngraveio/bc-ur/dist/errors.js
var require_errors = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/errors.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.InvalidChecksumError = exports.InvalidSequenceComponentError = exports.InvalidTypeError = exports.InvalidPathLengthError = exports.InvalidSchemeError = void 0;
    var InvalidSchemeError = class extends Error {
      constructor() {
        super("Invalid Scheme");
        this.name = "InvalidSchemeError";
      }
    };
    exports.InvalidSchemeError = InvalidSchemeError;
    var InvalidPathLengthError = class extends Error {
      constructor() {
        super("Invalid Path");
        this.name = "InvalidPathLengthError";
      }
    };
    exports.InvalidPathLengthError = InvalidPathLengthError;
    var InvalidTypeError = class extends Error {
      constructor() {
        super("Invalid Type");
        this.name = "InvalidTypeError";
      }
    };
    exports.InvalidTypeError = InvalidTypeError;
    var InvalidSequenceComponentError = class extends Error {
      constructor() {
        super("Invalid Sequence Component");
        this.name = "InvalidSequenceComponentError";
      }
    };
    exports.InvalidSequenceComponentError = InvalidSequenceComponentError;
    var InvalidChecksumError = class extends Error {
      constructor() {
        super("Invalid Checksum");
        this.name = "InvalidChecksumError";
      }
    };
    exports.InvalidChecksumError = InvalidChecksumError;
  }
});

// node_modules/crc/node_modules/buffer/index.js
var require_buffer2 = __commonJS({
  "node_modules/crc/node_modules/buffer/index.js"(exports) {
    "use strict";
    init_define_process_env();
    var base64 = require_base64_js();
    var ieee754 = require_ieee754();
    var customInspectSymbol = typeof Symbol === "function" && typeof Symbol["for"] === "function" ? Symbol["for"]("nodejs.util.inspect.custom") : null;
    exports.Buffer = Buffer14;
    exports.SlowBuffer = SlowBuffer;
    exports.INSPECT_MAX_BYTES = 50;
    var K_MAX_LENGTH = 2147483647;
    exports.kMaxLength = K_MAX_LENGTH;
    Buffer14.TYPED_ARRAY_SUPPORT = typedArraySupport();
    if (!Buffer14.TYPED_ARRAY_SUPPORT && typeof console !== "undefined" && typeof console.error === "function") {
      console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
    }
    function typedArraySupport() {
      try {
        var arr = new Uint8Array(1);
        var proto = { foo: function() {
          return 42;
        } };
        Object.setPrototypeOf(proto, Uint8Array.prototype);
        Object.setPrototypeOf(arr, proto);
        return arr.foo() === 42;
      } catch (e) {
        return false;
      }
    }
    Object.defineProperty(Buffer14.prototype, "parent", {
      enumerable: true,
      get: function() {
        if (!Buffer14.isBuffer(this))
          return void 0;
        return this.buffer;
      }
    });
    Object.defineProperty(Buffer14.prototype, "offset", {
      enumerable: true,
      get: function() {
        if (!Buffer14.isBuffer(this))
          return void 0;
        return this.byteOffset;
      }
    });
    function createBuffer2(length) {
      if (length > K_MAX_LENGTH) {
        throw new RangeError('The value "' + length + '" is invalid for option "size"');
      }
      var buf = new Uint8Array(length);
      Object.setPrototypeOf(buf, Buffer14.prototype);
      return buf;
    }
    function Buffer14(arg, encodingOrOffset, length) {
      if (typeof arg === "number") {
        if (typeof encodingOrOffset === "string") {
          throw new TypeError('The "string" argument must be of type string. Received type number');
        }
        return allocUnsafe(arg);
      }
      return from(arg, encodingOrOffset, length);
    }
    Buffer14.poolSize = 8192;
    function from(value, encodingOrOffset, length) {
      if (typeof value === "string") {
        return fromString(value, encodingOrOffset);
      }
      if (ArrayBuffer.isView(value)) {
        return fromArrayView(value);
      }
      if (value == null) {
        throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof value);
      }
      if (isInstance(value, ArrayBuffer) || value && isInstance(value.buffer, ArrayBuffer)) {
        return fromArrayBuffer(value, encodingOrOffset, length);
      }
      if (typeof SharedArrayBuffer !== "undefined" && (isInstance(value, SharedArrayBuffer) || value && isInstance(value.buffer, SharedArrayBuffer))) {
        return fromArrayBuffer(value, encodingOrOffset, length);
      }
      if (typeof value === "number") {
        throw new TypeError('The "value" argument must not be of type number. Received type number');
      }
      var valueOf = value.valueOf && value.valueOf();
      if (valueOf != null && valueOf !== value) {
        return Buffer14.from(valueOf, encodingOrOffset, length);
      }
      var b = fromObject(value);
      if (b)
        return b;
      if (typeof Symbol !== "undefined" && Symbol.toPrimitive != null && typeof value[Symbol.toPrimitive] === "function") {
        return Buffer14.from(value[Symbol.toPrimitive]("string"), encodingOrOffset, length);
      }
      throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof value);
    }
    Buffer14.from = function(value, encodingOrOffset, length) {
      return from(value, encodingOrOffset, length);
    };
    Object.setPrototypeOf(Buffer14.prototype, Uint8Array.prototype);
    Object.setPrototypeOf(Buffer14, Uint8Array);
    function assertSize(size) {
      if (typeof size !== "number") {
        throw new TypeError('"size" argument must be of type number');
      } else if (size < 0) {
        throw new RangeError('The value "' + size + '" is invalid for option "size"');
      }
    }
    function alloc(size, fill, encoding) {
      assertSize(size);
      if (size <= 0) {
        return createBuffer2(size);
      }
      if (fill !== void 0) {
        return typeof encoding === "string" ? createBuffer2(size).fill(fill, encoding) : createBuffer2(size).fill(fill);
      }
      return createBuffer2(size);
    }
    Buffer14.alloc = function(size, fill, encoding) {
      return alloc(size, fill, encoding);
    };
    function allocUnsafe(size) {
      assertSize(size);
      return createBuffer2(size < 0 ? 0 : checked(size) | 0);
    }
    Buffer14.allocUnsafe = function(size) {
      return allocUnsafe(size);
    };
    Buffer14.allocUnsafeSlow = function(size) {
      return allocUnsafe(size);
    };
    function fromString(string, encoding) {
      if (typeof encoding !== "string" || encoding === "") {
        encoding = "utf8";
      }
      if (!Buffer14.isEncoding(encoding)) {
        throw new TypeError("Unknown encoding: " + encoding);
      }
      var length = byteLength(string, encoding) | 0;
      var buf = createBuffer2(length);
      var actual = buf.write(string, encoding);
      if (actual !== length) {
        buf = buf.slice(0, actual);
      }
      return buf;
    }
    function fromArrayLike(array) {
      var length = array.length < 0 ? 0 : checked(array.length) | 0;
      var buf = createBuffer2(length);
      for (var i = 0; i < length; i += 1) {
        buf[i] = array[i] & 255;
      }
      return buf;
    }
    function fromArrayView(arrayView) {
      if (isInstance(arrayView, Uint8Array)) {
        var copy = new Uint8Array(arrayView);
        return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength);
      }
      return fromArrayLike(arrayView);
    }
    function fromArrayBuffer(array, byteOffset, length) {
      if (byteOffset < 0 || array.byteLength < byteOffset) {
        throw new RangeError('"offset" is outside of buffer bounds');
      }
      if (array.byteLength < byteOffset + (length || 0)) {
        throw new RangeError('"length" is outside of buffer bounds');
      }
      var buf;
      if (byteOffset === void 0 && length === void 0) {
        buf = new Uint8Array(array);
      } else if (length === void 0) {
        buf = new Uint8Array(array, byteOffset);
      } else {
        buf = new Uint8Array(array, byteOffset, length);
      }
      Object.setPrototypeOf(buf, Buffer14.prototype);
      return buf;
    }
    function fromObject(obj) {
      if (Buffer14.isBuffer(obj)) {
        var len = checked(obj.length) | 0;
        var buf = createBuffer2(len);
        if (buf.length === 0) {
          return buf;
        }
        obj.copy(buf, 0, 0, len);
        return buf;
      }
      if (obj.length !== void 0) {
        if (typeof obj.length !== "number" || numberIsNaN(obj.length)) {
          return createBuffer2(0);
        }
        return fromArrayLike(obj);
      }
      if (obj.type === "Buffer" && Array.isArray(obj.data)) {
        return fromArrayLike(obj.data);
      }
    }
    function checked(length) {
      if (length >= K_MAX_LENGTH) {
        throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + K_MAX_LENGTH.toString(16) + " bytes");
      }
      return length | 0;
    }
    function SlowBuffer(length) {
      if (+length != length) {
        length = 0;
      }
      return Buffer14.alloc(+length);
    }
    Buffer14.isBuffer = function isBuffer(b) {
      return b != null && b._isBuffer === true && b !== Buffer14.prototype;
    };
    Buffer14.compare = function compare(a, b) {
      if (isInstance(a, Uint8Array))
        a = Buffer14.from(a, a.offset, a.byteLength);
      if (isInstance(b, Uint8Array))
        b = Buffer14.from(b, b.offset, b.byteLength);
      if (!Buffer14.isBuffer(a) || !Buffer14.isBuffer(b)) {
        throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
      }
      if (a === b)
        return 0;
      var x = a.length;
      var y = b.length;
      for (var i = 0, len = Math.min(x, y); i < len; ++i) {
        if (a[i] !== b[i]) {
          x = a[i];
          y = b[i];
          break;
        }
      }
      if (x < y)
        return -1;
      if (y < x)
        return 1;
      return 0;
    };
    Buffer14.isEncoding = function isEncoding(encoding) {
      switch (String(encoding).toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "latin1":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return true;
        default:
          return false;
      }
    };
    Buffer14.concat = function concat(list, length) {
      if (!Array.isArray(list)) {
        throw new TypeError('"list" argument must be an Array of Buffers');
      }
      if (list.length === 0) {
        return Buffer14.alloc(0);
      }
      var i;
      if (length === void 0) {
        length = 0;
        for (i = 0; i < list.length; ++i) {
          length += list[i].length;
        }
      }
      var buffer = Buffer14.allocUnsafe(length);
      var pos = 0;
      for (i = 0; i < list.length; ++i) {
        var buf = list[i];
        if (isInstance(buf, Uint8Array)) {
          if (pos + buf.length > buffer.length) {
            Buffer14.from(buf).copy(buffer, pos);
          } else {
            Uint8Array.prototype.set.call(buffer, buf, pos);
          }
        } else if (!Buffer14.isBuffer(buf)) {
          throw new TypeError('"list" argument must be an Array of Buffers');
        } else {
          buf.copy(buffer, pos);
        }
        pos += buf.length;
      }
      return buffer;
    };
    function byteLength(string, encoding) {
      if (Buffer14.isBuffer(string)) {
        return string.length;
      }
      if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
        return string.byteLength;
      }
      if (typeof string !== "string") {
        throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof string);
      }
      var len = string.length;
      var mustMatch = arguments.length > 2 && arguments[2] === true;
      if (!mustMatch && len === 0)
        return 0;
      var loweredCase = false;
      for (; ; ) {
        switch (encoding) {
          case "ascii":
          case "latin1":
          case "binary":
            return len;
          case "utf8":
          case "utf-8":
            return utf8ToBytes(string).length;
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return len * 2;
          case "hex":
            return len >>> 1;
          case "base64":
            return base64ToBytes(string).length;
          default:
            if (loweredCase) {
              return mustMatch ? -1 : utf8ToBytes(string).length;
            }
            encoding = ("" + encoding).toLowerCase();
            loweredCase = true;
        }
      }
    }
    Buffer14.byteLength = byteLength;
    function slowToString(encoding, start, end) {
      var loweredCase = false;
      if (start === void 0 || start < 0) {
        start = 0;
      }
      if (start > this.length) {
        return "";
      }
      if (end === void 0 || end > this.length) {
        end = this.length;
      }
      if (end <= 0) {
        return "";
      }
      end >>>= 0;
      start >>>= 0;
      if (end <= start) {
        return "";
      }
      if (!encoding)
        encoding = "utf8";
      while (true) {
        switch (encoding) {
          case "hex":
            return hexSlice(this, start, end);
          case "utf8":
          case "utf-8":
            return utf8Slice(this, start, end);
          case "ascii":
            return asciiSlice(this, start, end);
          case "latin1":
          case "binary":
            return latin1Slice(this, start, end);
          case "base64":
            return base64Slice(this, start, end);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return utf16leSlice(this, start, end);
          default:
            if (loweredCase)
              throw new TypeError("Unknown encoding: " + encoding);
            encoding = (encoding + "").toLowerCase();
            loweredCase = true;
        }
      }
    }
    Buffer14.prototype._isBuffer = true;
    function swap(b, n, m) {
      var i = b[n];
      b[n] = b[m];
      b[m] = i;
    }
    Buffer14.prototype.swap16 = function swap16() {
      var len = this.length;
      if (len % 2 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 16-bits");
      }
      for (var i = 0; i < len; i += 2) {
        swap(this, i, i + 1);
      }
      return this;
    };
    Buffer14.prototype.swap32 = function swap32() {
      var len = this.length;
      if (len % 4 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 32-bits");
      }
      for (var i = 0; i < len; i += 4) {
        swap(this, i, i + 3);
        swap(this, i + 1, i + 2);
      }
      return this;
    };
    Buffer14.prototype.swap64 = function swap64() {
      var len = this.length;
      if (len % 8 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 64-bits");
      }
      for (var i = 0; i < len; i += 8) {
        swap(this, i, i + 7);
        swap(this, i + 1, i + 6);
        swap(this, i + 2, i + 5);
        swap(this, i + 3, i + 4);
      }
      return this;
    };
    Buffer14.prototype.toString = function toString() {
      var length = this.length;
      if (length === 0)
        return "";
      if (arguments.length === 0)
        return utf8Slice(this, 0, length);
      return slowToString.apply(this, arguments);
    };
    Buffer14.prototype.toLocaleString = Buffer14.prototype.toString;
    Buffer14.prototype.equals = function equals(b) {
      if (!Buffer14.isBuffer(b))
        throw new TypeError("Argument must be a Buffer");
      if (this === b)
        return true;
      return Buffer14.compare(this, b) === 0;
    };
    Buffer14.prototype.inspect = function inspect() {
      var str = "";
      var max = exports.INSPECT_MAX_BYTES;
      str = this.toString("hex", 0, max).replace(/(.{2})/g, "$1 ").trim();
      if (this.length > max)
        str += " ... ";
      return "<Buffer " + str + ">";
    };
    if (customInspectSymbol) {
      Buffer14.prototype[customInspectSymbol] = Buffer14.prototype.inspect;
    }
    Buffer14.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
      if (isInstance(target, Uint8Array)) {
        target = Buffer14.from(target, target.offset, target.byteLength);
      }
      if (!Buffer14.isBuffer(target)) {
        throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof target);
      }
      if (start === void 0) {
        start = 0;
      }
      if (end === void 0) {
        end = target ? target.length : 0;
      }
      if (thisStart === void 0) {
        thisStart = 0;
      }
      if (thisEnd === void 0) {
        thisEnd = this.length;
      }
      if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
        throw new RangeError("out of range index");
      }
      if (thisStart >= thisEnd && start >= end) {
        return 0;
      }
      if (thisStart >= thisEnd) {
        return -1;
      }
      if (start >= end) {
        return 1;
      }
      start >>>= 0;
      end >>>= 0;
      thisStart >>>= 0;
      thisEnd >>>= 0;
      if (this === target)
        return 0;
      var x = thisEnd - thisStart;
      var y = end - start;
      var len = Math.min(x, y);
      var thisCopy = this.slice(thisStart, thisEnd);
      var targetCopy = target.slice(start, end);
      for (var i = 0; i < len; ++i) {
        if (thisCopy[i] !== targetCopy[i]) {
          x = thisCopy[i];
          y = targetCopy[i];
          break;
        }
      }
      if (x < y)
        return -1;
      if (y < x)
        return 1;
      return 0;
    };
    function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
      if (buffer.length === 0)
        return -1;
      if (typeof byteOffset === "string") {
        encoding = byteOffset;
        byteOffset = 0;
      } else if (byteOffset > 2147483647) {
        byteOffset = 2147483647;
      } else if (byteOffset < -2147483648) {
        byteOffset = -2147483648;
      }
      byteOffset = +byteOffset;
      if (numberIsNaN(byteOffset)) {
        byteOffset = dir ? 0 : buffer.length - 1;
      }
      if (byteOffset < 0)
        byteOffset = buffer.length + byteOffset;
      if (byteOffset >= buffer.length) {
        if (dir)
          return -1;
        else
          byteOffset = buffer.length - 1;
      } else if (byteOffset < 0) {
        if (dir)
          byteOffset = 0;
        else
          return -1;
      }
      if (typeof val === "string") {
        val = Buffer14.from(val, encoding);
      }
      if (Buffer14.isBuffer(val)) {
        if (val.length === 0) {
          return -1;
        }
        return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
      } else if (typeof val === "number") {
        val = val & 255;
        if (typeof Uint8Array.prototype.indexOf === "function") {
          if (dir) {
            return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);
          } else {
            return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
          }
        }
        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);
      }
      throw new TypeError("val must be string, number or Buffer");
    }
    function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
      var indexSize = 1;
      var arrLength = arr.length;
      var valLength = val.length;
      if (encoding !== void 0) {
        encoding = String(encoding).toLowerCase();
        if (encoding === "ucs2" || encoding === "ucs-2" || encoding === "utf16le" || encoding === "utf-16le") {
          if (arr.length < 2 || val.length < 2) {
            return -1;
          }
          indexSize = 2;
          arrLength /= 2;
          valLength /= 2;
          byteOffset /= 2;
        }
      }
      function read(buf, i2) {
        if (indexSize === 1) {
          return buf[i2];
        } else {
          return buf.readUInt16BE(i2 * indexSize);
        }
      }
      var i;
      if (dir) {
        var foundIndex = -1;
        for (i = byteOffset; i < arrLength; i++) {
          if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
            if (foundIndex === -1)
              foundIndex = i;
            if (i - foundIndex + 1 === valLength)
              return foundIndex * indexSize;
          } else {
            if (foundIndex !== -1)
              i -= i - foundIndex;
            foundIndex = -1;
          }
        }
      } else {
        if (byteOffset + valLength > arrLength)
          byteOffset = arrLength - valLength;
        for (i = byteOffset; i >= 0; i--) {
          var found = true;
          for (var j = 0; j < valLength; j++) {
            if (read(arr, i + j) !== read(val, j)) {
              found = false;
              break;
            }
          }
          if (found)
            return i;
        }
      }
      return -1;
    }
    Buffer14.prototype.includes = function includes(val, byteOffset, encoding) {
      return this.indexOf(val, byteOffset, encoding) !== -1;
    };
    Buffer14.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
      return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
    };
    Buffer14.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
      return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
    };
    function hexWrite(buf, string, offset, length) {
      offset = Number(offset) || 0;
      var remaining = buf.length - offset;
      if (!length) {
        length = remaining;
      } else {
        length = Number(length);
        if (length > remaining) {
          length = remaining;
        }
      }
      var strLen = string.length;
      if (length > strLen / 2) {
        length = strLen / 2;
      }
      for (var i = 0; i < length; ++i) {
        var parsed = parseInt(string.substr(i * 2, 2), 16);
        if (numberIsNaN(parsed))
          return i;
        buf[offset + i] = parsed;
      }
      return i;
    }
    function utf8Write(buf, string, offset, length) {
      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
    }
    function asciiWrite(buf, string, offset, length) {
      return blitBuffer(asciiToBytes(string), buf, offset, length);
    }
    function base64Write(buf, string, offset, length) {
      return blitBuffer(base64ToBytes(string), buf, offset, length);
    }
    function ucs2Write(buf, string, offset, length) {
      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
    }
    Buffer14.prototype.write = function write(string, offset, length, encoding) {
      if (offset === void 0) {
        encoding = "utf8";
        length = this.length;
        offset = 0;
      } else if (length === void 0 && typeof offset === "string") {
        encoding = offset;
        length = this.length;
        offset = 0;
      } else if (isFinite(offset)) {
        offset = offset >>> 0;
        if (isFinite(length)) {
          length = length >>> 0;
          if (encoding === void 0)
            encoding = "utf8";
        } else {
          encoding = length;
          length = void 0;
        }
      } else {
        throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
      }
      var remaining = this.length - offset;
      if (length === void 0 || length > remaining)
        length = remaining;
      if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
        throw new RangeError("Attempt to write outside buffer bounds");
      }
      if (!encoding)
        encoding = "utf8";
      var loweredCase = false;
      for (; ; ) {
        switch (encoding) {
          case "hex":
            return hexWrite(this, string, offset, length);
          case "utf8":
          case "utf-8":
            return utf8Write(this, string, offset, length);
          case "ascii":
          case "latin1":
          case "binary":
            return asciiWrite(this, string, offset, length);
          case "base64":
            return base64Write(this, string, offset, length);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return ucs2Write(this, string, offset, length);
          default:
            if (loweredCase)
              throw new TypeError("Unknown encoding: " + encoding);
            encoding = ("" + encoding).toLowerCase();
            loweredCase = true;
        }
      }
    };
    Buffer14.prototype.toJSON = function toJSON() {
      return {
        type: "Buffer",
        data: Array.prototype.slice.call(this._arr || this, 0)
      };
    };
    function base64Slice(buf, start, end) {
      if (start === 0 && end === buf.length) {
        return base64.fromByteArray(buf);
      } else {
        return base64.fromByteArray(buf.slice(start, end));
      }
    }
    function utf8Slice(buf, start, end) {
      end = Math.min(buf.length, end);
      var res = [];
      var i = start;
      while (i < end) {
        var firstByte = buf[i];
        var codePoint = null;
        var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
        if (i + bytesPerSequence <= end) {
          var secondByte, thirdByte, fourthByte, tempCodePoint;
          switch (bytesPerSequence) {
            case 1:
              if (firstByte < 128) {
                codePoint = firstByte;
              }
              break;
            case 2:
              secondByte = buf[i + 1];
              if ((secondByte & 192) === 128) {
                tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;
                if (tempCodePoint > 127) {
                  codePoint = tempCodePoint;
                }
              }
              break;
            case 3:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {
                tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;
                if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {
                  codePoint = tempCodePoint;
                }
              }
              break;
            case 4:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              fourthByte = buf[i + 3];
              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {
                tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;
                if (tempCodePoint > 65535 && tempCodePoint < 1114112) {
                  codePoint = tempCodePoint;
                }
              }
          }
        }
        if (codePoint === null) {
          codePoint = 65533;
          bytesPerSequence = 1;
        } else if (codePoint > 65535) {
          codePoint -= 65536;
          res.push(codePoint >>> 10 & 1023 | 55296);
          codePoint = 56320 | codePoint & 1023;
        }
        res.push(codePoint);
        i += bytesPerSequence;
      }
      return decodeCodePointsArray(res);
    }
    var MAX_ARGUMENTS_LENGTH = 4096;
    function decodeCodePointsArray(codePoints) {
      var len = codePoints.length;
      if (len <= MAX_ARGUMENTS_LENGTH) {
        return String.fromCharCode.apply(String, codePoints);
      }
      var res = "";
      var i = 0;
      while (i < len) {
        res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));
      }
      return res;
    }
    function asciiSlice(buf, start, end) {
      var ret = "";
      end = Math.min(buf.length, end);
      for (var i = start; i < end; ++i) {
        ret += String.fromCharCode(buf[i] & 127);
      }
      return ret;
    }
    function latin1Slice(buf, start, end) {
      var ret = "";
      end = Math.min(buf.length, end);
      for (var i = start; i < end; ++i) {
        ret += String.fromCharCode(buf[i]);
      }
      return ret;
    }
    function hexSlice(buf, start, end) {
      var len = buf.length;
      if (!start || start < 0)
        start = 0;
      if (!end || end < 0 || end > len)
        end = len;
      var out = "";
      for (var i = start; i < end; ++i) {
        out += hexSliceLookupTable[buf[i]];
      }
      return out;
    }
    function utf16leSlice(buf, start, end) {
      var bytes = buf.slice(start, end);
      var res = "";
      for (var i = 0; i < bytes.length - 1; i += 2) {
        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
      }
      return res;
    }
    Buffer14.prototype.slice = function slice(start, end) {
      var len = this.length;
      start = ~~start;
      end = end === void 0 ? len : ~~end;
      if (start < 0) {
        start += len;
        if (start < 0)
          start = 0;
      } else if (start > len) {
        start = len;
      }
      if (end < 0) {
        end += len;
        if (end < 0)
          end = 0;
      } else if (end > len) {
        end = len;
      }
      if (end < start)
        end = start;
      var newBuf = this.subarray(start, end);
      Object.setPrototypeOf(newBuf, Buffer14.prototype);
      return newBuf;
    };
    function checkOffset(offset, ext, length) {
      if (offset % 1 !== 0 || offset < 0)
        throw new RangeError("offset is not uint");
      if (offset + ext > length)
        throw new RangeError("Trying to access beyond buffer length");
    }
    Buffer14.prototype.readUintLE = Buffer14.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var val = this[offset];
      var mul = 1;
      var i = 0;
      while (++i < byteLength2 && (mul *= 256)) {
        val += this[offset + i] * mul;
      }
      return val;
    };
    Buffer14.prototype.readUintBE = Buffer14.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert) {
        checkOffset(offset, byteLength2, this.length);
      }
      var val = this[offset + --byteLength2];
      var mul = 1;
      while (byteLength2 > 0 && (mul *= 256)) {
        val += this[offset + --byteLength2] * mul;
      }
      return val;
    };
    Buffer14.prototype.readUint8 = Buffer14.prototype.readUInt8 = function readUInt8(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 1, this.length);
      return this[offset];
    };
    Buffer14.prototype.readUint16LE = Buffer14.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      return this[offset] | this[offset + 1] << 8;
    };
    Buffer14.prototype.readUint16BE = Buffer14.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      return this[offset] << 8 | this[offset + 1];
    };
    Buffer14.prototype.readUint32LE = Buffer14.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;
    };
    Buffer14.prototype.readUint32BE = Buffer14.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
    };
    Buffer14.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var val = this[offset];
      var mul = 1;
      var i = 0;
      while (++i < byteLength2 && (mul *= 256)) {
        val += this[offset + i] * mul;
      }
      mul *= 128;
      if (val >= mul)
        val -= Math.pow(2, 8 * byteLength2);
      return val;
    };
    Buffer14.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var i = byteLength2;
      var mul = 1;
      var val = this[offset + --i];
      while (i > 0 && (mul *= 256)) {
        val += this[offset + --i] * mul;
      }
      mul *= 128;
      if (val >= mul)
        val -= Math.pow(2, 8 * byteLength2);
      return val;
    };
    Buffer14.prototype.readInt8 = function readInt8(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 1, this.length);
      if (!(this[offset] & 128))
        return this[offset];
      return (255 - this[offset] + 1) * -1;
    };
    Buffer14.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      var val = this[offset] | this[offset + 1] << 8;
      return val & 32768 ? val | 4294901760 : val;
    };
    Buffer14.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      var val = this[offset + 1] | this[offset] << 8;
      return val & 32768 ? val | 4294901760 : val;
    };
    Buffer14.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
    };
    Buffer14.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
    };
    Buffer14.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return ieee754.read(this, offset, true, 23, 4);
    };
    Buffer14.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return ieee754.read(this, offset, false, 23, 4);
    };
    Buffer14.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 8, this.length);
      return ieee754.read(this, offset, true, 52, 8);
    };
    Buffer14.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
      offset = offset >>> 0;
      if (!noAssert)
        checkOffset(offset, 8, this.length);
      return ieee754.read(this, offset, false, 52, 8);
    };
    function checkInt(buf, value, offset, ext, max, min) {
      if (!Buffer14.isBuffer(buf))
        throw new TypeError('"buffer" argument must be a Buffer instance');
      if (value > max || value < min)
        throw new RangeError('"value" argument is out of bounds');
      if (offset + ext > buf.length)
        throw new RangeError("Index out of range");
    }
    Buffer14.prototype.writeUintLE = Buffer14.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert) {
        var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
        checkInt(this, value, offset, byteLength2, maxBytes, 0);
      }
      var mul = 1;
      var i = 0;
      this[offset] = value & 255;
      while (++i < byteLength2 && (mul *= 256)) {
        this[offset + i] = value / mul & 255;
      }
      return offset + byteLength2;
    };
    Buffer14.prototype.writeUintBE = Buffer14.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset >>> 0;
      byteLength2 = byteLength2 >>> 0;
      if (!noAssert) {
        var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
        checkInt(this, value, offset, byteLength2, maxBytes, 0);
      }
      var i = byteLength2 - 1;
      var mul = 1;
      this[offset + i] = value & 255;
      while (--i >= 0 && (mul *= 256)) {
        this[offset + i] = value / mul & 255;
      }
      return offset + byteLength2;
    };
    Buffer14.prototype.writeUint8 = Buffer14.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 1, 255, 0);
      this[offset] = value & 255;
      return offset + 1;
    };
    Buffer14.prototype.writeUint16LE = Buffer14.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 65535, 0);
      this[offset] = value & 255;
      this[offset + 1] = value >>> 8;
      return offset + 2;
    };
    Buffer14.prototype.writeUint16BE = Buffer14.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 65535, 0);
      this[offset] = value >>> 8;
      this[offset + 1] = value & 255;
      return offset + 2;
    };
    Buffer14.prototype.writeUint32LE = Buffer14.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 4294967295, 0);
      this[offset + 3] = value >>> 24;
      this[offset + 2] = value >>> 16;
      this[offset + 1] = value >>> 8;
      this[offset] = value & 255;
      return offset + 4;
    };
    Buffer14.prototype.writeUint32BE = Buffer14.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 4294967295, 0);
      this[offset] = value >>> 24;
      this[offset + 1] = value >>> 16;
      this[offset + 2] = value >>> 8;
      this[offset + 3] = value & 255;
      return offset + 4;
    };
    Buffer14.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert) {
        var limit = Math.pow(2, 8 * byteLength2 - 1);
        checkInt(this, value, offset, byteLength2, limit - 1, -limit);
      }
      var i = 0;
      var mul = 1;
      var sub = 0;
      this[offset] = value & 255;
      while (++i < byteLength2 && (mul *= 256)) {
        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
          sub = 1;
        }
        this[offset + i] = (value / mul >> 0) - sub & 255;
      }
      return offset + byteLength2;
    };
    Buffer14.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert) {
        var limit = Math.pow(2, 8 * byteLength2 - 1);
        checkInt(this, value, offset, byteLength2, limit - 1, -limit);
      }
      var i = byteLength2 - 1;
      var mul = 1;
      var sub = 0;
      this[offset + i] = value & 255;
      while (--i >= 0 && (mul *= 256)) {
        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
          sub = 1;
        }
        this[offset + i] = (value / mul >> 0) - sub & 255;
      }
      return offset + byteLength2;
    };
    Buffer14.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 1, 127, -128);
      if (value < 0)
        value = 255 + value + 1;
      this[offset] = value & 255;
      return offset + 1;
    };
    Buffer14.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 32767, -32768);
      this[offset] = value & 255;
      this[offset + 1] = value >>> 8;
      return offset + 2;
    };
    Buffer14.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 32767, -32768);
      this[offset] = value >>> 8;
      this[offset + 1] = value & 255;
      return offset + 2;
    };
    Buffer14.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 2147483647, -2147483648);
      this[offset] = value & 255;
      this[offset + 1] = value >>> 8;
      this[offset + 2] = value >>> 16;
      this[offset + 3] = value >>> 24;
      return offset + 4;
    };
    Buffer14.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 2147483647, -2147483648);
      if (value < 0)
        value = 4294967295 + value + 1;
      this[offset] = value >>> 24;
      this[offset + 1] = value >>> 16;
      this[offset + 2] = value >>> 8;
      this[offset + 3] = value & 255;
      return offset + 4;
    };
    function checkIEEE754(buf, value, offset, ext, max, min) {
      if (offset + ext > buf.length)
        throw new RangeError("Index out of range");
      if (offset < 0)
        throw new RangeError("Index out of range");
    }
    function writeFloat(buf, value, offset, littleEndian, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert) {
        checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
      }
      ieee754.write(buf, value, offset, littleEndian, 23, 4);
      return offset + 4;
    }
    Buffer14.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
      return writeFloat(this, value, offset, true, noAssert);
    };
    Buffer14.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
      return writeFloat(this, value, offset, false, noAssert);
    };
    function writeDouble(buf, value, offset, littleEndian, noAssert) {
      value = +value;
      offset = offset >>> 0;
      if (!noAssert) {
        checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
      }
      ieee754.write(buf, value, offset, littleEndian, 52, 8);
      return offset + 8;
    }
    Buffer14.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
      return writeDouble(this, value, offset, true, noAssert);
    };
    Buffer14.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
      return writeDouble(this, value, offset, false, noAssert);
    };
    Buffer14.prototype.copy = function copy(target, targetStart, start, end) {
      if (!Buffer14.isBuffer(target))
        throw new TypeError("argument should be a Buffer");
      if (!start)
        start = 0;
      if (!end && end !== 0)
        end = this.length;
      if (targetStart >= target.length)
        targetStart = target.length;
      if (!targetStart)
        targetStart = 0;
      if (end > 0 && end < start)
        end = start;
      if (end === start)
        return 0;
      if (target.length === 0 || this.length === 0)
        return 0;
      if (targetStart < 0) {
        throw new RangeError("targetStart out of bounds");
      }
      if (start < 0 || start >= this.length)
        throw new RangeError("Index out of range");
      if (end < 0)
        throw new RangeError("sourceEnd out of bounds");
      if (end > this.length)
        end = this.length;
      if (target.length - targetStart < end - start) {
        end = target.length - targetStart + start;
      }
      var len = end - start;
      if (this === target && typeof Uint8Array.prototype.copyWithin === "function") {
        this.copyWithin(targetStart, start, end);
      } else {
        Uint8Array.prototype.set.call(target, this.subarray(start, end), targetStart);
      }
      return len;
    };
    Buffer14.prototype.fill = function fill(val, start, end, encoding) {
      if (typeof val === "string") {
        if (typeof start === "string") {
          encoding = start;
          start = 0;
          end = this.length;
        } else if (typeof end === "string") {
          encoding = end;
          end = this.length;
        }
        if (encoding !== void 0 && typeof encoding !== "string") {
          throw new TypeError("encoding must be a string");
        }
        if (typeof encoding === "string" && !Buffer14.isEncoding(encoding)) {
          throw new TypeError("Unknown encoding: " + encoding);
        }
        if (val.length === 1) {
          var code = val.charCodeAt(0);
          if (encoding === "utf8" && code < 128 || encoding === "latin1") {
            val = code;
          }
        }
      } else if (typeof val === "number") {
        val = val & 255;
      } else if (typeof val === "boolean") {
        val = Number(val);
      }
      if (start < 0 || this.length < start || this.length < end) {
        throw new RangeError("Out of range index");
      }
      if (end <= start) {
        return this;
      }
      start = start >>> 0;
      end = end === void 0 ? this.length : end >>> 0;
      if (!val)
        val = 0;
      var i;
      if (typeof val === "number") {
        for (i = start; i < end; ++i) {
          this[i] = val;
        }
      } else {
        var bytes = Buffer14.isBuffer(val) ? val : Buffer14.from(val, encoding);
        var len = bytes.length;
        if (len === 0) {
          throw new TypeError('The value "' + val + '" is invalid for argument "value"');
        }
        for (i = 0; i < end - start; ++i) {
          this[i + start] = bytes[i % len];
        }
      }
      return this;
    };
    var INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;
    function base64clean(str) {
      str = str.split("=")[0];
      str = str.trim().replace(INVALID_BASE64_RE, "");
      if (str.length < 2)
        return "";
      while (str.length % 4 !== 0) {
        str = str + "=";
      }
      return str;
    }
    function utf8ToBytes(string, units) {
      units = units || Infinity;
      var codePoint;
      var length = string.length;
      var leadSurrogate = null;
      var bytes = [];
      for (var i = 0; i < length; ++i) {
        codePoint = string.charCodeAt(i);
        if (codePoint > 55295 && codePoint < 57344) {
          if (!leadSurrogate) {
            if (codePoint > 56319) {
              if ((units -= 3) > -1)
                bytes.push(239, 191, 189);
              continue;
            } else if (i + 1 === length) {
              if ((units -= 3) > -1)
                bytes.push(239, 191, 189);
              continue;
            }
            leadSurrogate = codePoint;
            continue;
          }
          if (codePoint < 56320) {
            if ((units -= 3) > -1)
              bytes.push(239, 191, 189);
            leadSurrogate = codePoint;
            continue;
          }
          codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;
        } else if (leadSurrogate) {
          if ((units -= 3) > -1)
            bytes.push(239, 191, 189);
        }
        leadSurrogate = null;
        if (codePoint < 128) {
          if ((units -= 1) < 0)
            break;
          bytes.push(codePoint);
        } else if (codePoint < 2048) {
          if ((units -= 2) < 0)
            break;
          bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);
        } else if (codePoint < 65536) {
          if ((units -= 3) < 0)
            break;
          bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);
        } else if (codePoint < 1114112) {
          if ((units -= 4) < 0)
            break;
          bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);
        } else {
          throw new Error("Invalid code point");
        }
      }
      return bytes;
    }
    function asciiToBytes(str) {
      var byteArray = [];
      for (var i = 0; i < str.length; ++i) {
        byteArray.push(str.charCodeAt(i) & 255);
      }
      return byteArray;
    }
    function utf16leToBytes(str, units) {
      var c, hi, lo;
      var byteArray = [];
      for (var i = 0; i < str.length; ++i) {
        if ((units -= 2) < 0)
          break;
        c = str.charCodeAt(i);
        hi = c >> 8;
        lo = c % 256;
        byteArray.push(lo);
        byteArray.push(hi);
      }
      return byteArray;
    }
    function base64ToBytes(str) {
      return base64.toByteArray(base64clean(str));
    }
    function blitBuffer(src, dst, offset, length) {
      for (var i = 0; i < length; ++i) {
        if (i + offset >= dst.length || i >= src.length)
          break;
        dst[i + offset] = src[i];
      }
      return i;
    }
    function isInstance(obj, type) {
      return obj instanceof type || obj != null && obj.constructor != null && obj.constructor.name != null && obj.constructor.name === type.name;
    }
    function numberIsNaN(obj) {
      return obj !== obj;
    }
    var hexSliceLookupTable = function() {
      var alphabet = "0123456789abcdef";
      var table = new Array(256);
      for (var i = 0; i < 16; ++i) {
        var i16 = i * 16;
        for (var j = 0; j < 16; ++j) {
          table[i16 + j] = alphabet[i] + alphabet[j];
        }
      }
      return table;
    }();
  }
});

// node_modules/crc/create_buffer.js
var import_buffer, createBuffer, create_buffer_default;
var init_create_buffer = __esm({
  "node_modules/crc/create_buffer.js"() {
    init_define_process_env();
    import_buffer = __toESM(require_buffer2());
    createBuffer = import_buffer.Buffer.from && import_buffer.Buffer.alloc && import_buffer.Buffer.allocUnsafe && import_buffer.Buffer.allocUnsafeSlow ? import_buffer.Buffer.from : (val) => new import_buffer.Buffer(val);
    create_buffer_default = createBuffer;
  }
});

// node_modules/crc/define_crc.js
function define_crc_default(model, calc) {
  const fn = (buf, previous) => calc(buf, previous) >>> 0;
  fn.signed = calc;
  fn.unsigned = fn;
  fn.model = model;
  return fn;
}
var init_define_crc = __esm({
  "node_modules/crc/define_crc.js"() {
    init_define_process_env();
  }
});

// node_modules/crc/crc1.js
var import_buffer2, crc1, crc1_default;
var init_crc1 = __esm({
  "node_modules/crc/crc1.js"() {
    init_define_process_env();
    import_buffer2 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    crc1 = define_crc_default("crc1", function(buf, previous) {
      if (!import_buffer2.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = ~~previous;
      let accum = 0;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        accum += byte;
      }
      crc += accum % 256;
      return crc % 256;
    });
    crc1_default = crc1;
  }
});

// node_modules/crc/crc8.js
var import_buffer3, TABLE, crc8, crc8_default;
var init_crc8 = __esm({
  "node_modules/crc/crc8.js"() {
    init_define_process_env();
    import_buffer3 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE = [
      0,
      7,
      14,
      9,
      28,
      27,
      18,
      21,
      56,
      63,
      54,
      49,
      36,
      35,
      42,
      45,
      112,
      119,
      126,
      121,
      108,
      107,
      98,
      101,
      72,
      79,
      70,
      65,
      84,
      83,
      90,
      93,
      224,
      231,
      238,
      233,
      252,
      251,
      242,
      245,
      216,
      223,
      214,
      209,
      196,
      195,
      202,
      205,
      144,
      151,
      158,
      153,
      140,
      139,
      130,
      133,
      168,
      175,
      166,
      161,
      180,
      179,
      186,
      189,
      199,
      192,
      201,
      206,
      219,
      220,
      213,
      210,
      255,
      248,
      241,
      246,
      227,
      228,
      237,
      234,
      183,
      176,
      185,
      190,
      171,
      172,
      165,
      162,
      143,
      136,
      129,
      134,
      147,
      148,
      157,
      154,
      39,
      32,
      41,
      46,
      59,
      60,
      53,
      50,
      31,
      24,
      17,
      22,
      3,
      4,
      13,
      10,
      87,
      80,
      89,
      94,
      75,
      76,
      69,
      66,
      111,
      104,
      97,
      102,
      115,
      116,
      125,
      122,
      137,
      142,
      135,
      128,
      149,
      146,
      155,
      156,
      177,
      182,
      191,
      184,
      173,
      170,
      163,
      164,
      249,
      254,
      247,
      240,
      229,
      226,
      235,
      236,
      193,
      198,
      207,
      200,
      221,
      218,
      211,
      212,
      105,
      110,
      103,
      96,
      117,
      114,
      123,
      124,
      81,
      86,
      95,
      88,
      77,
      74,
      67,
      68,
      25,
      30,
      23,
      16,
      5,
      2,
      11,
      12,
      33,
      38,
      47,
      40,
      61,
      58,
      51,
      52,
      78,
      73,
      64,
      71,
      82,
      85,
      92,
      91,
      118,
      113,
      120,
      127,
      106,
      109,
      100,
      99,
      62,
      57,
      48,
      55,
      34,
      37,
      44,
      43,
      6,
      1,
      8,
      15,
      26,
      29,
      20,
      19,
      174,
      169,
      160,
      167,
      178,
      181,
      188,
      187,
      150,
      145,
      152,
      159,
      138,
      141,
      132,
      131,
      222,
      217,
      208,
      215,
      194,
      197,
      204,
      203,
      230,
      225,
      232,
      239,
      250,
      253,
      244,
      243
    ];
    if (typeof Int32Array !== "undefined")
      TABLE = new Int32Array(TABLE);
    crc8 = define_crc_default("crc-8", function(buf, previous) {
      if (!import_buffer3.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = ~~previous;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = TABLE[(crc ^ byte) & 255] & 255;
      }
      return crc;
    });
    crc8_default = crc8;
  }
});

// node_modules/crc/crc81wire.js
var import_buffer4, TABLE2, crc81wire, crc81wire_default;
var init_crc81wire = __esm({
  "node_modules/crc/crc81wire.js"() {
    init_define_process_env();
    import_buffer4 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE2 = [
      0,
      94,
      188,
      226,
      97,
      63,
      221,
      131,
      194,
      156,
      126,
      32,
      163,
      253,
      31,
      65,
      157,
      195,
      33,
      127,
      252,
      162,
      64,
      30,
      95,
      1,
      227,
      189,
      62,
      96,
      130,
      220,
      35,
      125,
      159,
      193,
      66,
      28,
      254,
      160,
      225,
      191,
      93,
      3,
      128,
      222,
      60,
      98,
      190,
      224,
      2,
      92,
      223,
      129,
      99,
      61,
      124,
      34,
      192,
      158,
      29,
      67,
      161,
      255,
      70,
      24,
      250,
      164,
      39,
      121,
      155,
      197,
      132,
      218,
      56,
      102,
      229,
      187,
      89,
      7,
      219,
      133,
      103,
      57,
      186,
      228,
      6,
      88,
      25,
      71,
      165,
      251,
      120,
      38,
      196,
      154,
      101,
      59,
      217,
      135,
      4,
      90,
      184,
      230,
      167,
      249,
      27,
      69,
      198,
      152,
      122,
      36,
      248,
      166,
      68,
      26,
      153,
      199,
      37,
      123,
      58,
      100,
      134,
      216,
      91,
      5,
      231,
      185,
      140,
      210,
      48,
      110,
      237,
      179,
      81,
      15,
      78,
      16,
      242,
      172,
      47,
      113,
      147,
      205,
      17,
      79,
      173,
      243,
      112,
      46,
      204,
      146,
      211,
      141,
      111,
      49,
      178,
      236,
      14,
      80,
      175,
      241,
      19,
      77,
      206,
      144,
      114,
      44,
      109,
      51,
      209,
      143,
      12,
      82,
      176,
      238,
      50,
      108,
      142,
      208,
      83,
      13,
      239,
      177,
      240,
      174,
      76,
      18,
      145,
      207,
      45,
      115,
      202,
      148,
      118,
      40,
      171,
      245,
      23,
      73,
      8,
      86,
      180,
      234,
      105,
      55,
      213,
      139,
      87,
      9,
      235,
      181,
      54,
      104,
      138,
      212,
      149,
      203,
      41,
      119,
      244,
      170,
      72,
      22,
      233,
      183,
      85,
      11,
      136,
      214,
      52,
      106,
      43,
      117,
      151,
      201,
      74,
      20,
      246,
      168,
      116,
      42,
      200,
      150,
      21,
      75,
      169,
      247,
      182,
      232,
      10,
      84,
      215,
      137,
      107,
      53
    ];
    if (typeof Int32Array !== "undefined")
      TABLE2 = new Int32Array(TABLE2);
    crc81wire = define_crc_default("dallas-1-wire", function(buf, previous) {
      if (!import_buffer4.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = ~~previous;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = TABLE2[(crc ^ byte) & 255] & 255;
      }
      return crc;
    });
    crc81wire_default = crc81wire;
  }
});

// node_modules/crc/crc16.js
var import_buffer5, TABLE3, crc16, crc16_default;
var init_crc16 = __esm({
  "node_modules/crc/crc16.js"() {
    init_define_process_env();
    import_buffer5 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE3 = [
      0,
      49345,
      49537,
      320,
      49921,
      960,
      640,
      49729,
      50689,
      1728,
      1920,
      51009,
      1280,
      50625,
      50305,
      1088,
      52225,
      3264,
      3456,
      52545,
      3840,
      53185,
      52865,
      3648,
      2560,
      51905,
      52097,
      2880,
      51457,
      2496,
      2176,
      51265,
      55297,
      6336,
      6528,
      55617,
      6912,
      56257,
      55937,
      6720,
      7680,
      57025,
      57217,
      8e3,
      56577,
      7616,
      7296,
      56385,
      5120,
      54465,
      54657,
      5440,
      55041,
      6080,
      5760,
      54849,
      53761,
      4800,
      4992,
      54081,
      4352,
      53697,
      53377,
      4160,
      61441,
      12480,
      12672,
      61761,
      13056,
      62401,
      62081,
      12864,
      13824,
      63169,
      63361,
      14144,
      62721,
      13760,
      13440,
      62529,
      15360,
      64705,
      64897,
      15680,
      65281,
      16320,
      16e3,
      65089,
      64001,
      15040,
      15232,
      64321,
      14592,
      63937,
      63617,
      14400,
      10240,
      59585,
      59777,
      10560,
      60161,
      11200,
      10880,
      59969,
      60929,
      11968,
      12160,
      61249,
      11520,
      60865,
      60545,
      11328,
      58369,
      9408,
      9600,
      58689,
      9984,
      59329,
      59009,
      9792,
      8704,
      58049,
      58241,
      9024,
      57601,
      8640,
      8320,
      57409,
      40961,
      24768,
      24960,
      41281,
      25344,
      41921,
      41601,
      25152,
      26112,
      42689,
      42881,
      26432,
      42241,
      26048,
      25728,
      42049,
      27648,
      44225,
      44417,
      27968,
      44801,
      28608,
      28288,
      44609,
      43521,
      27328,
      27520,
      43841,
      26880,
      43457,
      43137,
      26688,
      30720,
      47297,
      47489,
      31040,
      47873,
      31680,
      31360,
      47681,
      48641,
      32448,
      32640,
      48961,
      32e3,
      48577,
      48257,
      31808,
      46081,
      29888,
      30080,
      46401,
      30464,
      47041,
      46721,
      30272,
      29184,
      45761,
      45953,
      29504,
      45313,
      29120,
      28800,
      45121,
      20480,
      37057,
      37249,
      20800,
      37633,
      21440,
      21120,
      37441,
      38401,
      22208,
      22400,
      38721,
      21760,
      38337,
      38017,
      21568,
      39937,
      23744,
      23936,
      40257,
      24320,
      40897,
      40577,
      24128,
      23040,
      39617,
      39809,
      23360,
      39169,
      22976,
      22656,
      38977,
      34817,
      18624,
      18816,
      35137,
      19200,
      35777,
      35457,
      19008,
      19968,
      36545,
      36737,
      20288,
      36097,
      19904,
      19584,
      35905,
      17408,
      33985,
      34177,
      17728,
      34561,
      18368,
      18048,
      34369,
      33281,
      17088,
      17280,
      33601,
      16640,
      33217,
      32897,
      16448
    ];
    if (typeof Int32Array !== "undefined")
      TABLE3 = new Int32Array(TABLE3);
    crc16 = define_crc_default("crc-16", function(buf, previous) {
      if (!import_buffer5.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = ~~previous;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = (TABLE3[(crc ^ byte) & 255] ^ crc >> 8) & 65535;
      }
      return crc;
    });
    crc16_default = crc16;
  }
});

// node_modules/crc/crc16ccitt.js
var import_buffer6, TABLE4, crc16ccitt, crc16ccitt_default;
var init_crc16ccitt = __esm({
  "node_modules/crc/crc16ccitt.js"() {
    init_define_process_env();
    import_buffer6 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE4 = [
      0,
      4129,
      8258,
      12387,
      16516,
      20645,
      24774,
      28903,
      33032,
      37161,
      41290,
      45419,
      49548,
      53677,
      57806,
      61935,
      4657,
      528,
      12915,
      8786,
      21173,
      17044,
      29431,
      25302,
      37689,
      33560,
      45947,
      41818,
      54205,
      50076,
      62463,
      58334,
      9314,
      13379,
      1056,
      5121,
      25830,
      29895,
      17572,
      21637,
      42346,
      46411,
      34088,
      38153,
      58862,
      62927,
      50604,
      54669,
      13907,
      9842,
      5649,
      1584,
      30423,
      26358,
      22165,
      18100,
      46939,
      42874,
      38681,
      34616,
      63455,
      59390,
      55197,
      51132,
      18628,
      22757,
      26758,
      30887,
      2112,
      6241,
      10242,
      14371,
      51660,
      55789,
      59790,
      63919,
      35144,
      39273,
      43274,
      47403,
      23285,
      19156,
      31415,
      27286,
      6769,
      2640,
      14899,
      10770,
      56317,
      52188,
      64447,
      60318,
      39801,
      35672,
      47931,
      43802,
      27814,
      31879,
      19684,
      23749,
      11298,
      15363,
      3168,
      7233,
      60846,
      64911,
      52716,
      56781,
      44330,
      48395,
      36200,
      40265,
      32407,
      28342,
      24277,
      20212,
      15891,
      11826,
      7761,
      3696,
      65439,
      61374,
      57309,
      53244,
      48923,
      44858,
      40793,
      36728,
      37256,
      33193,
      45514,
      41451,
      53516,
      49453,
      61774,
      57711,
      4224,
      161,
      12482,
      8419,
      20484,
      16421,
      28742,
      24679,
      33721,
      37784,
      41979,
      46042,
      49981,
      54044,
      58239,
      62302,
      689,
      4752,
      8947,
      13010,
      16949,
      21012,
      25207,
      29270,
      46570,
      42443,
      38312,
      34185,
      62830,
      58703,
      54572,
      50445,
      13538,
      9411,
      5280,
      1153,
      29798,
      25671,
      21540,
      17413,
      42971,
      47098,
      34713,
      38840,
      59231,
      63358,
      50973,
      55100,
      9939,
      14066,
      1681,
      5808,
      26199,
      30326,
      17941,
      22068,
      55628,
      51565,
      63758,
      59695,
      39368,
      35305,
      47498,
      43435,
      22596,
      18533,
      30726,
      26663,
      6336,
      2273,
      14466,
      10403,
      52093,
      56156,
      60223,
      64286,
      35833,
      39896,
      43963,
      48026,
      19061,
      23124,
      27191,
      31254,
      2801,
      6864,
      10931,
      14994,
      64814,
      60687,
      56684,
      52557,
      48554,
      44427,
      40424,
      36297,
      31782,
      27655,
      23652,
      19525,
      15522,
      11395,
      7392,
      3265,
      61215,
      65342,
      53085,
      57212,
      44955,
      49082,
      36825,
      40952,
      28183,
      32310,
      20053,
      24180,
      11923,
      16050,
      3793,
      7920
    ];
    if (typeof Int32Array !== "undefined")
      TABLE4 = new Int32Array(TABLE4);
    crc16ccitt = define_crc_default("ccitt", function(buf, previous) {
      if (!import_buffer6.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = typeof previous !== "undefined" ? ~~previous : 65535;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = (TABLE4[(crc >> 8 ^ byte) & 255] ^ crc << 8) & 65535;
      }
      return crc;
    });
    crc16ccitt_default = crc16ccitt;
  }
});

// node_modules/crc/crc16modbus.js
var import_buffer7, TABLE5, crc16modbus, crc16modbus_default;
var init_crc16modbus = __esm({
  "node_modules/crc/crc16modbus.js"() {
    init_define_process_env();
    import_buffer7 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE5 = [
      0,
      49345,
      49537,
      320,
      49921,
      960,
      640,
      49729,
      50689,
      1728,
      1920,
      51009,
      1280,
      50625,
      50305,
      1088,
      52225,
      3264,
      3456,
      52545,
      3840,
      53185,
      52865,
      3648,
      2560,
      51905,
      52097,
      2880,
      51457,
      2496,
      2176,
      51265,
      55297,
      6336,
      6528,
      55617,
      6912,
      56257,
      55937,
      6720,
      7680,
      57025,
      57217,
      8e3,
      56577,
      7616,
      7296,
      56385,
      5120,
      54465,
      54657,
      5440,
      55041,
      6080,
      5760,
      54849,
      53761,
      4800,
      4992,
      54081,
      4352,
      53697,
      53377,
      4160,
      61441,
      12480,
      12672,
      61761,
      13056,
      62401,
      62081,
      12864,
      13824,
      63169,
      63361,
      14144,
      62721,
      13760,
      13440,
      62529,
      15360,
      64705,
      64897,
      15680,
      65281,
      16320,
      16e3,
      65089,
      64001,
      15040,
      15232,
      64321,
      14592,
      63937,
      63617,
      14400,
      10240,
      59585,
      59777,
      10560,
      60161,
      11200,
      10880,
      59969,
      60929,
      11968,
      12160,
      61249,
      11520,
      60865,
      60545,
      11328,
      58369,
      9408,
      9600,
      58689,
      9984,
      59329,
      59009,
      9792,
      8704,
      58049,
      58241,
      9024,
      57601,
      8640,
      8320,
      57409,
      40961,
      24768,
      24960,
      41281,
      25344,
      41921,
      41601,
      25152,
      26112,
      42689,
      42881,
      26432,
      42241,
      26048,
      25728,
      42049,
      27648,
      44225,
      44417,
      27968,
      44801,
      28608,
      28288,
      44609,
      43521,
      27328,
      27520,
      43841,
      26880,
      43457,
      43137,
      26688,
      30720,
      47297,
      47489,
      31040,
      47873,
      31680,
      31360,
      47681,
      48641,
      32448,
      32640,
      48961,
      32e3,
      48577,
      48257,
      31808,
      46081,
      29888,
      30080,
      46401,
      30464,
      47041,
      46721,
      30272,
      29184,
      45761,
      45953,
      29504,
      45313,
      29120,
      28800,
      45121,
      20480,
      37057,
      37249,
      20800,
      37633,
      21440,
      21120,
      37441,
      38401,
      22208,
      22400,
      38721,
      21760,
      38337,
      38017,
      21568,
      39937,
      23744,
      23936,
      40257,
      24320,
      40897,
      40577,
      24128,
      23040,
      39617,
      39809,
      23360,
      39169,
      22976,
      22656,
      38977,
      34817,
      18624,
      18816,
      35137,
      19200,
      35777,
      35457,
      19008,
      19968,
      36545,
      36737,
      20288,
      36097,
      19904,
      19584,
      35905,
      17408,
      33985,
      34177,
      17728,
      34561,
      18368,
      18048,
      34369,
      33281,
      17088,
      17280,
      33601,
      16640,
      33217,
      32897,
      16448
    ];
    if (typeof Int32Array !== "undefined")
      TABLE5 = new Int32Array(TABLE5);
    crc16modbus = define_crc_default("crc-16-modbus", function(buf, previous) {
      if (!import_buffer7.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = typeof previous !== "undefined" ? ~~previous : 65535;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = (TABLE5[(crc ^ byte) & 255] ^ crc >> 8) & 65535;
      }
      return crc;
    });
    crc16modbus_default = crc16modbus;
  }
});

// node_modules/crc/crc16xmodem.js
var import_buffer8, crc16xmodem, crc16xmodem_default;
var init_crc16xmodem = __esm({
  "node_modules/crc/crc16xmodem.js"() {
    init_define_process_env();
    import_buffer8 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    crc16xmodem = define_crc_default("xmodem", function(buf, previous) {
      if (!import_buffer8.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = typeof previous !== "undefined" ? ~~previous : 0;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        let code = crc >>> 8 & 255;
        code ^= byte & 255;
        code ^= code >>> 4;
        crc = crc << 8 & 65535;
        crc ^= code;
        code = code << 5 & 65535;
        crc ^= code;
        code = code << 7 & 65535;
        crc ^= code;
      }
      return crc;
    });
    crc16xmodem_default = crc16xmodem;
  }
});

// node_modules/crc/crc16kermit.js
var import_buffer9, TABLE6, crc16kermit, crc16kermit_default;
var init_crc16kermit = __esm({
  "node_modules/crc/crc16kermit.js"() {
    init_define_process_env();
    import_buffer9 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE6 = [
      0,
      4489,
      8978,
      12955,
      17956,
      22445,
      25910,
      29887,
      35912,
      40385,
      44890,
      48851,
      51820,
      56293,
      59774,
      63735,
      4225,
      264,
      13203,
      8730,
      22181,
      18220,
      30135,
      25662,
      40137,
      36160,
      49115,
      44626,
      56045,
      52068,
      63999,
      59510,
      8450,
      12427,
      528,
      5017,
      26406,
      30383,
      17460,
      21949,
      44362,
      48323,
      36440,
      40913,
      60270,
      64231,
      51324,
      55797,
      12675,
      8202,
      4753,
      792,
      30631,
      26158,
      21685,
      17724,
      48587,
      44098,
      40665,
      36688,
      64495,
      60006,
      55549,
      51572,
      16900,
      21389,
      24854,
      28831,
      1056,
      5545,
      10034,
      14011,
      52812,
      57285,
      60766,
      64727,
      34920,
      39393,
      43898,
      47859,
      21125,
      17164,
      29079,
      24606,
      5281,
      1320,
      14259,
      9786,
      57037,
      53060,
      64991,
      60502,
      39145,
      35168,
      48123,
      43634,
      25350,
      29327,
      16404,
      20893,
      9506,
      13483,
      1584,
      6073,
      61262,
      65223,
      52316,
      56789,
      43370,
      47331,
      35448,
      39921,
      29575,
      25102,
      20629,
      16668,
      13731,
      9258,
      5809,
      1848,
      65487,
      60998,
      56541,
      52564,
      47595,
      43106,
      39673,
      35696,
      33800,
      38273,
      42778,
      46739,
      49708,
      54181,
      57662,
      61623,
      2112,
      6601,
      11090,
      15067,
      20068,
      24557,
      28022,
      31999,
      38025,
      34048,
      47003,
      42514,
      53933,
      49956,
      61887,
      57398,
      6337,
      2376,
      15315,
      10842,
      24293,
      20332,
      32247,
      27774,
      42250,
      46211,
      34328,
      38801,
      58158,
      62119,
      49212,
      53685,
      10562,
      14539,
      2640,
      7129,
      28518,
      32495,
      19572,
      24061,
      46475,
      41986,
      38553,
      34576,
      62383,
      57894,
      53437,
      49460,
      14787,
      10314,
      6865,
      2904,
      32743,
      28270,
      23797,
      19836,
      50700,
      55173,
      58654,
      62615,
      32808,
      37281,
      41786,
      45747,
      19012,
      23501,
      26966,
      30943,
      3168,
      7657,
      12146,
      16123,
      54925,
      50948,
      62879,
      58390,
      37033,
      33056,
      46011,
      41522,
      23237,
      19276,
      31191,
      26718,
      7393,
      3432,
      16371,
      11898,
      59150,
      63111,
      50204,
      54677,
      41258,
      45219,
      33336,
      37809,
      27462,
      31439,
      18516,
      23005,
      11618,
      15595,
      3696,
      8185,
      63375,
      58886,
      54429,
      50452,
      45483,
      40994,
      37561,
      33584,
      31687,
      27214,
      22741,
      18780,
      15843,
      11370,
      7921,
      3960
    ];
    if (typeof Int32Array !== "undefined")
      TABLE6 = new Int32Array(TABLE6);
    crc16kermit = define_crc_default("kermit", function(buf, previous) {
      if (!import_buffer9.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = typeof previous !== "undefined" ? ~~previous : 0;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = (TABLE6[(crc ^ byte) & 255] ^ crc >> 8) & 65535;
      }
      return crc;
    });
    crc16kermit_default = crc16kermit;
  }
});

// node_modules/crc/crc24.js
var import_buffer10, TABLE7, crc24, crc24_default;
var init_crc24 = __esm({
  "node_modules/crc/crc24.js"() {
    init_define_process_env();
    import_buffer10 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE7 = [
      0,
      8801531,
      9098509,
      825846,
      9692897,
      1419802,
      1651692,
      10452759,
      10584377,
      2608578,
      2839604,
      11344079,
      3303384,
      11807523,
      12104405,
      4128302,
      12930697,
      4391538,
      5217156,
      13227903,
      5679208,
      13690003,
      14450021,
      5910942,
      6606768,
      14844747,
      15604413,
      6837830,
      16197969,
      7431594,
      8256604,
      16494759,
      840169,
      9084178,
      8783076,
      18463,
      10434312,
      1670131,
      1434117,
      9678590,
      11358416,
      2825259,
      2590173,
      10602790,
      4109873,
      12122826,
      11821884,
      3289031,
      13213536,
      5231515,
      4409965,
      12912278,
      5929345,
      14431610,
      13675660,
      5693559,
      6823513,
      15618722,
      14863188,
      6588335,
      16513208,
      8238147,
      7417269,
      16212302,
      1680338,
      10481449,
      9664223,
      1391140,
      9061683,
      788936,
      36926,
      8838341,
      12067563,
      4091408,
      3340262,
      11844381,
      2868234,
      11372785,
      10555655,
      2579964,
      14478683,
      5939616,
      5650518,
      13661357,
      5180346,
      13190977,
      12967607,
      4428364,
      8219746,
      16457881,
      16234863,
      7468436,
      15633027,
      6866552,
      6578062,
      14816117,
      1405499,
      9649856,
      10463030,
      1698765,
      8819930,
      55329,
      803287,
      9047340,
      11858690,
      3325945,
      4072975,
      12086004,
      2561507,
      10574104,
      11387118,
      2853909,
      13647026,
      5664841,
      5958079,
      14460228,
      4446803,
      12949160,
      13176670,
      5194661,
      7454091,
      16249200,
      16476294,
      8201341,
      14834538,
      6559633,
      6852199,
      15647388,
      3360676,
      11864927,
      12161705,
      4185682,
      10527045,
      2551230,
      2782280,
      11286707,
      9619101,
      1346150,
      1577872,
      10379115,
      73852,
      8875143,
      9172337,
      899466,
      16124205,
      7357910,
      8182816,
      16421083,
      6680524,
      14918455,
      15678145,
      6911546,
      5736468,
      13747439,
      14507289,
      5968354,
      12873461,
      4334094,
      5159928,
      13170435,
      4167245,
      12180150,
      11879232,
      3346363,
      11301036,
      2767959,
      2532769,
      10545498,
      10360692,
      1596303,
      1360505,
      9604738,
      913813,
      9157998,
      8856728,
      92259,
      16439492,
      8164415,
      7343561,
      16138546,
      6897189,
      15692510,
      14936872,
      6662099,
      5986813,
      14488838,
      13733104,
      5750795,
      13156124,
      5174247,
      4352529,
      12855018,
      2810998,
      11315341,
      10498427,
      2522496,
      12124823,
      4148844,
      3397530,
      11901793,
      9135439,
      862644,
      110658,
      8912057,
      1606574,
      10407765,
      9590435,
      1317464,
      15706879,
      6940164,
      6651890,
      14889737,
      8145950,
      16384229,
      16161043,
      7394792,
      5123014,
      13133629,
      12910283,
      4370992,
      14535975,
      5997020,
      5707818,
      13718737,
      2504095,
      10516836,
      11329682,
      2796649,
      11916158,
      3383173,
      4130419,
      12143240,
      8893606,
      129117,
      876971,
      9121104,
      1331783,
      9576124,
      10389322,
      1625009,
      14908182,
      6633453,
      6925851,
      15721184,
      7380471,
      16175372,
      16402682,
      8127489,
      4389423,
      12891860,
      13119266,
      5137369,
      13704398,
      5722165,
      6015427,
      14517560
    ];
    if (typeof Int32Array !== "undefined")
      TABLE7 = new Int32Array(TABLE7);
    crc24 = define_crc_default("crc-24", function(buf, previous) {
      if (!import_buffer10.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = typeof previous !== "undefined" ? ~~previous : 11994318;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = (TABLE7[(crc >> 16 ^ byte) & 255] ^ crc << 8) & 16777215;
      }
      return crc;
    });
    crc24_default = crc24;
  }
});

// node_modules/crc/crc32.js
var import_buffer11, TABLE8, crc32, crc32_default;
var init_crc32 = __esm({
  "node_modules/crc/crc32.js"() {
    init_define_process_env();
    import_buffer11 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE8 = [
      0,
      1996959894,
      3993919788,
      2567524794,
      124634137,
      1886057615,
      3915621685,
      2657392035,
      249268274,
      2044508324,
      3772115230,
      2547177864,
      162941995,
      2125561021,
      3887607047,
      2428444049,
      498536548,
      1789927666,
      4089016648,
      2227061214,
      450548861,
      1843258603,
      4107580753,
      2211677639,
      325883990,
      1684777152,
      4251122042,
      2321926636,
      335633487,
      1661365465,
      4195302755,
      2366115317,
      997073096,
      1281953886,
      3579855332,
      2724688242,
      1006888145,
      1258607687,
      3524101629,
      2768942443,
      901097722,
      1119000684,
      3686517206,
      2898065728,
      853044451,
      1172266101,
      3705015759,
      2882616665,
      651767980,
      1373503546,
      3369554304,
      3218104598,
      565507253,
      1454621731,
      3485111705,
      3099436303,
      671266974,
      1594198024,
      3322730930,
      2970347812,
      795835527,
      1483230225,
      3244367275,
      3060149565,
      1994146192,
      31158534,
      2563907772,
      4023717930,
      1907459465,
      112637215,
      2680153253,
      3904427059,
      2013776290,
      251722036,
      2517215374,
      3775830040,
      2137656763,
      141376813,
      2439277719,
      3865271297,
      1802195444,
      476864866,
      2238001368,
      4066508878,
      1812370925,
      453092731,
      2181625025,
      4111451223,
      1706088902,
      314042704,
      2344532202,
      4240017532,
      1658658271,
      366619977,
      2362670323,
      4224994405,
      1303535960,
      984961486,
      2747007092,
      3569037538,
      1256170817,
      1037604311,
      2765210733,
      3554079995,
      1131014506,
      879679996,
      2909243462,
      3663771856,
      1141124467,
      855842277,
      2852801631,
      3708648649,
      1342533948,
      654459306,
      3188396048,
      3373015174,
      1466479909,
      544179635,
      3110523913,
      3462522015,
      1591671054,
      702138776,
      2966460450,
      3352799412,
      1504918807,
      783551873,
      3082640443,
      3233442989,
      3988292384,
      2596254646,
      62317068,
      1957810842,
      3939845945,
      2647816111,
      81470997,
      1943803523,
      3814918930,
      2489596804,
      225274430,
      2053790376,
      3826175755,
      2466906013,
      167816743,
      2097651377,
      4027552580,
      2265490386,
      503444072,
      1762050814,
      4150417245,
      2154129355,
      426522225,
      1852507879,
      4275313526,
      2312317920,
      282753626,
      1742555852,
      4189708143,
      2394877945,
      397917763,
      1622183637,
      3604390888,
      2714866558,
      953729732,
      1340076626,
      3518719985,
      2797360999,
      1068828381,
      1219638859,
      3624741850,
      2936675148,
      906185462,
      1090812512,
      3747672003,
      2825379669,
      829329135,
      1181335161,
      3412177804,
      3160834842,
      628085408,
      1382605366,
      3423369109,
      3138078467,
      570562233,
      1426400815,
      3317316542,
      2998733608,
      733239954,
      1555261956,
      3268935591,
      3050360625,
      752459403,
      1541320221,
      2607071920,
      3965973030,
      1969922972,
      40735498,
      2617837225,
      3943577151,
      1913087877,
      83908371,
      2512341634,
      3803740692,
      2075208622,
      213261112,
      2463272603,
      3855990285,
      2094854071,
      198958881,
      2262029012,
      4057260610,
      1759359992,
      534414190,
      2176718541,
      4139329115,
      1873836001,
      414664567,
      2282248934,
      4279200368,
      1711684554,
      285281116,
      2405801727,
      4167216745,
      1634467795,
      376229701,
      2685067896,
      3608007406,
      1308918612,
      956543938,
      2808555105,
      3495958263,
      1231636301,
      1047427035,
      2932959818,
      3654703836,
      1088359270,
      936918e3,
      2847714899,
      3736837829,
      1202900863,
      817233897,
      3183342108,
      3401237130,
      1404277552,
      615818150,
      3134207493,
      3453421203,
      1423857449,
      601450431,
      3009837614,
      3294710456,
      1567103746,
      711928724,
      3020668471,
      3272380065,
      1510334235,
      755167117
    ];
    if (typeof Int32Array !== "undefined")
      TABLE8 = new Int32Array(TABLE8);
    crc32 = define_crc_default("crc-32", function(buf, previous) {
      if (!import_buffer11.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = previous === 0 ? 0 : ~~previous ^ -1;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = TABLE8[(crc ^ byte) & 255] ^ crc >>> 8;
      }
      return crc ^ -1;
    });
    crc32_default = crc32;
  }
});

// node_modules/crc/crcjam.js
var import_buffer12, TABLE9, crcjam, crcjam_default;
var init_crcjam = __esm({
  "node_modules/crc/crcjam.js"() {
    init_define_process_env();
    import_buffer12 = __toESM(require_buffer2());
    init_create_buffer();
    init_define_crc();
    TABLE9 = [
      0,
      1996959894,
      3993919788,
      2567524794,
      124634137,
      1886057615,
      3915621685,
      2657392035,
      249268274,
      2044508324,
      3772115230,
      2547177864,
      162941995,
      2125561021,
      3887607047,
      2428444049,
      498536548,
      1789927666,
      4089016648,
      2227061214,
      450548861,
      1843258603,
      4107580753,
      2211677639,
      325883990,
      1684777152,
      4251122042,
      2321926636,
      335633487,
      1661365465,
      4195302755,
      2366115317,
      997073096,
      1281953886,
      3579855332,
      2724688242,
      1006888145,
      1258607687,
      3524101629,
      2768942443,
      901097722,
      1119000684,
      3686517206,
      2898065728,
      853044451,
      1172266101,
      3705015759,
      2882616665,
      651767980,
      1373503546,
      3369554304,
      3218104598,
      565507253,
      1454621731,
      3485111705,
      3099436303,
      671266974,
      1594198024,
      3322730930,
      2970347812,
      795835527,
      1483230225,
      3244367275,
      3060149565,
      1994146192,
      31158534,
      2563907772,
      4023717930,
      1907459465,
      112637215,
      2680153253,
      3904427059,
      2013776290,
      251722036,
      2517215374,
      3775830040,
      2137656763,
      141376813,
      2439277719,
      3865271297,
      1802195444,
      476864866,
      2238001368,
      4066508878,
      1812370925,
      453092731,
      2181625025,
      4111451223,
      1706088902,
      314042704,
      2344532202,
      4240017532,
      1658658271,
      366619977,
      2362670323,
      4224994405,
      1303535960,
      984961486,
      2747007092,
      3569037538,
      1256170817,
      1037604311,
      2765210733,
      3554079995,
      1131014506,
      879679996,
      2909243462,
      3663771856,
      1141124467,
      855842277,
      2852801631,
      3708648649,
      1342533948,
      654459306,
      3188396048,
      3373015174,
      1466479909,
      544179635,
      3110523913,
      3462522015,
      1591671054,
      702138776,
      2966460450,
      3352799412,
      1504918807,
      783551873,
      3082640443,
      3233442989,
      3988292384,
      2596254646,
      62317068,
      1957810842,
      3939845945,
      2647816111,
      81470997,
      1943803523,
      3814918930,
      2489596804,
      225274430,
      2053790376,
      3826175755,
      2466906013,
      167816743,
      2097651377,
      4027552580,
      2265490386,
      503444072,
      1762050814,
      4150417245,
      2154129355,
      426522225,
      1852507879,
      4275313526,
      2312317920,
      282753626,
      1742555852,
      4189708143,
      2394877945,
      397917763,
      1622183637,
      3604390888,
      2714866558,
      953729732,
      1340076626,
      3518719985,
      2797360999,
      1068828381,
      1219638859,
      3624741850,
      2936675148,
      906185462,
      1090812512,
      3747672003,
      2825379669,
      829329135,
      1181335161,
      3412177804,
      3160834842,
      628085408,
      1382605366,
      3423369109,
      3138078467,
      570562233,
      1426400815,
      3317316542,
      2998733608,
      733239954,
      1555261956,
      3268935591,
      3050360625,
      752459403,
      1541320221,
      2607071920,
      3965973030,
      1969922972,
      40735498,
      2617837225,
      3943577151,
      1913087877,
      83908371,
      2512341634,
      3803740692,
      2075208622,
      213261112,
      2463272603,
      3855990285,
      2094854071,
      198958881,
      2262029012,
      4057260610,
      1759359992,
      534414190,
      2176718541,
      4139329115,
      1873836001,
      414664567,
      2282248934,
      4279200368,
      1711684554,
      285281116,
      2405801727,
      4167216745,
      1634467795,
      376229701,
      2685067896,
      3608007406,
      1308918612,
      956543938,
      2808555105,
      3495958263,
      1231636301,
      1047427035,
      2932959818,
      3654703836,
      1088359270,
      936918e3,
      2847714899,
      3736837829,
      1202900863,
      817233897,
      3183342108,
      3401237130,
      1404277552,
      615818150,
      3134207493,
      3453421203,
      1423857449,
      601450431,
      3009837614,
      3294710456,
      1567103746,
      711928724,
      3020668471,
      3272380065,
      1510334235,
      755167117
    ];
    if (typeof Int32Array !== "undefined")
      TABLE9 = new Int32Array(TABLE9);
    crcjam = define_crc_default("jam", function(buf, previous = -1) {
      if (!import_buffer12.Buffer.isBuffer(buf))
        buf = create_buffer_default(buf);
      let crc = previous === 0 ? 0 : ~~previous;
      for (let index = 0; index < buf.length; index++) {
        const byte = buf[index];
        crc = TABLE9[(crc ^ byte) & 255] ^ crc >>> 8;
      }
      return crc;
    });
    crcjam_default = crcjam;
  }
});

// node_modules/crc/index.js
var crc_exports = {};
__export(crc_exports, {
  crc1: () => crc1_default,
  crc16: () => crc16_default,
  crc16ccitt: () => crc16ccitt_default,
  crc16kermit: () => crc16kermit_default,
  crc16modbus: () => crc16modbus_default,
  crc16xmodem: () => crc16xmodem_default,
  crc24: () => crc24_default,
  crc32: () => crc32_default,
  crc8: () => crc8_default,
  crc81wire: () => crc81wire_default,
  crcjam: () => crcjam_default,
  default: () => crc_default
});
var crc_default;
var init_crc = __esm({
  "node_modules/crc/index.js"() {
    init_define_process_env();
    init_crc1();
    init_crc8();
    init_crc81wire();
    init_crc16();
    init_crc16ccitt();
    init_crc16modbus();
    init_crc16xmodem();
    init_crc16kermit();
    init_crc24();
    init_crc32();
    init_crcjam();
    crc_default = {
      crc1: crc1_default,
      crc8: crc8_default,
      crc81wire: crc81wire_default,
      crc16: crc16_default,
      crc16ccitt: crc16ccitt_default,
      crc16modbus: crc16modbus_default,
      crc16xmodem: crc16xmodem_default,
      crc16kermit: crc16kermit_default,
      crc24: crc24_default,
      crc32: crc32_default,
      crcjam: crcjam_default
    };
  }
});

// node_modules/@ngraveio/bc-ur/dist/utils.js
var require_utils2 = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/utils.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.bufferXOR = exports.setDifference = exports.arrayContains = exports.arraysEqual = exports.hasPrefix = exports.isURType = exports.intToBytes = exports.toUint32 = exports.getCRCHex = exports.getCRC = exports.split = exports.partition = exports.sha256Hash = void 0;
    var sha_js_1 = __importDefault(require_sha());
    var crc_1 = (init_crc(), __toCommonJS(crc_exports));
    var sha256Hash = (data) => sha_js_1.default("sha256").update(data).digest();
    exports.sha256Hash = sha256Hash;
    var partition = (s, n) => s.match(new RegExp(".{1," + n + "}", "g")) || [s];
    exports.partition = partition;
    var split = (s, length) => [s.slice(0, -length), s.slice(-length)];
    exports.split = split;
    var getCRC = (message) => crc_1.crc32(message);
    exports.getCRC = getCRC;
    var getCRCHex = (message) => crc_1.crc32(message).toString(16).padStart(8, "0");
    exports.getCRCHex = getCRCHex;
    var toUint32 = (number) => number >>> 0;
    exports.toUint32 = toUint32;
    var intToBytes = (num) => {
      const arr = new ArrayBuffer(4);
      const view = new DataView(arr);
      view.setUint32(0, num, false);
      return Buffer.from(arr);
    };
    exports.intToBytes = intToBytes;
    var isURType = (type) => {
      return type.split("").every((_, index) => {
        let c = type.charCodeAt(index);
        if ("a".charCodeAt(0) <= c && c <= "z".charCodeAt(0))
          return true;
        if ("0".charCodeAt(0) <= c && c <= "9".charCodeAt(0))
          return true;
        if (c === "-".charCodeAt(0))
          return true;
        return false;
      });
    };
    exports.isURType = isURType;
    var hasPrefix = (s, prefix) => s.indexOf(prefix) === 0;
    exports.hasPrefix = hasPrefix;
    var arraysEqual = (ar1, ar2) => {
      if (ar1.length !== ar2.length) {
        return false;
      }
      return ar1.every((el) => ar2.includes(el));
    };
    exports.arraysEqual = arraysEqual;
    var arrayContains = (ar1, ar2) => {
      return ar2.every((v) => ar1.includes(v));
    };
    exports.arrayContains = arrayContains;
    var setDifference = (ar1, ar2) => {
      return ar1.filter((x) => ar2.indexOf(x) < 0);
    };
    exports.setDifference = setDifference;
    var bufferXOR = (a, b) => {
      const length = Math.max(a.length, b.length);
      const buffer = Buffer.allocUnsafe(length);
      for (let i = 0; i < length; ++i) {
        buffer[i] = a[i] ^ b[i];
      }
      return buffer;
    };
    exports.bufferXOR = bufferXOR;
  }
});

// node_modules/cbor-sync/main.js
var require_main = __commonJS({
  "node_modules/cbor-sync/main.js"(exports, module) {
    init_define_process_env();
    (function(global, factory) {
      if (typeof define === "function" && define.amd) {
        define([], factory);
      } else if (typeof module !== "undefined" && module.exports) {
        module.exports = factory();
      } else {
        global.CBOR = factory();
      }
    })(exports, function() {
      var CBOR = function() {
        function BinaryHex(hex) {
          this.$hex = hex;
        }
        BinaryHex.prototype = {
          length: function() {
            return this.$hex.length / 2;
          },
          toString: function(format) {
            if (!format || format === "hex" || format === 16)
              return this.$hex;
            if (format === "utf-8") {
              var encoded = "";
              for (var i = 0; i < this.$hex.length; i += 2) {
                encoded += "%" + this.$hex.substring(i, i + 2);
              }
              return decodeURIComponent(encoded);
            }
            if (format === "latin") {
              var encoded = [];
              for (var i = 0; i < this.$hex.length; i += 2) {
                encoded.push(parseInt(this.$hex.substring(i, i + 2), 16));
              }
              return String.fromCharCode.apply(String, encoded);
            }
            throw new Error("Unrecognised format: " + format);
          }
        };
        BinaryHex.fromLatinString = function(latinString) {
          var hex = "";
          for (var i = 0; i < latinString.length; i++) {
            var pair = latinString.charCodeAt(i).toString(16);
            if (pair.length === 1)
              pair = "0" + pair;
            hex += pair;
          }
          return new BinaryHex(hex);
        };
        BinaryHex.fromUtf8String = function(utf8String) {
          var encoded = encodeURIComponent(utf8String);
          var hex = "";
          for (var i = 0; i < encoded.length; i++) {
            if (encoded.charAt(i) === "%") {
              hex += encoded.substring(i + 1, i + 3);
              i += 2;
            } else {
              var hexPair = encoded.charCodeAt(i).toString(16);
              if (hexPair.length < 2)
                hexPair = "0" + hexPair;
              hex += hexPair;
            }
          }
          return new BinaryHex(hex);
        };
        var semanticEncoders = [];
        var semanticDecoders = {};
        var notImplemented = function(label) {
          return function() {
            throw new Error(label + " not implemented");
          };
        };
        function Reader() {
        }
        Reader.prototype = {
          peekByte: notImplemented("peekByte"),
          readByte: notImplemented("readByte"),
          readChunk: notImplemented("readChunk"),
          readFloat16: function() {
            var half = this.readUint16();
            var exponent = (half & 32767) >> 10;
            var mantissa = half & 1023;
            var negative = half & 32768;
            if (exponent === 31) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 25) * (1024 + mantissa) : Math.pow(2, -24) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readFloat32: function() {
            var intValue = this.readUint32();
            var exponent = (intValue & 2147483647) >> 23;
            var mantissa = intValue & 8388607;
            var negative = intValue & 2147483648;
            if (exponent === 255) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 23 - 127) * (8388608 + mantissa) : Math.pow(2, -23 - 126) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readFloat64: function() {
            var int1 = this.readUint32(), int2 = this.readUint32();
            var exponent = int1 >> 20 & 2047;
            var mantissa = (int1 & 1048575) * 4294967296 + int2;
            var negative = int1 & 2147483648;
            if (exponent === 2047) {
              if (mantissa === 0) {
                return negative ? -Infinity : Infinity;
              }
              return NaN;
            }
            var magnitude = exponent ? Math.pow(2, exponent - 52 - 1023) * (4503599627370496 + mantissa) : Math.pow(2, -52 - 1022) * mantissa;
            return negative ? -magnitude : magnitude;
          },
          readUint16: function() {
            return this.readByte() * 256 + this.readByte();
          },
          readUint32: function() {
            return this.readUint16() * 65536 + this.readUint16();
          },
          readUint64: function() {
            return this.readUint32() * 4294967296 + this.readUint32();
          }
        };
        function Writer() {
        }
        Writer.prototype = {
          writeByte: notImplemented("writeByte"),
          result: notImplemented("result"),
          writeFloat16: notImplemented("writeFloat16"),
          writeFloat32: notImplemented("writeFloat32"),
          writeFloat64: notImplemented("writeFloat64"),
          writeUint16: function(value) {
            this.writeByte(value >> 8 & 255);
            this.writeByte(value & 255);
          },
          writeUint32: function(value) {
            this.writeUint16(value >> 16 & 65535);
            this.writeUint16(value & 65535);
          },
          writeUint64: function(value) {
            if (value >= 9007199254740992 || value <= -9007199254740992) {
              throw new Error("Cannot encode Uint64 of: " + value + " magnitude to big (floating point errors)");
            }
            this.writeUint32(Math.floor(value / 4294967296));
            this.writeUint32(value % 4294967296);
          },
          writeString: notImplemented("writeString"),
          canWriteBinary: function(chunk) {
            return false;
          },
          writeBinary: notImplemented("writeChunk")
        };
        function readHeaderRaw(reader) {
          var firstByte = reader.readByte();
          var majorType = firstByte >> 5, value = firstByte & 31;
          return { type: majorType, value };
        }
        function valueFromHeader(header, reader) {
          var value = header.value;
          if (value < 24) {
            return value;
          } else if (value == 24) {
            return reader.readByte();
          } else if (value == 25) {
            return reader.readUint16();
          } else if (value == 26) {
            return reader.readUint32();
          } else if (value == 27) {
            return reader.readUint64();
          } else if (value == 31) {
            return null;
          }
          notImplemented("Additional info: " + value)();
        }
        function writeHeaderRaw(type, value, writer) {
          writer.writeByte(type << 5 | value);
        }
        function writeHeader(type, value, writer) {
          var firstByte = type << 5;
          if (value < 24) {
            writer.writeByte(firstByte | value);
          } else if (value < 256) {
            writer.writeByte(firstByte | 24);
            writer.writeByte(value);
          } else if (value < 65536) {
            writer.writeByte(firstByte | 25);
            writer.writeUint16(value);
          } else if (value < 4294967296) {
            writer.writeByte(firstByte | 26);
            writer.writeUint32(value);
          } else {
            writer.writeByte(firstByte | 27);
            writer.writeUint64(value);
          }
        }
        var stopCode = new Error();
        function decodeReader(reader) {
          var header = readHeaderRaw(reader);
          switch (header.type) {
            case 0:
              return valueFromHeader(header, reader);
            case 1:
              return -1 - valueFromHeader(header, reader);
            case 2:
              return reader.readChunk(valueFromHeader(header, reader));
            case 3:
              var buffer = reader.readChunk(valueFromHeader(header, reader));
              return buffer.toString("utf-8");
            case 4:
            case 5:
              var arrayLength = valueFromHeader(header, reader);
              var result = [];
              if (arrayLength !== null) {
                if (header.type === 5) {
                  arrayLength *= 2;
                }
                for (var i = 0; i < arrayLength; i++) {
                  result[i] = decodeReader(reader);
                }
              } else {
                var item;
                while ((item = decodeReader(reader)) !== stopCode) {
                  result.push(item);
                }
              }
              if (header.type === 5) {
                var objResult = {};
                for (var i = 0; i < result.length; i += 2) {
                  objResult[result[i]] = result[i + 1];
                }
                return objResult;
              } else {
                return result;
              }
            case 6:
              var tag = valueFromHeader(header, reader);
              var decoder = semanticDecoders[tag];
              var result = decodeReader(reader);
              return decoder ? decoder(result) : result;
            case 7:
              if (header.value === 25) {
                return reader.readFloat16();
              } else if (header.value === 26) {
                return reader.readFloat32();
              } else if (header.value === 27) {
                return reader.readFloat64();
              }
              switch (valueFromHeader(header, reader)) {
                case 20:
                  return false;
                case 21:
                  return true;
                case 22:
                  return null;
                case 23:
                  return void 0;
                case null:
                  return stopCode;
                default:
                  throw new Error("Unknown fixed value: " + header.value);
              }
            default:
              throw new Error("Unsupported header: " + JSON.stringify(header));
          }
          throw new Error("not implemented yet");
        }
        function encodeWriter(data, writer) {
          for (var i = 0; i < semanticEncoders.length; i++) {
            var replacement = semanticEncoders[i].fn(data);
            if (replacement !== void 0) {
              writeHeader(6, semanticEncoders[i].tag, writer);
              return encodeWriter(replacement, writer);
            }
          }
          if (data && typeof data.toCBOR === "function") {
            data = data.toCBOR();
          }
          if (data === false) {
            writeHeader(7, 20, writer);
          } else if (data === true) {
            writeHeader(7, 21, writer);
          } else if (data === null) {
            writeHeader(7, 22, writer);
          } else if (data === void 0) {
            writeHeader(7, 23, writer);
          } else if (typeof data === "number") {
            if (Math.floor(data) === data && data < 9007199254740992 && data > -9007199254740992) {
              if (data < 0) {
                writeHeader(1, -1 - data, writer);
              } else {
                writeHeader(0, data, writer);
              }
            } else {
              writeHeaderRaw(7, 27, writer);
              writer.writeFloat64(data);
            }
          } else if (typeof data === "string") {
            writer.writeString(data, function(length) {
              writeHeader(3, length, writer);
            });
          } else if (writer.canWriteBinary(data)) {
            writer.writeBinary(data, function(length) {
              writeHeader(2, length, writer);
            });
          } else if (typeof data === "object") {
            if (api.config.useToJSON && typeof data.toJSON === "function") {
              data = data.toJSON();
            }
            if (Array.isArray(data)) {
              writeHeader(4, data.length, writer);
              for (var i = 0; i < data.length; i++) {
                encodeWriter(data[i], writer);
              }
            } else {
              var keys = Object.keys(data);
              writeHeader(5, keys.length, writer);
              for (var i = 0; i < keys.length; i++) {
                encodeWriter(keys[i], writer);
                encodeWriter(data[keys[i]], writer);
              }
            }
          } else {
            throw new Error("CBOR encoding not supported: " + data);
          }
        }
        var readerFunctions = [];
        var writerFunctions = [];
        var api = {
          config: {
            useToJSON: true
          },
          addWriter: function(format, writerFunction) {
            if (typeof format === "string") {
              writerFunctions.push(function(f2) {
                if (format === f2)
                  return writerFunction(f2);
              });
            } else {
              writerFunctions.push(format);
            }
          },
          addReader: function(format, readerFunction) {
            if (typeof format === "string") {
              readerFunctions.push(function(data, f2) {
                if (format === f2)
                  return readerFunction(data, f2);
              });
            } else {
              readerFunctions.push(format);
            }
          },
          encode: function(data, format) {
            for (var i = 0; i < writerFunctions.length; i++) {
              var func = writerFunctions[i];
              var writer = func(format);
              if (writer) {
                encodeWriter(data, writer);
                return writer.result();
              }
            }
            throw new Error("Unsupported output format: " + format);
          },
          decode: function(data, format) {
            for (var i = 0; i < readerFunctions.length; i++) {
              var func = readerFunctions[i];
              var reader = func(data, format);
              if (reader) {
                return decodeReader(reader);
              }
            }
            throw new Error("Unsupported input format: " + format);
          },
          addSemanticEncode: function(tag, fn) {
            if (typeof tag !== "number" || tag % 1 !== 0 || tag < 0) {
              throw new Error("Tag must be a positive integer");
            }
            semanticEncoders.push({ tag, fn });
            return this;
          },
          addSemanticDecode: function(tag, fn) {
            if (typeof tag !== "number" || tag % 1 !== 0 || tag < 0) {
              throw new Error("Tag must be a positive integer");
            }
            semanticDecoders[tag] = fn;
            return this;
          },
          Reader,
          Writer
        };
        function BufferReader(buffer) {
          this.buffer = buffer;
          this.pos = 0;
        }
        BufferReader.prototype = Object.create(Reader.prototype);
        BufferReader.prototype.peekByte = function() {
          return this.buffer[this.pos];
        };
        BufferReader.prototype.readByte = function() {
          return this.buffer[this.pos++];
        };
        BufferReader.prototype.readUint16 = function() {
          var result = this.buffer.readUInt16BE(this.pos);
          this.pos += 2;
          return result;
        };
        BufferReader.prototype.readUint32 = function() {
          var result = this.buffer.readUInt32BE(this.pos);
          this.pos += 4;
          return result;
        };
        BufferReader.prototype.readFloat32 = function() {
          var result = this.buffer.readFloatBE(this.pos);
          this.pos += 4;
          return result;
        };
        BufferReader.prototype.readFloat64 = function() {
          var result = this.buffer.readDoubleBE(this.pos);
          this.pos += 8;
          return result;
        };
        BufferReader.prototype.readChunk = function(length) {
          var result = Buffer.alloc(length);
          this.buffer.copy(result, 0, this.pos, this.pos += length);
          return result;
        };
        function BufferWriter(stringFormat) {
          this.byteLength = 0;
          this.defaultBufferLength = 16384;
          this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
          this.latestBufferOffset = 0;
          this.completeBuffers = [];
          this.stringFormat = stringFormat;
        }
        BufferWriter.prototype = Object.create(Writer.prototype);
        BufferWriter.prototype.writeByte = function(value) {
          this.latestBuffer[this.latestBufferOffset++] = value;
          if (this.latestBufferOffset >= this.latestBuffer.length) {
            this.completeBuffers.push(this.latestBuffer);
            this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
            this.latestBufferOffset = 0;
          }
          this.byteLength++;
        };
        BufferWriter.prototype.writeFloat32 = function(value) {
          var buffer = Buffer.alloc(4);
          buffer.writeFloatBE(value, 0);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeFloat64 = function(value) {
          var buffer = Buffer.alloc(8);
          buffer.writeDoubleBE(value, 0);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeString = function(string, lengthFunc) {
          var buffer = Buffer.from(string, "utf-8");
          lengthFunc(buffer.length);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.canWriteBinary = function(data) {
          return data instanceof Buffer;
        };
        BufferWriter.prototype.writeBinary = function(buffer, lengthFunc) {
          lengthFunc(buffer.length);
          this.writeBuffer(buffer);
        };
        BufferWriter.prototype.writeBuffer = function(chunk) {
          if (!(chunk instanceof Buffer))
            throw new TypeError("BufferWriter only accepts Buffers");
          if (!this.latestBufferOffset) {
            this.completeBuffers.push(chunk);
          } else if (this.latestBuffer.length - this.latestBufferOffset >= chunk.length) {
            chunk.copy(this.latestBuffer, this.latestBufferOffset);
            this.latestBufferOffset += chunk.length;
            if (this.latestBufferOffset >= this.latestBuffer.length) {
              this.completeBuffers.push(this.latestBuffer);
              this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
              this.latestBufferOffset = 0;
            }
          } else {
            this.completeBuffers.push(this.latestBuffer.slice(0, this.latestBufferOffset));
            this.completeBuffers.push(chunk);
            this.latestBuffer = Buffer.alloc(this.defaultBufferLength);
            this.latestBufferOffset = 0;
          }
          this.byteLength += chunk.length;
        };
        BufferWriter.prototype.result = function() {
          var result = Buffer.alloc(this.byteLength);
          var offset = 0;
          for (var i = 0; i < this.completeBuffers.length; i++) {
            var buffer = this.completeBuffers[i];
            buffer.copy(result, offset, 0, buffer.length);
            offset += buffer.length;
          }
          if (this.latestBufferOffset) {
            this.latestBuffer.copy(result, offset, 0, this.latestBufferOffset);
          }
          if (this.stringFormat)
            return result.toString(this.stringFormat);
          return result;
        };
        if (typeof Buffer === "function") {
          api.addReader(function(data, format) {
            if (data instanceof Buffer) {
              return new BufferReader(data);
            }
            if (format === "hex" || format === "base64") {
              var buffer = Buffer.from(data, format);
              return new BufferReader(buffer);
            }
          });
          api.addWriter(function(format) {
            if (!format || format === "buffer") {
              return new BufferWriter();
            } else if (format === "hex" || format === "base64") {
              return new BufferWriter(format);
            }
          });
        }
        function HexReader(hex) {
          this.hex = hex;
          this.pos = 0;
        }
        HexReader.prototype = Object.create(Reader.prototype);
        HexReader.prototype.peekByte = function() {
          var pair = this.hex.substring(this.pos, 2);
          return parseInt(pair, 16);
        };
        HexReader.prototype.readByte = function() {
          var pair = this.hex.substring(this.pos, this.pos + 2);
          this.pos += 2;
          return parseInt(pair, 16);
        };
        HexReader.prototype.readChunk = function(length) {
          var hex = this.hex.substring(this.pos, this.pos + length * 2);
          this.pos += length * 2;
          if (typeof Buffer === "function")
            return Buffer.from(hex, "hex");
          return new BinaryHex(hex);
        };
        function HexWriter(finalFormat) {
          this.$hex = "";
          this.finalFormat = finalFormat || "hex";
        }
        HexWriter.prototype = Object.create(Writer.prototype);
        HexWriter.prototype.writeByte = function(value) {
          if (value < 0 || value > 255)
            throw new Error("Byte value out of range: " + value);
          var hex = value.toString(16);
          if (hex.length == 1) {
            hex = "0" + hex;
          }
          this.$hex += hex;
        };
        HexWriter.prototype.canWriteBinary = function(chunk) {
          return chunk instanceof BinaryHex || typeof Buffer === "function" && chunk instanceof Buffer;
        };
        HexWriter.prototype.writeBinary = function(chunk, lengthFunction) {
          if (chunk instanceof BinaryHex) {
            lengthFunction(chunk.length());
            this.$hex += chunk.$hex;
          } else if (typeof Buffer === "function" && chunk instanceof Buffer) {
            lengthFunction(chunk.length);
            this.$hex += chunk.toString("hex");
          } else {
            throw new TypeError("HexWriter only accepts BinaryHex or Buffers");
          }
        };
        HexWriter.prototype.result = function() {
          if (this.finalFormat === "buffer" && typeof Buffer === "function") {
            return Buffer.from(this.$hex, "hex");
          }
          return new BinaryHex(this.$hex).toString(this.finalFormat);
        };
        HexWriter.prototype.writeString = function(string, lengthFunction) {
          var buffer = BinaryHex.fromUtf8String(string);
          lengthFunction(buffer.length());
          this.$hex += buffer.$hex;
        };
        api.addReader(function(data, format) {
          if (data instanceof BinaryHex || data.$hex) {
            return new HexReader(data.$hex);
          }
          if (format === "hex") {
            return new HexReader(data);
          }
        });
        api.addWriter(function(format) {
          if (format === "hex") {
            return new HexWriter();
          }
        });
        return api;
      }();
      CBOR.addSemanticEncode(0, function(data) {
        if (data instanceof Date) {
          return data.toISOString();
        }
      }).addSemanticDecode(0, function(isoString) {
        return new Date(isoString);
      }).addSemanticDecode(1, function(isoString) {
        return new Date(isoString);
      });
      return CBOR;
    });
  }
});

// node_modules/@ngraveio/bc-ur/dist/cbor.js
var require_cbor = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/cbor.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.cborDecode = exports.cborEncode = void 0;
    var cbor = require_main();
    var cborEncode = (data) => {
      return cbor.encode(data);
    };
    exports.cborEncode = cborEncode;
    var cborDecode = (data) => {
      return cbor.decode(Buffer.isBuffer(data) ? data : Buffer.from(data, "hex"));
    };
    exports.cborDecode = cborDecode;
  }
});

// node_modules/@ngraveio/bc-ur/dist/ur.js
var require_ur = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/ur.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    var errors_1 = require_errors();
    var utils_1 = require_utils2();
    var cbor_1 = require_cbor();
    var UR = class {
      constructor(_cborPayload, _type = "bytes") {
        this._cborPayload = _cborPayload;
        this._type = _type;
        if (!utils_1.isURType(this._type)) {
          throw new errors_1.InvalidTypeError();
        }
      }
      static fromBuffer(buf) {
        return new UR(cbor_1.cborEncode(buf));
      }
      static from(value, encoding) {
        return UR.fromBuffer(Buffer.from(value, encoding));
      }
      decodeCBOR() {
        return cbor_1.cborDecode(this._cborPayload);
      }
      get type() {
        return this._type;
      }
      get cbor() {
        return this._cborPayload;
      }
      equals(ur2) {
        return this.type === ur2.type && this.cbor.equals(ur2.cbor);
      }
    };
    exports.default = UR;
  }
});

// node_modules/jsbi/dist/jsbi.mjs
var jsbi_exports = {};
__export(jsbi_exports, {
  default: () => jsbi_default
});
var JSBI, jsbi_default;
var init_jsbi = __esm({
  "node_modules/jsbi/dist/jsbi.mjs"() {
    init_define_process_env();
    JSBI = class extends Array {
      constructor(i, _) {
        if (super(i), this.sign = _, i > JSBI.__kMaxLength)
          throw new RangeError("Maximum BigInt size exceeded");
      }
      static BigInt(i) {
        var _ = Math.floor, t = Number.isFinite;
        if (typeof i == "number") {
          if (i === 0)
            return JSBI.__zero();
          if (JSBI.__isOneDigitInt(i))
            return 0 > i ? JSBI.__oneDigit(-i, true) : JSBI.__oneDigit(i, false);
          if (!t(i) || _(i) !== i)
            throw new RangeError("The number " + i + " cannot be converted to BigInt because it is not an integer");
          return JSBI.__fromDouble(i);
        }
        if (typeof i == "string") {
          const _2 = JSBI.__fromString(i);
          if (_2 === null)
            throw new SyntaxError("Cannot convert " + i + " to a BigInt");
          return _2;
        }
        if (typeof i == "boolean")
          return i === true ? JSBI.__oneDigit(1, false) : JSBI.__zero();
        if (typeof i == "object") {
          if (i.constructor === JSBI)
            return i;
          const _2 = JSBI.__toPrimitive(i);
          return JSBI.BigInt(_2);
        }
        throw new TypeError("Cannot convert " + i + " to a BigInt");
      }
      toDebugString() {
        const i = ["BigInt["];
        for (const _ of this)
          i.push((_ ? (_ >>> 0).toString(16) : _) + ", ");
        return i.push("]"), i.join("");
      }
      toString(i = 10) {
        if (2 > i || 36 < i)
          throw new RangeError("toString() radix argument must be between 2 and 36");
        return this.length === 0 ? "0" : (i & i - 1) == 0 ? JSBI.__toStringBasePowerOfTwo(this, i) : JSBI.__toStringGeneric(this, i, false);
      }
      static toNumber(i) {
        const _ = i.length;
        if (_ === 0)
          return 0;
        if (_ === 1) {
          const _2 = i.__unsignedDigit(0);
          return i.sign ? -_2 : _2;
        }
        const t = i.__digit(_ - 1), e = JSBI.__clz30(t), n = 30 * _ - e;
        if (1024 < n)
          return i.sign ? -Infinity : 1 / 0;
        let g = n - 1, o = t, s = _ - 1;
        const l = e + 3;
        let r = l === 32 ? 0 : o << l;
        r >>>= 12;
        const a = l - 12;
        let u = 12 <= l ? 0 : o << 20 + l, d = 20 + l;
        for (0 < a && 0 < s && (s--, o = i.__digit(s), r |= o >>> 30 - a, u = o << a + 2, d = a + 2); 0 < d && 0 < s; )
          s--, o = i.__digit(s), u |= 30 <= d ? o << d - 30 : o >>> 30 - d, d -= 30;
        const h = JSBI.__decideRounding(i, d, s, o);
        if ((h === 1 || h === 0 && (1 & u) == 1) && (u = u + 1 >>> 0, u === 0 && (r++, r >>> 20 != 0 && (r = 0, g++, 1023 < g))))
          return i.sign ? -Infinity : 1 / 0;
        const m = i.sign ? -2147483648 : 0;
        return g = g + 1023 << 20, JSBI.__kBitConversionInts[1] = m | g | r, JSBI.__kBitConversionInts[0] = u, JSBI.__kBitConversionDouble[0];
      }
      static unaryMinus(i) {
        if (i.length === 0)
          return i;
        const _ = i.__copy();
        return _.sign = !i.sign, _;
      }
      static bitwiseNot(i) {
        return i.sign ? JSBI.__absoluteSubOne(i).__trim() : JSBI.__absoluteAddOne(i, true);
      }
      static exponentiate(i, _) {
        if (_.sign)
          throw new RangeError("Exponent must be positive");
        if (_.length === 0)
          return JSBI.__oneDigit(1, false);
        if (i.length === 0)
          return i;
        if (i.length === 1 && i.__digit(0) === 1)
          return i.sign && (1 & _.__digit(0)) == 0 ? JSBI.unaryMinus(i) : i;
        if (1 < _.length)
          throw new RangeError("BigInt too big");
        let t = _.__unsignedDigit(0);
        if (t === 1)
          return i;
        if (t >= JSBI.__kMaxLengthBits)
          throw new RangeError("BigInt too big");
        if (i.length === 1 && i.__digit(0) === 2) {
          const _2 = 1 + (0 | t / 30), e2 = i.sign && (1 & t) != 0, n2 = new JSBI(_2, e2);
          n2.__initializeDigits();
          const g = 1 << t % 30;
          return n2.__setDigit(_2 - 1, g), n2;
        }
        let e = null, n = i;
        for ((1 & t) != 0 && (e = i), t >>= 1; t !== 0; t >>= 1)
          n = JSBI.multiply(n, n), (1 & t) != 0 && (e === null ? e = n : e = JSBI.multiply(e, n));
        return e;
      }
      static multiply(_, t) {
        if (_.length === 0)
          return _;
        if (t.length === 0)
          return t;
        let i = _.length + t.length;
        30 <= _.__clzmsd() + t.__clzmsd() && i--;
        const e = new JSBI(i, _.sign !== t.sign);
        e.__initializeDigits();
        for (let n = 0; n < _.length; n++)
          JSBI.__multiplyAccumulate(t, _.__digit(n), e, n);
        return e.__trim();
      }
      static divide(i, _) {
        if (_.length === 0)
          throw new RangeError("Division by zero");
        if (0 > JSBI.__absoluteCompare(i, _))
          return JSBI.__zero();
        const t = i.sign !== _.sign, e = _.__unsignedDigit(0);
        let n;
        if (_.length === 1 && 32767 >= e) {
          if (e === 1)
            return t === i.sign ? i : JSBI.unaryMinus(i);
          n = JSBI.__absoluteDivSmall(i, e, null);
        } else
          n = JSBI.__absoluteDivLarge(i, _, true, false);
        return n.sign = t, n.__trim();
      }
      static remainder(i, _) {
        if (_.length === 0)
          throw new RangeError("Division by zero");
        if (0 > JSBI.__absoluteCompare(i, _))
          return i;
        const t = _.__unsignedDigit(0);
        if (_.length === 1 && 32767 >= t) {
          if (t === 1)
            return JSBI.__zero();
          const _2 = JSBI.__absoluteModSmall(i, t);
          return _2 === 0 ? JSBI.__zero() : JSBI.__oneDigit(_2, i.sign);
        }
        const e = JSBI.__absoluteDivLarge(i, _, false, true);
        return e.sign = i.sign, e.__trim();
      }
      static add(i, _) {
        const t = i.sign;
        return t === _.sign ? JSBI.__absoluteAdd(i, _, t) : 0 <= JSBI.__absoluteCompare(i, _) ? JSBI.__absoluteSub(i, _, t) : JSBI.__absoluteSub(_, i, !t);
      }
      static subtract(i, _) {
        const t = i.sign;
        return t === _.sign ? 0 <= JSBI.__absoluteCompare(i, _) ? JSBI.__absoluteSub(i, _, t) : JSBI.__absoluteSub(_, i, !t) : JSBI.__absoluteAdd(i, _, t);
      }
      static leftShift(i, _) {
        return _.length === 0 || i.length === 0 ? i : _.sign ? JSBI.__rightShiftByAbsolute(i, _) : JSBI.__leftShiftByAbsolute(i, _);
      }
      static signedRightShift(i, _) {
        return _.length === 0 || i.length === 0 ? i : _.sign ? JSBI.__leftShiftByAbsolute(i, _) : JSBI.__rightShiftByAbsolute(i, _);
      }
      static unsignedRightShift() {
        throw new TypeError("BigInts have no unsigned right shift; use >> instead");
      }
      static lessThan(i, _) {
        return 0 > JSBI.__compareToBigInt(i, _);
      }
      static lessThanOrEqual(i, _) {
        return 0 >= JSBI.__compareToBigInt(i, _);
      }
      static greaterThan(i, _) {
        return 0 < JSBI.__compareToBigInt(i, _);
      }
      static greaterThanOrEqual(i, _) {
        return 0 <= JSBI.__compareToBigInt(i, _);
      }
      static equal(_, t) {
        if (_.sign !== t.sign)
          return false;
        if (_.length !== t.length)
          return false;
        for (let e = 0; e < _.length; e++)
          if (_.__digit(e) !== t.__digit(e))
            return false;
        return true;
      }
      static notEqual(i, _) {
        return !JSBI.equal(i, _);
      }
      static bitwiseAnd(i, _) {
        var t = Math.max;
        if (!i.sign && !_.sign)
          return JSBI.__absoluteAnd(i, _).__trim();
        if (i.sign && _.sign) {
          const e = t(i.length, _.length) + 1;
          let n = JSBI.__absoluteSubOne(i, e);
          const g = JSBI.__absoluteSubOne(_);
          return n = JSBI.__absoluteOr(n, g, n), JSBI.__absoluteAddOne(n, true, n).__trim();
        }
        return i.sign && ([i, _] = [_, i]), JSBI.__absoluteAndNot(i, JSBI.__absoluteSubOne(_)).__trim();
      }
      static bitwiseXor(i, _) {
        var t = Math.max;
        if (!i.sign && !_.sign)
          return JSBI.__absoluteXor(i, _).__trim();
        if (i.sign && _.sign) {
          const e2 = t(i.length, _.length), n2 = JSBI.__absoluteSubOne(i, e2), g = JSBI.__absoluteSubOne(_);
          return JSBI.__absoluteXor(n2, g, n2).__trim();
        }
        const e = t(i.length, _.length) + 1;
        i.sign && ([i, _] = [_, i]);
        let n = JSBI.__absoluteSubOne(_, e);
        return n = JSBI.__absoluteXor(n, i, n), JSBI.__absoluteAddOne(n, true, n).__trim();
      }
      static bitwiseOr(i, _) {
        var t = Math.max;
        const e = t(i.length, _.length);
        if (!i.sign && !_.sign)
          return JSBI.__absoluteOr(i, _).__trim();
        if (i.sign && _.sign) {
          let t2 = JSBI.__absoluteSubOne(i, e);
          const n2 = JSBI.__absoluteSubOne(_);
          return t2 = JSBI.__absoluteAnd(t2, n2, t2), JSBI.__absoluteAddOne(t2, true, t2).__trim();
        }
        i.sign && ([i, _] = [_, i]);
        let n = JSBI.__absoluteSubOne(_, e);
        return n = JSBI.__absoluteAndNot(n, i, n), JSBI.__absoluteAddOne(n, true, n).__trim();
      }
      static asIntN(_, t) {
        var i = Math.floor;
        if (t.length === 0)
          return t;
        if (_ = i(_), 0 > _)
          throw new RangeError("Invalid value: not (convertible to) a safe integer");
        if (_ === 0)
          return JSBI.__zero();
        if (_ >= JSBI.__kMaxLengthBits)
          return t;
        const e = 0 | (_ + 29) / 30;
        if (t.length < e)
          return t;
        const g = t.__unsignedDigit(e - 1), o = 1 << (_ - 1) % 30;
        if (t.length === e && g < o)
          return t;
        if (!((g & o) === o))
          return JSBI.__truncateToNBits(_, t);
        if (!t.sign)
          return JSBI.__truncateAndSubFromPowerOfTwo(_, t, true);
        if ((g & o - 1) == 0) {
          for (let n = e - 2; 0 <= n; n--)
            if (t.__digit(n) !== 0)
              return JSBI.__truncateAndSubFromPowerOfTwo(_, t, false);
          return t.length === e && g === o ? t : JSBI.__truncateToNBits(_, t);
        }
        return JSBI.__truncateAndSubFromPowerOfTwo(_, t, false);
      }
      static asUintN(i, _) {
        var t = Math.floor;
        if (_.length === 0)
          return _;
        if (i = t(i), 0 > i)
          throw new RangeError("Invalid value: not (convertible to) a safe integer");
        if (i === 0)
          return JSBI.__zero();
        if (_.sign) {
          if (i > JSBI.__kMaxLengthBits)
            throw new RangeError("BigInt too big");
          return JSBI.__truncateAndSubFromPowerOfTwo(i, _, false);
        }
        if (i >= JSBI.__kMaxLengthBits)
          return _;
        const e = 0 | (i + 29) / 30;
        if (_.length < e)
          return _;
        const g = i % 30;
        if (_.length == e) {
          if (g === 0)
            return _;
          const i2 = _.__digit(e - 1);
          if (i2 >>> g == 0)
            return _;
        }
        return JSBI.__truncateToNBits(i, _);
      }
      static ADD(i, _) {
        if (i = JSBI.__toPrimitive(i), _ = JSBI.__toPrimitive(_), typeof i == "string")
          return typeof _ != "string" && (_ = _.toString()), i + _;
        if (typeof _ == "string")
          return i.toString() + _;
        if (i = JSBI.__toNumeric(i), _ = JSBI.__toNumeric(_), JSBI.__isBigInt(i) && JSBI.__isBigInt(_))
          return JSBI.add(i, _);
        if (typeof i == "number" && typeof _ == "number")
          return i + _;
        throw new TypeError("Cannot mix BigInt and other types, use explicit conversions");
      }
      static LT(i, _) {
        return JSBI.__compare(i, _, 0);
      }
      static LE(i, _) {
        return JSBI.__compare(i, _, 1);
      }
      static GT(i, _) {
        return JSBI.__compare(i, _, 2);
      }
      static GE(i, _) {
        return JSBI.__compare(i, _, 3);
      }
      static EQ(i, _) {
        for (; ; ) {
          if (JSBI.__isBigInt(i))
            return JSBI.__isBigInt(_) ? JSBI.equal(i, _) : JSBI.EQ(_, i);
          if (typeof i == "number") {
            if (JSBI.__isBigInt(_))
              return JSBI.__equalToNumber(_, i);
            if (typeof _ != "object")
              return i == _;
            _ = JSBI.__toPrimitive(_);
          } else if (typeof i == "string") {
            if (JSBI.__isBigInt(_))
              return i = JSBI.__fromString(i), i !== null && JSBI.equal(i, _);
            if (typeof _ != "object")
              return i == _;
            _ = JSBI.__toPrimitive(_);
          } else if (typeof i == "boolean") {
            if (JSBI.__isBigInt(_))
              return JSBI.__equalToNumber(_, +i);
            if (typeof _ != "object")
              return i == _;
            _ = JSBI.__toPrimitive(_);
          } else if (typeof i == "symbol") {
            if (JSBI.__isBigInt(_))
              return false;
            if (typeof _ != "object")
              return i == _;
            _ = JSBI.__toPrimitive(_);
          } else if (typeof i == "object") {
            if (typeof _ == "object" && _.constructor !== JSBI)
              return i == _;
            i = JSBI.__toPrimitive(i);
          } else
            return i == _;
        }
      }
      static NE(i, _) {
        return !JSBI.EQ(i, _);
      }
      static __zero() {
        return new JSBI(0, false);
      }
      static __oneDigit(i, _) {
        const t = new JSBI(1, _);
        return t.__setDigit(0, i), t;
      }
      __copy() {
        const _ = new JSBI(this.length, this.sign);
        for (let t = 0; t < this.length; t++)
          _[t] = this[t];
        return _;
      }
      __trim() {
        let i = this.length, _ = this[i - 1];
        for (; _ === 0; )
          i--, _ = this[i - 1], this.pop();
        return i === 0 && (this.sign = false), this;
      }
      __initializeDigits() {
        for (let _ = 0; _ < this.length; _++)
          this[_] = 0;
      }
      static __decideRounding(i, _, t, e) {
        if (0 < _)
          return -1;
        let n;
        if (0 > _)
          n = -_ - 1;
        else {
          if (t === 0)
            return -1;
          t--, e = i.__digit(t), n = 29;
        }
        let g = 1 << n;
        if ((e & g) == 0)
          return -1;
        if (g -= 1, (e & g) != 0)
          return 1;
        for (; 0 < t; )
          if (t--, i.__digit(t) !== 0)
            return 1;
        return 0;
      }
      static __fromDouble(i) {
        JSBI.__kBitConversionDouble[0] = i;
        const _ = 2047 & JSBI.__kBitConversionInts[1] >>> 20, t = _ - 1023, e = (0 | t / 30) + 1, n = new JSBI(e, 0 > i);
        let g = 1048575 & JSBI.__kBitConversionInts[1] | 1048576, o = JSBI.__kBitConversionInts[0];
        const s = 20, l = t % 30;
        let r, a = 0;
        if (l < 20) {
          const i2 = s - l;
          a = i2 + 32, r = g >>> i2, g = g << 32 - i2 | o >>> i2, o <<= 32 - i2;
        } else if (l === 20)
          a = 32, r = g, g = o, o = 0;
        else {
          const i2 = l - s;
          a = 32 - i2, r = g << i2 | o >>> 32 - i2, g = o << i2, o = 0;
        }
        n.__setDigit(e - 1, r);
        for (let _2 = e - 2; 0 <= _2; _2--)
          0 < a ? (a -= 30, r = g >>> 2, g = g << 30 | o >>> 2, o <<= 30) : r = 0, n.__setDigit(_2, r);
        return n.__trim();
      }
      static __isWhitespace(i) {
        return !!(13 >= i && 9 <= i) || (159 >= i ? i == 32 : 131071 >= i ? i == 160 || i == 5760 : 196607 >= i ? (i &= 131071, 10 >= i || i == 40 || i == 41 || i == 47 || i == 95 || i == 4096) : i == 65279);
      }
      static __fromString(i, _ = 0) {
        let t = 0;
        const e = i.length;
        let n = 0;
        if (n === e)
          return JSBI.__zero();
        let g = i.charCodeAt(n);
        for (; JSBI.__isWhitespace(g); ) {
          if (++n === e)
            return JSBI.__zero();
          g = i.charCodeAt(n);
        }
        if (g === 43) {
          if (++n === e)
            return null;
          g = i.charCodeAt(n), t = 1;
        } else if (g === 45) {
          if (++n === e)
            return null;
          g = i.charCodeAt(n), t = -1;
        }
        if (_ === 0) {
          if (_ = 10, g === 48) {
            if (++n === e)
              return JSBI.__zero();
            if (g = i.charCodeAt(n), g === 88 || g === 120) {
              if (_ = 16, ++n === e)
                return null;
              g = i.charCodeAt(n);
            } else if (g === 79 || g === 111) {
              if (_ = 8, ++n === e)
                return null;
              g = i.charCodeAt(n);
            } else if (g === 66 || g === 98) {
              if (_ = 2, ++n === e)
                return null;
              g = i.charCodeAt(n);
            }
          }
        } else if (_ === 16 && g === 48) {
          if (++n === e)
            return JSBI.__zero();
          if (g = i.charCodeAt(n), g === 88 || g === 120) {
            if (++n === e)
              return null;
            g = i.charCodeAt(n);
          }
        }
        if (t != 0 && _ !== 10)
          return null;
        for (; g === 48; ) {
          if (++n === e)
            return JSBI.__zero();
          g = i.charCodeAt(n);
        }
        const o = e - n;
        let s = JSBI.__kMaxBitsPerChar[_], l = JSBI.__kBitsPerCharTableMultiplier - 1;
        if (o > 1073741824 / s)
          return null;
        const r = s * o + l >>> JSBI.__kBitsPerCharTableShift, a = new JSBI(0 | (r + 29) / 30, false), u = 10 > _ ? _ : 10, h = 10 < _ ? _ - 10 : 0;
        if ((_ & _ - 1) == 0) {
          s >>= JSBI.__kBitsPerCharTableShift;
          const _2 = [], t2 = [];
          let o2 = false;
          do {
            let l2 = 0, r2 = 0;
            for (; ; ) {
              let _3;
              if (g - 48 >>> 0 < u)
                _3 = g - 48;
              else if ((32 | g) - 97 >>> 0 < h)
                _3 = (32 | g) - 87;
              else {
                o2 = true;
                break;
              }
              if (r2 += s, l2 = l2 << s | _3, ++n === e) {
                o2 = true;
                break;
              }
              if (g = i.charCodeAt(n), 30 < r2 + s)
                break;
            }
            _2.push(l2), t2.push(r2);
          } while (!o2);
          JSBI.__fillFromParts(a, _2, t2);
        } else {
          a.__initializeDigits();
          let t2 = false, o2 = 0;
          do {
            let r2 = 0, b = 1;
            for (; ; ) {
              let s2;
              if (g - 48 >>> 0 < u)
                s2 = g - 48;
              else if ((32 | g) - 97 >>> 0 < h)
                s2 = (32 | g) - 87;
              else {
                t2 = true;
                break;
              }
              const l2 = b * _;
              if (1073741823 < l2)
                break;
              if (b = l2, r2 = r2 * _ + s2, o2++, ++n === e) {
                t2 = true;
                break;
              }
              g = i.charCodeAt(n);
            }
            l = 30 * JSBI.__kBitsPerCharTableMultiplier - 1;
            const D = 0 | (s * o2 + l >>> JSBI.__kBitsPerCharTableShift) / 30;
            a.__inplaceMultiplyAdd(b, r2, D);
          } while (!t2);
        }
        if (n !== e) {
          if (!JSBI.__isWhitespace(g))
            return null;
          for (n++; n < e; n++)
            if (g = i.charCodeAt(n), !JSBI.__isWhitespace(g))
              return null;
        }
        return a.sign = t == -1, a.__trim();
      }
      static __fillFromParts(_, t, e) {
        let n = 0, g = 0, o = 0;
        for (let s = t.length - 1; 0 <= s; s--) {
          const i = t[s], l = e[s];
          g |= i << o, o += l, o === 30 ? (_.__setDigit(n++, g), o = 0, g = 0) : 30 < o && (_.__setDigit(n++, 1073741823 & g), o -= 30, g = i >>> l - o);
        }
        if (g !== 0) {
          if (n >= _.length)
            throw new Error("implementation bug");
          _.__setDigit(n++, g);
        }
        for (; n < _.length; n++)
          _.__setDigit(n, 0);
      }
      static __toStringBasePowerOfTwo(_, i) {
        const t = _.length;
        let e = i - 1;
        e = (85 & e >>> 1) + (85 & e), e = (51 & e >>> 2) + (51 & e), e = (15 & e >>> 4) + (15 & e);
        const n = e, g = i - 1, o = _.__digit(t - 1), s = JSBI.__clz30(o);
        let l = 0 | (30 * t - s + n - 1) / n;
        if (_.sign && l++, 268435456 < l)
          throw new Error("string too long");
        const r = Array(l);
        let a = l - 1, u = 0, d = 0;
        for (let e2 = 0; e2 < t - 1; e2++) {
          const i2 = _.__digit(e2), t2 = (u | i2 << d) & g;
          r[a--] = JSBI.__kConversionChars[t2];
          const o2 = n - d;
          for (u = i2 >>> o2, d = 30 - o2; d >= n; )
            r[a--] = JSBI.__kConversionChars[u & g], u >>>= n, d -= n;
        }
        const h = (u | o << d) & g;
        for (r[a--] = JSBI.__kConversionChars[h], u = o >>> n - d; u !== 0; )
          r[a--] = JSBI.__kConversionChars[u & g], u >>>= n;
        if (_.sign && (r[a--] = "-"), a != -1)
          throw new Error("implementation bug");
        return r.join("");
      }
      static __toStringGeneric(_, i, t) {
        const e = _.length;
        if (e === 0)
          return "";
        if (e === 1) {
          let e2 = _.__unsignedDigit(0).toString(i);
          return t === false && _.sign && (e2 = "-" + e2), e2;
        }
        const n = 30 * e - JSBI.__clz30(_.__digit(e - 1)), g = JSBI.__kMaxBitsPerChar[i], o = g - 1;
        let s = n * JSBI.__kBitsPerCharTableMultiplier;
        s += o - 1, s = 0 | s / o;
        const l = s + 1 >> 1, r = JSBI.exponentiate(JSBI.__oneDigit(i, false), JSBI.__oneDigit(l, false));
        let a, u;
        const d = r.__unsignedDigit(0);
        if (r.length === 1 && 32767 >= d) {
          a = new JSBI(_.length, false), a.__initializeDigits();
          let t2 = 0;
          for (let e2 = 2 * _.length - 1; 0 <= e2; e2--) {
            const i2 = t2 << 15 | _.__halfDigit(e2);
            a.__setHalfDigit(e2, 0 | i2 / d), t2 = 0 | i2 % d;
          }
          u = t2.toString(i);
        } else {
          const t2 = JSBI.__absoluteDivLarge(_, r, true, true);
          a = t2.quotient;
          const e2 = t2.remainder.__trim();
          u = JSBI.__toStringGeneric(e2, i, true);
        }
        a.__trim();
        let h = JSBI.__toStringGeneric(a, i, true);
        for (; u.length < l; )
          u = "0" + u;
        return t === false && _.sign && (h = "-" + h), h + u;
      }
      static __unequalSign(i) {
        return i ? -1 : 1;
      }
      static __absoluteGreater(i) {
        return i ? -1 : 1;
      }
      static __absoluteLess(i) {
        return i ? 1 : -1;
      }
      static __compareToBigInt(i, _) {
        const t = i.sign;
        if (t !== _.sign)
          return JSBI.__unequalSign(t);
        const e = JSBI.__absoluteCompare(i, _);
        return 0 < e ? JSBI.__absoluteGreater(t) : 0 > e ? JSBI.__absoluteLess(t) : 0;
      }
      static __compareToNumber(i, _) {
        if (JSBI.__isOneDigitInt(_)) {
          const t = i.sign, e = 0 > _;
          if (t !== e)
            return JSBI.__unequalSign(t);
          if (i.length === 0) {
            if (e)
              throw new Error("implementation bug");
            return _ === 0 ? 0 : -1;
          }
          if (1 < i.length)
            return JSBI.__absoluteGreater(t);
          const n = Math.abs(_), g = i.__unsignedDigit(0);
          return g > n ? JSBI.__absoluteGreater(t) : g < n ? JSBI.__absoluteLess(t) : 0;
        }
        return JSBI.__compareToDouble(i, _);
      }
      static __compareToDouble(i, _) {
        if (_ !== _)
          return _;
        if (_ === 1 / 0)
          return -1;
        if (_ === -Infinity)
          return 1;
        const t = i.sign;
        if (t !== 0 > _)
          return JSBI.__unequalSign(t);
        if (_ === 0)
          throw new Error("implementation bug: should be handled elsewhere");
        if (i.length === 0)
          return -1;
        JSBI.__kBitConversionDouble[0] = _;
        const e = 2047 & JSBI.__kBitConversionInts[1] >>> 20;
        if (e == 2047)
          throw new Error("implementation bug: handled elsewhere");
        const n = e - 1023;
        if (0 > n)
          return JSBI.__absoluteGreater(t);
        const g = i.length;
        let o = i.__digit(g - 1);
        const s = JSBI.__clz30(o), l = 30 * g - s, r = n + 1;
        if (l < r)
          return JSBI.__absoluteLess(t);
        if (l > r)
          return JSBI.__absoluteGreater(t);
        let a = 1048576 | 1048575 & JSBI.__kBitConversionInts[1], u = JSBI.__kBitConversionInts[0];
        const d = 20, h = 29 - s;
        if (h !== (0 | (l - 1) % 30))
          throw new Error("implementation bug");
        let m, b = 0;
        if (20 > h) {
          const i2 = d - h;
          b = i2 + 32, m = a >>> i2, a = a << 32 - i2 | u >>> i2, u <<= 32 - i2;
        } else if (h === 20)
          b = 32, m = a, a = u, u = 0;
        else {
          const i2 = h - d;
          b = 32 - i2, m = a << i2 | u >>> 32 - i2, a = u << i2, u = 0;
        }
        if (o >>>= 0, m >>>= 0, o > m)
          return JSBI.__absoluteGreater(t);
        if (o < m)
          return JSBI.__absoluteLess(t);
        for (let e2 = g - 2; 0 <= e2; e2--) {
          0 < b ? (b -= 30, m = a >>> 2, a = a << 30 | u >>> 2, u <<= 30) : m = 0;
          const _2 = i.__unsignedDigit(e2);
          if (_2 > m)
            return JSBI.__absoluteGreater(t);
          if (_2 < m)
            return JSBI.__absoluteLess(t);
        }
        if (a !== 0 || u !== 0) {
          if (b === 0)
            throw new Error("implementation bug");
          return JSBI.__absoluteLess(t);
        }
        return 0;
      }
      static __equalToNumber(i, _) {
        var t = Math.abs;
        return JSBI.__isOneDigitInt(_) ? _ === 0 ? i.length === 0 : i.length === 1 && i.sign === 0 > _ && i.__unsignedDigit(0) === t(_) : JSBI.__compareToDouble(i, _) === 0;
      }
      static __comparisonResultToBool(i, _) {
        return _ === 0 ? 0 > i : _ === 1 ? 0 >= i : _ === 2 ? 0 < i : _ === 3 ? 0 <= i : void 0;
      }
      static __compare(i, _, t) {
        if (i = JSBI.__toPrimitive(i), _ = JSBI.__toPrimitive(_), typeof i == "string" && typeof _ == "string")
          switch (t) {
            case 0:
              return i < _;
            case 1:
              return i <= _;
            case 2:
              return i > _;
            case 3:
              return i >= _;
          }
        if (JSBI.__isBigInt(i) && typeof _ == "string")
          return _ = JSBI.__fromString(_), _ !== null && JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(i, _), t);
        if (typeof i == "string" && JSBI.__isBigInt(_))
          return i = JSBI.__fromString(i), i !== null && JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(i, _), t);
        if (i = JSBI.__toNumeric(i), _ = JSBI.__toNumeric(_), JSBI.__isBigInt(i)) {
          if (JSBI.__isBigInt(_))
            return JSBI.__comparisonResultToBool(JSBI.__compareToBigInt(i, _), t);
          if (typeof _ != "number")
            throw new Error("implementation bug");
          return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(i, _), t);
        }
        if (typeof i != "number")
          throw new Error("implementation bug");
        if (JSBI.__isBigInt(_))
          return JSBI.__comparisonResultToBool(JSBI.__compareToNumber(_, i), 2 ^ t);
        if (typeof _ != "number")
          throw new Error("implementation bug");
        return t === 0 ? i < _ : t === 1 ? i <= _ : t === 2 ? i > _ : t === 3 ? i >= _ : void 0;
      }
      __clzmsd() {
        return JSBI.__clz30(this.__digit(this.length - 1));
      }
      static __absoluteAdd(_, t, e) {
        if (_.length < t.length)
          return JSBI.__absoluteAdd(t, _, e);
        if (_.length === 0)
          return _;
        if (t.length === 0)
          return _.sign === e ? _ : JSBI.unaryMinus(_);
        let n = _.length;
        (_.__clzmsd() === 0 || t.length === _.length && t.__clzmsd() === 0) && n++;
        const g = new JSBI(n, e);
        let o = 0, s = 0;
        for (; s < t.length; s++) {
          const i = _.__digit(s) + t.__digit(s) + o;
          o = i >>> 30, g.__setDigit(s, 1073741823 & i);
        }
        for (; s < _.length; s++) {
          const i = _.__digit(s) + o;
          o = i >>> 30, g.__setDigit(s, 1073741823 & i);
        }
        return s < g.length && g.__setDigit(s, o), g.__trim();
      }
      static __absoluteSub(_, t, e) {
        if (_.length === 0)
          return _;
        if (t.length === 0)
          return _.sign === e ? _ : JSBI.unaryMinus(_);
        const n = new JSBI(_.length, e);
        let g = 0, o = 0;
        for (; o < t.length; o++) {
          const i = _.__digit(o) - t.__digit(o) - g;
          g = 1 & i >>> 30, n.__setDigit(o, 1073741823 & i);
        }
        for (; o < _.length; o++) {
          const i = _.__digit(o) - g;
          g = 1 & i >>> 30, n.__setDigit(o, 1073741823 & i);
        }
        return n.__trim();
      }
      static __absoluteAddOne(_, i, t = null) {
        const e = _.length;
        t === null ? t = new JSBI(e, i) : t.sign = i;
        let n = 1;
        for (let g = 0; g < e; g++) {
          const i2 = _.__digit(g) + n;
          n = i2 >>> 30, t.__setDigit(g, 1073741823 & i2);
        }
        return n != 0 && t.__setDigitGrow(e, 1), t;
      }
      static __absoluteSubOne(_, t) {
        const e = _.length;
        t = t || e;
        const n = new JSBI(t, false);
        let g = 1;
        for (let o = 0; o < e; o++) {
          const i = _.__digit(o) - g;
          g = 1 & i >>> 30, n.__setDigit(o, 1073741823 & i);
        }
        if (g != 0)
          throw new Error("implementation bug");
        for (let g2 = e; g2 < t; g2++)
          n.__setDigit(g2, 0);
        return n;
      }
      static __absoluteAnd(_, t, e = null) {
        let n = _.length, g = t.length, o = g;
        if (n < g) {
          o = n;
          const i = _, e2 = n;
          _ = t, n = g, t = i, g = e2;
        }
        let s = o;
        e === null ? e = new JSBI(s, false) : s = e.length;
        let l = 0;
        for (; l < o; l++)
          e.__setDigit(l, _.__digit(l) & t.__digit(l));
        for (; l < s; l++)
          e.__setDigit(l, 0);
        return e;
      }
      static __absoluteAndNot(_, t, e = null) {
        const n = _.length, g = t.length;
        let o = g;
        n < g && (o = n);
        let s = n;
        e === null ? e = new JSBI(s, false) : s = e.length;
        let l = 0;
        for (; l < o; l++)
          e.__setDigit(l, _.__digit(l) & ~t.__digit(l));
        for (; l < n; l++)
          e.__setDigit(l, _.__digit(l));
        for (; l < s; l++)
          e.__setDigit(l, 0);
        return e;
      }
      static __absoluteOr(_, t, e = null) {
        let n = _.length, g = t.length, o = g;
        if (n < g) {
          o = n;
          const i = _, e2 = n;
          _ = t, n = g, t = i, g = e2;
        }
        let s = n;
        e === null ? e = new JSBI(s, false) : s = e.length;
        let l = 0;
        for (; l < o; l++)
          e.__setDigit(l, _.__digit(l) | t.__digit(l));
        for (; l < n; l++)
          e.__setDigit(l, _.__digit(l));
        for (; l < s; l++)
          e.__setDigit(l, 0);
        return e;
      }
      static __absoluteXor(_, t, e = null) {
        let n = _.length, g = t.length, o = g;
        if (n < g) {
          o = n;
          const i = _, e2 = n;
          _ = t, n = g, t = i, g = e2;
        }
        let s = n;
        e === null ? e = new JSBI(s, false) : s = e.length;
        let l = 0;
        for (; l < o; l++)
          e.__setDigit(l, _.__digit(l) ^ t.__digit(l));
        for (; l < n; l++)
          e.__setDigit(l, _.__digit(l));
        for (; l < s; l++)
          e.__setDigit(l, 0);
        return e;
      }
      static __absoluteCompare(_, t) {
        const e = _.length - t.length;
        if (e != 0)
          return e;
        let n = _.length - 1;
        for (; 0 <= n && _.__digit(n) === t.__digit(n); )
          n--;
        return 0 > n ? 0 : _.__unsignedDigit(n) > t.__unsignedDigit(n) ? 1 : -1;
      }
      static __multiplyAccumulate(_, t, e, n) {
        if (t === 0)
          return;
        const g = 32767 & t, o = t >>> 15;
        let s = 0, l = 0;
        for (let r, a = 0; a < _.length; a++, n++) {
          r = e.__digit(n);
          const i = _.__digit(a), t2 = 32767 & i, u = i >>> 15, d = JSBI.__imul(t2, g), h = JSBI.__imul(t2, o), m = JSBI.__imul(u, g), b = JSBI.__imul(u, o);
          r += l + d + s, s = r >>> 30, r &= 1073741823, r += ((32767 & h) << 15) + ((32767 & m) << 15), s += r >>> 30, l = b + (h >>> 15) + (m >>> 15), e.__setDigit(n, 1073741823 & r);
        }
        for (; s != 0 || l !== 0; n++) {
          let i = e.__digit(n);
          i += s + l, l = 0, s = i >>> 30, e.__setDigit(n, 1073741823 & i);
        }
      }
      static __internalMultiplyAdd(_, t, e, g, o) {
        let s = e, l = 0;
        for (let n = 0; n < g; n++) {
          const i = _.__digit(n), e2 = JSBI.__imul(32767 & i, t), g2 = JSBI.__imul(i >>> 15, t), a = e2 + ((32767 & g2) << 15) + l + s;
          s = a >>> 30, l = g2 >>> 15, o.__setDigit(n, 1073741823 & a);
        }
        if (o.length > g)
          for (o.__setDigit(g++, s + l); g < o.length; )
            o.__setDigit(g++, 0);
        else if (s + l !== 0)
          throw new Error("implementation bug");
      }
      __inplaceMultiplyAdd(i, _, t) {
        t > this.length && (t = this.length);
        const e = 32767 & i, n = i >>> 15;
        let g = 0, o = _;
        for (let s = 0; s < t; s++) {
          const i2 = this.__digit(s), _2 = 32767 & i2, t2 = i2 >>> 15, l = JSBI.__imul(_2, e), r = JSBI.__imul(_2, n), a = JSBI.__imul(t2, e), u = JSBI.__imul(t2, n);
          let d = o + l + g;
          g = d >>> 30, d &= 1073741823, d += ((32767 & r) << 15) + ((32767 & a) << 15), g += d >>> 30, o = u + (r >>> 15) + (a >>> 15), this.__setDigit(s, 1073741823 & d);
        }
        if (g != 0 || o !== 0)
          throw new Error("implementation bug");
      }
      static __absoluteDivSmall(_, t, e = null) {
        e === null && (e = new JSBI(_.length, false));
        let n = 0;
        for (let g, o = 2 * _.length - 1; 0 <= o; o -= 2) {
          g = (n << 15 | _.__halfDigit(o)) >>> 0;
          const i = 0 | g / t;
          n = 0 | g % t, g = (n << 15 | _.__halfDigit(o - 1)) >>> 0;
          const s = 0 | g / t;
          n = 0 | g % t, e.__setDigit(o >>> 1, i << 15 | s);
        }
        return e;
      }
      static __absoluteModSmall(_, t) {
        let e = 0;
        for (let n = 2 * _.length - 1; 0 <= n; n--) {
          const i = (e << 15 | _.__halfDigit(n)) >>> 0;
          e = 0 | i % t;
        }
        return e;
      }
      static __absoluteDivLarge(i, _, t, e) {
        const g = _.__halfDigitLength(), n = _.length, o = i.__halfDigitLength() - g;
        let s = null;
        t && (s = new JSBI(o + 2 >>> 1, false), s.__initializeDigits());
        const l = new JSBI(g + 2 >>> 1, false);
        l.__initializeDigits();
        const r = JSBI.__clz15(_.__halfDigit(g - 1));
        0 < r && (_ = JSBI.__specialLeftShift(_, r, 0));
        const a = JSBI.__specialLeftShift(i, r, 1), u = _.__halfDigit(g - 1);
        let d = 0;
        for (let r2, h = o; 0 <= h; h--) {
          r2 = 32767;
          const i2 = a.__halfDigit(h + g);
          if (i2 !== u) {
            const t2 = (i2 << 15 | a.__halfDigit(h + g - 1)) >>> 0;
            r2 = 0 | t2 / u;
            let e3 = 0 | t2 % u;
            const n2 = _.__halfDigit(g - 2), o2 = a.__halfDigit(h + g - 2);
            for (; JSBI.__imul(r2, n2) >>> 0 > (e3 << 16 | o2) >>> 0 && (r2--, e3 += u, !(32767 < e3)); )
              ;
          }
          JSBI.__internalMultiplyAdd(_, r2, 0, n, l);
          let e2 = a.__inplaceSub(l, h, g + 1);
          e2 !== 0 && (e2 = a.__inplaceAdd(_, h, g), a.__setHalfDigit(h + g, 32767 & a.__halfDigit(h + g) + e2), r2--), t && (1 & h ? d = r2 << 15 : s.__setDigit(h >>> 1, d | r2));
        }
        if (e)
          return a.__inplaceRightShift(r), t ? { quotient: s, remainder: a } : a;
        if (t)
          return s;
        throw new Error("unreachable");
      }
      static __clz15(i) {
        return JSBI.__clz30(i) - 15;
      }
      __inplaceAdd(_, t, e) {
        let n = 0;
        for (let g = 0; g < e; g++) {
          const i = this.__halfDigit(t + g) + _.__halfDigit(g) + n;
          n = i >>> 15, this.__setHalfDigit(t + g, 32767 & i);
        }
        return n;
      }
      __inplaceSub(_, t, e) {
        let n = 0;
        if (1 & t) {
          t >>= 1;
          let g = this.__digit(t), o = 32767 & g, s = 0;
          for (; s < e - 1 >>> 1; s++) {
            const i2 = _.__digit(s), e2 = (g >>> 15) - (32767 & i2) - n;
            n = 1 & e2 >>> 15, this.__setDigit(t + s, (32767 & e2) << 15 | 32767 & o), g = this.__digit(t + s + 1), o = (32767 & g) - (i2 >>> 15) - n, n = 1 & o >>> 15;
          }
          const i = _.__digit(s), l = (g >>> 15) - (32767 & i) - n;
          n = 1 & l >>> 15, this.__setDigit(t + s, (32767 & l) << 15 | 32767 & o);
          if (t + s + 1 >= this.length)
            throw new RangeError("out of bounds");
          (1 & e) == 0 && (g = this.__digit(t + s + 1), o = (32767 & g) - (i >>> 15) - n, n = 1 & o >>> 15, this.__setDigit(t + _.length, 1073709056 & g | 32767 & o));
        } else {
          t >>= 1;
          let g = 0;
          for (; g < _.length - 1; g++) {
            const i2 = this.__digit(t + g), e2 = _.__digit(g), o2 = (32767 & i2) - (32767 & e2) - n;
            n = 1 & o2 >>> 15;
            const s2 = (i2 >>> 15) - (e2 >>> 15) - n;
            n = 1 & s2 >>> 15, this.__setDigit(t + g, (32767 & s2) << 15 | 32767 & o2);
          }
          const i = this.__digit(t + g), o = _.__digit(g), s = (32767 & i) - (32767 & o) - n;
          n = 1 & s >>> 15;
          let l = 0;
          (1 & e) == 0 && (l = (i >>> 15) - (o >>> 15) - n, n = 1 & l >>> 15), this.__setDigit(t + g, (32767 & l) << 15 | 32767 & s);
        }
        return n;
      }
      __inplaceRightShift(_) {
        if (_ === 0)
          return;
        let t = this.__digit(0) >>> _;
        const e = this.length - 1;
        for (let n = 0; n < e; n++) {
          const i = this.__digit(n + 1);
          this.__setDigit(n, 1073741823 & i << 30 - _ | t), t = i >>> _;
        }
        this.__setDigit(e, t);
      }
      static __specialLeftShift(_, t, e) {
        const g = _.length, n = new JSBI(g + e, false);
        if (t === 0) {
          for (let t2 = 0; t2 < g; t2++)
            n.__setDigit(t2, _.__digit(t2));
          return 0 < e && n.__setDigit(g, 0), n;
        }
        let o = 0;
        for (let s = 0; s < g; s++) {
          const i = _.__digit(s);
          n.__setDigit(s, 1073741823 & i << t | o), o = i >>> 30 - t;
        }
        return 0 < e && n.__setDigit(g, o), n;
      }
      static __leftShiftByAbsolute(_, i) {
        const t = JSBI.__toShiftAmount(i);
        if (0 > t)
          throw new RangeError("BigInt too big");
        const e = 0 | t / 30, n = t % 30, g = _.length, o = n !== 0 && _.__digit(g - 1) >>> 30 - n != 0, s = g + e + (o ? 1 : 0), l = new JSBI(s, _.sign);
        if (n === 0) {
          let t2 = 0;
          for (; t2 < e; t2++)
            l.__setDigit(t2, 0);
          for (; t2 < s; t2++)
            l.__setDigit(t2, _.__digit(t2 - e));
        } else {
          let t2 = 0;
          for (let _2 = 0; _2 < e; _2++)
            l.__setDigit(_2, 0);
          for (let o2 = 0; o2 < g; o2++) {
            const i2 = _.__digit(o2);
            l.__setDigit(o2 + e, 1073741823 & i2 << n | t2), t2 = i2 >>> 30 - n;
          }
          if (o)
            l.__setDigit(g + e, t2);
          else if (t2 !== 0)
            throw new Error("implementation bug");
        }
        return l.__trim();
      }
      static __rightShiftByAbsolute(_, i) {
        const t = _.length, e = _.sign, n = JSBI.__toShiftAmount(i);
        if (0 > n)
          return JSBI.__rightShiftByMaximum(e);
        const g = 0 | n / 30, o = n % 30;
        let s = t - g;
        if (0 >= s)
          return JSBI.__rightShiftByMaximum(e);
        let l = false;
        if (e) {
          if ((_.__digit(g) & (1 << o) - 1) != 0)
            l = true;
          else
            for (let t2 = 0; t2 < g; t2++)
              if (_.__digit(t2) !== 0) {
                l = true;
                break;
              }
        }
        if (l && o === 0) {
          const i2 = _.__digit(t - 1);
          ~i2 == 0 && s++;
        }
        let r = new JSBI(s, e);
        if (o === 0) {
          r.__setDigit(s - 1, 0);
          for (let e2 = g; e2 < t; e2++)
            r.__setDigit(e2 - g, _.__digit(e2));
        } else {
          let e2 = _.__digit(g) >>> o;
          const n2 = t - g - 1;
          for (let t2 = 0; t2 < n2; t2++) {
            const i2 = _.__digit(t2 + g + 1);
            r.__setDigit(t2, 1073741823 & i2 << 30 - o | e2), e2 = i2 >>> o;
          }
          r.__setDigit(n2, e2);
        }
        return l && (r = JSBI.__absoluteAddOne(r, true, r)), r.__trim();
      }
      static __rightShiftByMaximum(i) {
        return i ? JSBI.__oneDigit(1, true) : JSBI.__zero();
      }
      static __toShiftAmount(i) {
        if (1 < i.length)
          return -1;
        const _ = i.__unsignedDigit(0);
        return _ > JSBI.__kMaxLengthBits ? -1 : _;
      }
      static __toPrimitive(i, _ = "default") {
        if (typeof i != "object")
          return i;
        if (i.constructor === JSBI)
          return i;
        if (typeof Symbol != "undefined" && typeof Symbol.toPrimitive == "symbol") {
          const t2 = i[Symbol.toPrimitive];
          if (t2) {
            const i2 = t2(_);
            if (typeof i2 != "object")
              return i2;
            throw new TypeError("Cannot convert object to primitive value");
          }
        }
        const t = i.valueOf;
        if (t) {
          const _2 = t.call(i);
          if (typeof _2 != "object")
            return _2;
        }
        const e = i.toString;
        if (e) {
          const _2 = e.call(i);
          if (typeof _2 != "object")
            return _2;
        }
        throw new TypeError("Cannot convert object to primitive value");
      }
      static __toNumeric(i) {
        return JSBI.__isBigInt(i) ? i : +i;
      }
      static __isBigInt(i) {
        return typeof i == "object" && i !== null && i.constructor === JSBI;
      }
      static __truncateToNBits(i, _) {
        const t = 0 | (i + 29) / 30, e = new JSBI(t, _.sign), n = t - 1;
        for (let t2 = 0; t2 < n; t2++)
          e.__setDigit(t2, _.__digit(t2));
        let g = _.__digit(n);
        if (i % 30 != 0) {
          const _2 = 32 - i % 30;
          g = g << _2 >>> _2;
        }
        return e.__setDigit(n, g), e.__trim();
      }
      static __truncateAndSubFromPowerOfTwo(_, t, e) {
        var n = Math.min;
        const g = 0 | (_ + 29) / 30, o = new JSBI(g, e);
        let s = 0;
        const l = g - 1;
        let a = 0;
        for (const i = n(l, t.length); s < i; s++) {
          const i2 = 0 - t.__digit(s) - a;
          a = 1 & i2 >>> 30, o.__setDigit(s, 1073741823 & i2);
        }
        for (; s < l; s++)
          o.__setDigit(s, 0 | 1073741823 & -a);
        let u = l < t.length ? t.__digit(l) : 0;
        const d = _ % 30;
        let h;
        if (d == 0)
          h = 0 - u - a, h &= 1073741823;
        else {
          const i = 32 - d;
          u = u << i >>> i;
          const _2 = 1 << 32 - i;
          h = _2 - u - a, h &= _2 - 1;
        }
        return o.__setDigit(l, h), o.__trim();
      }
      __digit(_) {
        return this[_];
      }
      __unsignedDigit(_) {
        return this[_] >>> 0;
      }
      __setDigit(_, i) {
        this[_] = 0 | i;
      }
      __setDigitGrow(_, i) {
        this[_] = 0 | i;
      }
      __halfDigitLength() {
        const i = this.length;
        return 32767 >= this.__unsignedDigit(i - 1) ? 2 * i - 1 : 2 * i;
      }
      __halfDigit(_) {
        return 32767 & this[_ >>> 1] >>> 15 * (1 & _);
      }
      __setHalfDigit(_, i) {
        const t = _ >>> 1, e = this.__digit(t), n = 1 & _ ? 32767 & e | i << 15 : 1073709056 & e | 32767 & i;
        this.__setDigit(t, n);
      }
      static __digitPow(i, _) {
        let t = 1;
        for (; 0 < _; )
          1 & _ && (t *= i), _ >>>= 1, i *= i;
        return t;
      }
      static __isOneDigitInt(i) {
        return (1073741823 & i) === i;
      }
    };
    JSBI.__kMaxLength = 33554432, JSBI.__kMaxLengthBits = JSBI.__kMaxLength << 5, JSBI.__kMaxBitsPerChar = [0, 0, 32, 51, 64, 75, 83, 90, 96, 102, 107, 111, 115, 119, 122, 126, 128, 131, 134, 136, 139, 141, 143, 145, 147, 149, 151, 153, 154, 156, 158, 159, 160, 162, 163, 165, 166], JSBI.__kBitsPerCharTableShift = 5, JSBI.__kBitsPerCharTableMultiplier = 1 << JSBI.__kBitsPerCharTableShift, JSBI.__kConversionChars = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], JSBI.__kBitConversionBuffer = new ArrayBuffer(8), JSBI.__kBitConversionDouble = new Float64Array(JSBI.__kBitConversionBuffer), JSBI.__kBitConversionInts = new Int32Array(JSBI.__kBitConversionBuffer), JSBI.__clz30 = Math.clz32 ? function(i) {
      return Math.clz32(i) - 2;
    } : function(i) {
      return i === 0 ? 30 : 0 | 29 - (0 | Math.log(i >>> 0) / Math.LN2);
    }, JSBI.__imul = Math.imul || function(i, _) {
      return 0 | i * _;
    };
    jsbi_default = JSBI;
  }
});

// node_modules/@ngraveio/bc-ur/dist/xoshiro.js
var require_xoshiro = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/xoshiro.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var utils_1 = require_utils2();
    var bignumber_js_1 = __importDefault((init_bignumber(), __toCommonJS(bignumber_exports)));
    var jsbi_1 = __importDefault((init_jsbi(), __toCommonJS(jsbi_exports)));
    var MAX_UINT64 = 18446744073709552e3;
    var rotl = (x, k) => jsbi_1.default.bitwiseXor(jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(x, jsbi_1.default.BigInt(k))), jsbi_1.default.BigInt(jsbi_1.default.asUintN(64, jsbi_1.default.signedRightShift(x, jsbi_1.default.subtract(jsbi_1.default.BigInt(64), jsbi_1.default.BigInt(k))))));
    var Xoshiro = class {
      constructor(seed) {
        this.next = () => {
          return new bignumber_js_1.default(this.roll().toString());
        };
        this.nextDouble = () => {
          return new bignumber_js_1.default(this.roll().toString()).div(MAX_UINT64 + 1);
        };
        this.nextInt = (low, high) => {
          return Math.floor(this.nextDouble().toNumber() * (high - low + 1) + low);
        };
        this.nextByte = () => this.nextInt(0, 255);
        this.nextData = (count) => [...new Array(count)].map(() => this.nextByte());
        const digest = utils_1.sha256Hash(seed);
        this.s = [jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0)];
        this.setS(digest);
      }
      setS(digest) {
        for (let i = 0; i < 4; i++) {
          let o = i * 8;
          let v = jsbi_1.default.BigInt(0);
          for (let n = 0; n < 8; n++) {
            v = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(v, jsbi_1.default.BigInt(8)));
            v = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseOr(v, jsbi_1.default.BigInt(digest[o + n])));
          }
          this.s[i] = jsbi_1.default.asUintN(64, v);
        }
      }
      roll() {
        const result = jsbi_1.default.asUintN(64, jsbi_1.default.multiply(rotl(jsbi_1.default.asUintN(64, jsbi_1.default.multiply(this.s[1], jsbi_1.default.BigInt(5))), 7), jsbi_1.default.BigInt(9)));
        const t = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(this.s[1], jsbi_1.default.BigInt(17)));
        this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(this.s[0])));
        this.s[3] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[3], jsbi_1.default.BigInt(this.s[1])));
        this.s[1] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[1], jsbi_1.default.BigInt(this.s[2])));
        this.s[0] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[0], jsbi_1.default.BigInt(this.s[3])));
        this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(t)));
        this.s[3] = jsbi_1.default.asUintN(64, rotl(this.s[3], 45));
        return result;
      }
    };
    exports.default = Xoshiro;
  }
});

// node_modules/@apocentre/alias-sampling/index.js
var require_alias_sampling = __commonJS({
  "node_modules/@apocentre/alias-sampling/index.js"(exports, module) {
    init_define_process_env();
    function Sample(probabilities, outcomes, rng2) {
      "use strict";
      this.alias = [];
      this.prob = [];
      this.outcomes = outcomes || this.indexedOutcomes(probabilities.length);
      this.rng = rng2 || Math.random;
      this.precomputeAlias(probabilities);
    }
    Sample.prototype.next = function(numOfSamples) {
      "use strict";
      var n = numOfSamples || 1, out = [], i = 0;
      do {
        var c = Math.floor(this.rng() * this.prob.length);
        out[i] = this.outcomes[this.rng() < this.prob[c] ? c : this.alias[c]];
      } while (++i < n);
      return n > 1 ? out : out[0];
    };
    Sample.prototype.precomputeAlias = function(p) {
      "use strict";
      var n = p.length, sum = 0, nS = 0, nL = 0, P = [], S = [], L = [], g, i, a;
      for (i = 0; i < n; ++i) {
        if (p[i] < 0) {
          throw "Probability must be a positive: p[" + i + "]=" + p[i];
        }
        sum += p[i];
      }
      if (sum === 0) {
        throw "Probability cannot be zero.";
      }
      for (i = 0; i < n; ++i) {
        P[i] = p[i] * n / sum;
      }
      for (i = n - 1; i >= 0; --i) {
        if (P[i] < 1)
          S[nS++] = i;
        else
          L[nL++] = i;
      }
      while (nS && nL) {
        a = S[--nS];
        g = L[--nL];
        this.prob[a] = P[a];
        this.alias[a] = g;
        P[g] = P[g] + P[a] - 1;
        if (P[g] < 1)
          S[nS++] = g;
        else
          L[nL++] = g;
      }
      while (nL)
        this.prob[L[--nL]] = 1;
      while (nS)
        this.prob[S[--nS]] = 1;
    };
    Sample.prototype.indexedOutcomes = function(n) {
      "use strict";
      var o = [];
      for (var i = 0; i < n; i++)
        o[i] = i;
      return o;
    };
    Sample.prototype.randomInt = function(min, max) {
      "use strict";
      return Math.floor(this.rng() * (max - min)) + min;
    };
    module.exports = function(probabilities, outcomes, rng2) {
      "use strict";
      return new Sample(probabilities, outcomes, rng2);
    };
  }
});

// node_modules/@ngraveio/bc-ur/dist/fountainUtils.js
var require_fountainUtils = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/fountainUtils.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.chooseFragments = exports.shuffle = exports.chooseDegree = void 0;
    var utils_1 = require_utils2();
    var xoshiro_1 = __importDefault(require_xoshiro());
    var randomSampler = require_alias_sampling();
    var chooseDegree = (seqLenth, rng2) => {
      const degreeProbabilities = [...new Array(seqLenth)].map((_, index) => 1 / (index + 1));
      const degreeChooser = randomSampler(degreeProbabilities, null, rng2.nextDouble);
      return degreeChooser.next() + 1;
    };
    exports.chooseDegree = chooseDegree;
    var shuffle = (items, rng2) => {
      let remaining = [...items];
      let result = [];
      while (remaining.length > 0) {
        let index = rng2.nextInt(0, remaining.length - 1);
        let item = remaining[index];
        remaining.splice(index, 1);
        result.push(item);
      }
      return result;
    };
    exports.shuffle = shuffle;
    var chooseFragments = (seqNum, seqLength, checksum) => {
      if (seqNum <= seqLength) {
        return [seqNum - 1];
      } else {
        const seed = Buffer.concat([utils_1.intToBytes(seqNum), utils_1.intToBytes(checksum)]);
        const rng2 = new xoshiro_1.default(seed);
        const degree = exports.chooseDegree(seqLength, rng2);
        const indexes = [...new Array(seqLength)].map((_, index) => index);
        const shuffledIndexes = exports.shuffle(indexes, rng2);
        return shuffledIndexes.slice(0, degree);
      }
    };
    exports.chooseFragments = chooseFragments;
  }
});

// node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js
var require_fountainEncoder = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.FountainEncoderPart = void 0;
    var assert_1 = __importDefault(require_assert());
    var utils_1 = require_utils2();
    var fountainUtils_1 = require_fountainUtils();
    var cbor_1 = require_cbor();
    var FountainEncoderPart = class {
      constructor(_seqNum, _seqLength, _messageLength, _checksum, _fragment) {
        this._seqNum = _seqNum;
        this._seqLength = _seqLength;
        this._messageLength = _messageLength;
        this._checksum = _checksum;
        this._fragment = _fragment;
      }
      get messageLength() {
        return this._messageLength;
      }
      get fragment() {
        return this._fragment;
      }
      get seqNum() {
        return this._seqNum;
      }
      get seqLength() {
        return this._seqLength;
      }
      get checksum() {
        return this._checksum;
      }
      cbor() {
        const result = cbor_1.cborEncode([
          this._seqNum,
          this._seqLength,
          this._messageLength,
          this._checksum,
          this._fragment
        ]);
        return Buffer.from(result);
      }
      description() {
        return `seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`;
      }
      static fromCBOR(cborPayload) {
        const [seqNum, seqLength, messageLength, checksum, fragment] = cbor_1.cborDecode(cborPayload);
        assert_1.default(typeof seqNum === "number");
        assert_1.default(typeof seqLength === "number");
        assert_1.default(typeof messageLength === "number");
        assert_1.default(typeof checksum === "number");
        assert_1.default(Buffer.isBuffer(fragment) && fragment.length > 0);
        return new FountainEncoderPart(seqNum, seqLength, messageLength, checksum, Buffer.from(fragment));
      }
    };
    exports.FountainEncoderPart = FountainEncoderPart;
    var FountainEncoder = class {
      constructor(message, maxFragmentLength = 100, firstSeqNum = 0, minFragmentLength = 10) {
        const fragmentLength = FountainEncoder.findNominalFragmentLength(message.length, minFragmentLength, maxFragmentLength);
        this._messageLength = message.length;
        this._fragments = FountainEncoder.partitionMessage(message, fragmentLength);
        this.fragmentLength = fragmentLength;
        this.seqNum = utils_1.toUint32(firstSeqNum);
        this.checksum = utils_1.getCRC(message);
      }
      get fragmentsLength() {
        return this._fragments.length;
      }
      get fragments() {
        return this._fragments;
      }
      get messageLength() {
        return this._messageLength;
      }
      isComplete() {
        return this.seqNum >= this._fragments.length;
      }
      isSinglePart() {
        return this._fragments.length === 1;
      }
      seqLength() {
        return this._fragments.length;
      }
      mix(indexes) {
        return indexes.reduce((result, index) => utils_1.bufferXOR(this._fragments[index], result), Buffer.alloc(this.fragmentLength, 0));
      }
      nextPart() {
        this.seqNum = utils_1.toUint32(this.seqNum + 1);
        const indexes = fountainUtils_1.chooseFragments(this.seqNum, this._fragments.length, this.checksum);
        const mixed = this.mix(indexes);
        return new FountainEncoderPart(this.seqNum, this._fragments.length, this._messageLength, this.checksum, mixed);
      }
      static findNominalFragmentLength(messageLength, minFragmentLength, maxFragmentLength) {
        assert_1.default(messageLength > 0);
        assert_1.default(minFragmentLength > 0);
        assert_1.default(maxFragmentLength >= minFragmentLength);
        const maxFragmentCount = Math.ceil(messageLength / minFragmentLength);
        let fragmentLength = 0;
        for (let fragmentCount = 1; fragmentCount <= maxFragmentCount; fragmentCount++) {
          fragmentLength = Math.ceil(messageLength / fragmentCount);
          if (fragmentLength <= maxFragmentLength) {
            break;
          }
        }
        return fragmentLength;
      }
      static partitionMessage(message, fragmentLength) {
        let remaining = Buffer.from(message);
        let fragment;
        let _fragments = [];
        while (remaining.length > 0) {
          [fragment, remaining] = utils_1.split(remaining, -fragmentLength);
          fragment = Buffer.alloc(fragmentLength, 0).fill(fragment, 0, fragment.length);
          _fragments.push(fragment);
        }
        return _fragments;
      }
    };
    exports.default = FountainEncoder;
  }
});

// node_modules/@ngraveio/bc-ur/dist/bytewords.js
var require_bytewords = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/bytewords.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var assert_1 = __importDefault(require_assert());
    var utils_1 = require_utils2();
    var bytewords = "ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom";
    var bytewordsLookUpTable = [];
    var BYTEWORDS_NUM = 256;
    var BYTEWORD_LENGTH = 4;
    var MINIMAL_BYTEWORD_LENGTH = 2;
    var STYLES;
    (function(STYLES2) {
      STYLES2["STANDARD"] = "standard";
      STYLES2["URI"] = "uri";
      STYLES2["MINIMAL"] = "minimal";
    })(STYLES || (STYLES = {}));
    var getWord = (index) => {
      return bytewords.slice(index * BYTEWORD_LENGTH, index * BYTEWORD_LENGTH + BYTEWORD_LENGTH);
    };
    var getMinimalWord = (index) => {
      const byteword = getWord(index);
      return `${byteword[0]}${byteword[BYTEWORD_LENGTH - 1]}`;
    };
    var addCRC = (string) => {
      const crc = utils_1.getCRCHex(Buffer.from(string, "hex"));
      return `${string}${crc}`;
    };
    var encodeWithSeparator = (word, separator) => {
      const crcAppendedWord = addCRC(word);
      const crcWordBuff = Buffer.from(crcAppendedWord, "hex");
      const result = crcWordBuff.reduce((result2, w) => [...result2, getWord(w)], []);
      return result.join(separator);
    };
    var encodeMinimal = (word) => {
      const crcAppendedWord = addCRC(word);
      const crcWordBuff = Buffer.from(crcAppendedWord, "hex");
      const result = crcWordBuff.reduce((result2, w) => result2 + getMinimalWord(w), "");
      return result;
    };
    var decodeWord = (word, wordLength) => {
      assert_1.default(word.length === wordLength, "Invalid Bytewords: word.length does not match wordLength provided");
      const dim = 26;
      if (bytewordsLookUpTable.length === 0) {
        const array_len = dim * dim;
        bytewordsLookUpTable = [...new Array(array_len)].map(() => -1);
        for (let i = 0; i < BYTEWORDS_NUM; i++) {
          const byteword = getWord(i);
          let x2 = byteword[0].charCodeAt(0) - "a".charCodeAt(0);
          let y2 = byteword[3].charCodeAt(0) - "a".charCodeAt(0);
          let offset2 = y2 * dim + x2;
          bytewordsLookUpTable[offset2] = i;
        }
      }
      let x = word[0].toLowerCase().charCodeAt(0) - "a".charCodeAt(0);
      let y = word[wordLength == 4 ? 3 : 1].toLowerCase().charCodeAt(0) - "a".charCodeAt(0);
      assert_1.default(0 <= x && x < dim && 0 <= y && y < dim, "Invalid Bytewords: invalid word");
      let offset = y * dim + x;
      let value = bytewordsLookUpTable[offset];
      assert_1.default(value !== -1, "Invalid Bytewords: value not in lookup table");
      if (wordLength == BYTEWORD_LENGTH) {
        const byteword = getWord(value);
        let c1 = word[1].toLowerCase();
        let c2 = word[2].toLowerCase();
        assert_1.default(c1 === byteword[1] && c2 === byteword[2], "Invalid Bytewords: invalid middle letters of word");
      }
      return Buffer.from([value]).toString("hex");
    };
    var _decode = (string, separator, wordLength) => {
      const words = wordLength == BYTEWORD_LENGTH ? string.split(separator) : utils_1.partition(string, 2);
      const decodedString = words.map((word) => decodeWord(word, wordLength)).join("");
      assert_1.default(decodedString.length >= 5, "Invalid Bytewords: invalid decoded string length");
      const [body, bodyChecksum] = utils_1.split(Buffer.from(decodedString, "hex"), 4);
      const checksum = utils_1.getCRCHex(body);
      assert_1.default(checksum === bodyChecksum.toString("hex"), "Invalid Checksum");
      return body.toString("hex");
    };
    var decode = (string, style = STYLES.MINIMAL) => {
      switch (style) {
        case STYLES.STANDARD:
          return _decode(string, " ", BYTEWORD_LENGTH);
        case STYLES.URI:
          return _decode(string, "-", BYTEWORD_LENGTH);
        case STYLES.MINIMAL:
          return _decode(string, "", MINIMAL_BYTEWORD_LENGTH);
        default:
          throw new Error(`Invalid style ${style}`);
      }
    };
    var encode = (string, style = STYLES.MINIMAL) => {
      switch (style) {
        case STYLES.STANDARD:
          return encodeWithSeparator(string, " ");
        case STYLES.URI:
          return encodeWithSeparator(string, "-");
        case STYLES.MINIMAL:
          return encodeMinimal(string);
        default:
          throw new Error(`Invalid style ${style}`);
      }
    };
    exports.default = {
      decode,
      encode,
      STYLES
    };
  }
});

// node_modules/@ngraveio/bc-ur/dist/urEncoder.js
var require_urEncoder = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/urEncoder.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var fountainEncoder_1 = __importDefault(require_fountainEncoder());
    var bytewords_1 = __importDefault(require_bytewords());
    var UREncoder = class {
      constructor(_ur, maxFragmentLength, firstSeqNum, minFragmentLength) {
        this.ur = _ur;
        this.fountainEncoder = new fountainEncoder_1.default(_ur.cbor, maxFragmentLength, firstSeqNum, minFragmentLength);
      }
      get fragmentsLength() {
        return this.fountainEncoder.fragmentsLength;
      }
      get fragments() {
        return this.fountainEncoder.fragments;
      }
      get messageLength() {
        return this.fountainEncoder.messageLength;
      }
      get cbor() {
        return this.ur.cbor;
      }
      encodeWhole() {
        return [...new Array(this.fragmentsLength)].map(() => this.nextPart());
      }
      nextPart() {
        const part = this.fountainEncoder.nextPart();
        if (this.fountainEncoder.isSinglePart()) {
          return UREncoder.encodeSinglePart(this.ur);
        } else {
          return UREncoder.encodePart(this.ur.type, part);
        }
      }
      static encodeUri(scheme, pathComponents) {
        const path = pathComponents.join("/");
        return [scheme, path].join(":");
      }
      static encodeUR(pathComponents) {
        return UREncoder.encodeUri("ur", pathComponents);
      }
      static encodePart(type, part) {
        const seq = `${part.seqNum}-${part.seqLength}`;
        const body = bytewords_1.default.encode(part.cbor().toString("hex"), bytewords_1.default.STYLES.MINIMAL);
        return UREncoder.encodeUR([type, seq, body]);
      }
      static encodeSinglePart(ur) {
        const body = bytewords_1.default.encode(ur.cbor.toString("hex"), bytewords_1.default.STYLES.MINIMAL);
        return UREncoder.encodeUR([ur.type, body]);
      }
    };
    exports.default = UREncoder;
  }
});

// node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js
var require_fountainDecoder = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.FountainDecoderPart = void 0;
    var utils_1 = require_utils2();
    var fountainUtils_1 = require_fountainUtils();
    var errors_1 = require_errors();
    var FountainDecoderPart = class {
      constructor(_indexes, _fragment) {
        this._indexes = _indexes;
        this._fragment = _fragment;
      }
      get indexes() {
        return this._indexes;
      }
      get fragment() {
        return this._fragment;
      }
      static fromEncoderPart(encoderPart) {
        const indexes = fountainUtils_1.chooseFragments(encoderPart.seqNum, encoderPart.seqLength, encoderPart.checksum);
        const fragment = encoderPart.fragment;
        return new FountainDecoderPart(indexes, fragment);
      }
      isSimple() {
        return this.indexes.length === 1;
      }
    };
    exports.FountainDecoderPart = FountainDecoderPart;
    var FountainDecoder = class {
      constructor() {
        this.result = void 0;
        this.expectedMessageLength = 0;
        this.expectedChecksum = 0;
        this.expectedFragmentLength = 0;
        this.processedPartsCount = 0;
        this.expectedPartIndexes = [];
        this.lastPartIndexes = [];
        this.queuedParts = [];
        this.receivedPartIndexes = [];
        this.mixedParts = [];
        this.simpleParts = [];
      }
      validatePart(part) {
        if (this.expectedPartIndexes.length === 0) {
          [...new Array(part.seqLength)].forEach((_, index) => this.expectedPartIndexes.push(index));
          this.expectedMessageLength = part.messageLength;
          this.expectedChecksum = part.checksum;
          this.expectedFragmentLength = part.fragment.length;
        } else {
          if (this.expectedPartIndexes.length !== part.seqLength) {
            return false;
          }
          if (this.expectedMessageLength !== part.messageLength) {
            return false;
          }
          if (this.expectedChecksum !== part.checksum) {
            return false;
          }
          if (this.expectedFragmentLength !== part.fragment.length) {
            return false;
          }
        }
        return true;
      }
      reducePartByPart(a, b) {
        if (utils_1.arrayContains(a.indexes, b.indexes)) {
          const newIndexes = utils_1.setDifference(a.indexes, b.indexes);
          const newFragment = utils_1.bufferXOR(a.fragment, b.fragment);
          return new FountainDecoderPart(newIndexes, newFragment);
        } else {
          return a;
        }
      }
      reduceMixedBy(part) {
        const newMixed = [];
        this.mixedParts.map(({ value: mixedPart }) => this.reducePartByPart(mixedPart, part)).forEach((reducedPart) => {
          if (reducedPart.isSimple()) {
            this.queuedParts.push(reducedPart);
          } else {
            newMixed.push({ key: reducedPart.indexes, value: reducedPart });
          }
        });
        this.mixedParts = newMixed;
      }
      processSimplePart(part) {
        const fragmentIndex = part.indexes[0];
        if (this.receivedPartIndexes.includes(fragmentIndex)) {
          return;
        }
        this.simpleParts.push({ key: part.indexes, value: part });
        this.receivedPartIndexes.push(fragmentIndex);
        if (utils_1.arraysEqual(this.receivedPartIndexes, this.expectedPartIndexes)) {
          const sortedParts = this.simpleParts.map(({ value }) => value).sort((a, b) => a.indexes[0] - b.indexes[0]);
          const message = FountainDecoder.joinFragments(sortedParts.map((part2) => part2.fragment), this.expectedMessageLength);
          const checksum = utils_1.getCRC(message);
          if (checksum === this.expectedChecksum) {
            this.result = message;
          } else {
            this.error = new errors_1.InvalidChecksumError();
          }
        } else {
          this.reduceMixedBy(part);
        }
      }
      processMixedPart(part) {
        if (this.mixedParts.some(({ key: indexes }) => utils_1.arraysEqual(indexes, part.indexes))) {
          return;
        }
        let p2 = this.simpleParts.reduce((acc, { value: p }) => this.reducePartByPart(acc, p), part);
        p2 = this.mixedParts.reduce((acc, { value: p }) => this.reducePartByPart(acc, p), p2);
        if (p2.isSimple()) {
          this.queuedParts.push(p2);
        } else {
          this.reduceMixedBy(p2);
          this.mixedParts.push({ key: p2.indexes, value: p2 });
        }
      }
      processQueuedItem() {
        if (this.queuedParts.length === 0) {
          return;
        }
        const part = this.queuedParts.shift();
        if (part.isSimple()) {
          this.processSimplePart(part);
        } else {
          this.processMixedPart(part);
        }
      }
      receivePart(encoderPart) {
        if (this.isComplete()) {
          return false;
        }
        if (!this.validatePart(encoderPart)) {
          return false;
        }
        const decoderPart = FountainDecoderPart.fromEncoderPart(encoderPart);
        this.lastPartIndexes = decoderPart.indexes;
        this.queuedParts.push(decoderPart);
        while (!this.isComplete() && this.queuedParts.length > 0) {
          this.processQueuedItem();
        }
        ;
        this.processedPartsCount += 1;
        return true;
      }
      isComplete() {
        return Boolean(this.result !== void 0 && this.result.length > 0);
      }
      isSuccess() {
        return Boolean(this.error === void 0 && this.isComplete());
      }
      resultMessage() {
        return this.isSuccess() ? this.result : Buffer.from([]);
      }
      isFailure() {
        return this.error !== void 0;
      }
      resultError() {
        return this.error ? this.error.message : "";
      }
      expectedPartCount() {
        return this.expectedPartIndexes.length;
      }
      getExpectedPartIndexes() {
        return [...this.expectedPartIndexes];
      }
      getReceivedPartIndexes() {
        return [...this.receivedPartIndexes];
      }
      getLastPartIndexes() {
        return [...this.lastPartIndexes];
      }
      estimatedPercentComplete() {
        if (this.isComplete()) {
          return 1;
        }
        const expectedPartCount = this.expectedPartCount();
        if (expectedPartCount === 0) {
          return 0;
        }
        return Math.min(0.99, this.processedPartsCount / (expectedPartCount * 1.75));
      }
      getProgress() {
        if (this.isComplete()) {
          return 1;
        }
        const expectedPartCount = this.expectedPartCount();
        if (expectedPartCount === 0) {
          return 0;
        }
        return this.receivedPartIndexes.length / expectedPartCount;
      }
    };
    exports.default = FountainDecoder;
    FountainDecoder.joinFragments = (fragments, messageLength) => {
      return Buffer.concat(fragments).slice(0, messageLength);
    };
  }
});

// node_modules/@ngraveio/bc-ur/dist/urDecoder.js
var require_urDecoder = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/urDecoder.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var fountainDecoder_1 = __importDefault(require_fountainDecoder());
    var bytewords_1 = __importDefault(require_bytewords());
    var assert_1 = __importDefault(require_assert());
    var utils_1 = require_utils2();
    var errors_1 = require_errors();
    var ur_1 = __importDefault(require_ur());
    var fountainEncoder_1 = require_fountainEncoder();
    var URDecoder = class {
      constructor(fountainDecoder = new fountainDecoder_1.default(), type = "bytes") {
        this.fountainDecoder = fountainDecoder;
        this.type = type;
        assert_1.default(utils_1.isURType(type), "Invalid UR type");
        this.expected_type = "";
      }
      static decodeBody(type, message) {
        const cbor = bytewords_1.default.decode(message, bytewords_1.default.STYLES.MINIMAL);
        return new ur_1.default(Buffer.from(cbor, "hex"), type);
      }
      validatePart(type) {
        if (this.expected_type) {
          return this.expected_type === type;
        }
        if (!utils_1.isURType(type)) {
          return false;
        }
        this.expected_type = type;
        return true;
      }
      static decode(message) {
        const [type, components] = this.parse(message);
        if (components.length === 0) {
          throw new errors_1.InvalidPathLengthError();
        }
        const body = components[0];
        return URDecoder.decodeBody(type, body);
      }
      static parse(message) {
        const lowercase = message.toLowerCase();
        const prefix = lowercase.slice(0, 3);
        if (prefix !== "ur:") {
          throw new errors_1.InvalidSchemeError();
        }
        const components = lowercase.slice(3).split("/");
        const type = components[0];
        if (components.length < 2) {
          throw new errors_1.InvalidPathLengthError();
        }
        if (!utils_1.isURType(type)) {
          throw new errors_1.InvalidTypeError();
        }
        return [type, components.slice(1)];
      }
      static parseSequenceComponent(s) {
        const components = s.split("-");
        if (components.length !== 2) {
          throw new errors_1.InvalidSequenceComponentError();
        }
        const seqNum = utils_1.toUint32(Number(components[0]));
        const seqLength = Number(components[1]);
        if (seqNum < 1 || seqLength < 1) {
          throw new errors_1.InvalidSequenceComponentError();
        }
        return [seqNum, seqLength];
      }
      receivePart(s) {
        if (this.result !== void 0) {
          return false;
        }
        const [type, components] = URDecoder.parse(s);
        if (!this.validatePart(type)) {
          return false;
        }
        if (components.length === 1) {
          this.result = URDecoder.decodeBody(type, components[0]);
          return true;
        }
        if (components.length !== 2) {
          throw new errors_1.InvalidPathLengthError();
        }
        const [seq, fragment] = components;
        const [seqNum, seqLength] = URDecoder.parseSequenceComponent(seq);
        const cbor = bytewords_1.default.decode(fragment, bytewords_1.default.STYLES.MINIMAL);
        const part = fountainEncoder_1.FountainEncoderPart.fromCBOR(cbor);
        if (seqNum !== part.seqNum || seqLength !== part.seqLength) {
          return false;
        }
        if (!this.fountainDecoder.receivePart(part)) {
          return false;
        }
        if (this.fountainDecoder.isSuccess()) {
          this.result = new ur_1.default(this.fountainDecoder.resultMessage(), type);
        } else if (this.fountainDecoder.isFailure()) {
          this.error = new errors_1.InvalidSchemeError();
        }
        return true;
      }
      resultUR() {
        return this.result ? this.result : new ur_1.default(Buffer.from([]));
      }
      isComplete() {
        return this.result && this.result.cbor.length > 0;
      }
      isSuccess() {
        return !this.error && this.isComplete();
      }
      isError() {
        return this.error !== void 0;
      }
      resultError() {
        return this.error ? this.error.message : "";
      }
      expectedPartCount() {
        return this.fountainDecoder.expectedPartCount();
      }
      expectedPartIndexes() {
        return this.fountainDecoder.getExpectedPartIndexes();
      }
      receivedPartIndexes() {
        return this.fountainDecoder.getReceivedPartIndexes();
      }
      lastPartIndexes() {
        return this.fountainDecoder.getLastPartIndexes();
      }
      estimatedPercentComplete() {
        return this.fountainDecoder.estimatedPercentComplete();
      }
      getProgress() {
        return this.fountainDecoder.getProgress();
      }
    };
    exports.default = URDecoder;
  }
});

// node_modules/@ngraveio/bc-ur/dist/index.js
var require_dist3 = __commonJS({
  "node_modules/@ngraveio/bc-ur/dist/index.js"(exports) {
    "use strict";
    init_define_process_env();
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.URDecoder = exports.UREncoder = exports.UR = void 0;
    var ur_1 = __importDefault(require_ur());
    exports.UR = ur_1.default;
    var urEncoder_1 = __importDefault(require_urEncoder());
    exports.UREncoder = urEncoder_1.default;
    var urDecoder_1 = __importDefault(require_urDecoder());
    exports.URDecoder = urDecoder_1.default;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js
var require_RegistryItem = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.RegistryItem = void 0;
    var bc_ur_1 = require_dist3();
    var lib_1 = require_lib();
    var RegistryItem = class {
      constructor() {
        this.toCBOR = () => {
          if (this.toDataItem() === void 0) {
            throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);
          }
          return lib_1.encodeDataItem(this.toDataItem());
        };
        this.toUR = () => {
          return new bc_ur_1.UR(this.toCBOR(), this.getRegistryType().getType());
        };
        this.toUREncoder = (maxFragmentLength, firstSeqNum, minFragmentLength) => {
          const ur = this.toUR();
          const urEncoder = new bc_ur_1.UREncoder(ur, maxFragmentLength, firstSeqNum, minFragmentLength);
          return urEncoder;
        };
      }
    };
    exports.RegistryItem = RegistryItem;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js
var require_CryptoCoinInfo = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoCoinInfo = exports.Network = exports.Type = void 0;
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2["type"] = "1";
      Keys2["network"] = "2";
    })(Keys || (Keys = {}));
    var Type;
    (function(Type2) {
      Type2[Type2["bitcoin"] = 0] = "bitcoin";
    })(Type = exports.Type || (exports.Type = {}));
    var Network;
    (function(Network2) {
      Network2[Network2["mainnet"] = 0] = "mainnet";
      Network2[Network2["testnet"] = 1] = "testnet";
    })(Network = exports.Network || (exports.Network = {}));
    var CryptoCoinInfo = class extends RegistryItem_1.RegistryItem {
      constructor(type, network) {
        super();
        this.type = type;
        this.network = network;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_COIN_INFO;
        };
        this.getType = () => {
          return this.type || Type.bitcoin;
        };
        this.getNetwork = () => {
          return this.network || Network.mainnet;
        };
        this.toDataItem = () => {
          const map = {};
          if (this.type) {
            map[Keys.type] = this.type;
          }
          if (this.network) {
            map[Keys.network] = this.network;
          }
          return new lib_1.DataItem(map);
        };
      }
    };
    exports.CryptoCoinInfo = CryptoCoinInfo;
    CryptoCoinInfo.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const type = map[Keys.type];
      const network = map[Keys.network];
      return new CryptoCoinInfo(type, network);
    };
    CryptoCoinInfo.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoCoinInfo.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js
var require_PathComponent = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PathComponent = void 0;
    var PathComponent = class {
      constructor(args) {
        this.getIndex = () => this.index;
        this.isWildcard = () => this.wildcard;
        this.isHardened = () => this.hardened;
        this.index = args.index;
        this.hardened = args.hardened;
        if (this.index !== void 0) {
          this.wildcard = false;
        } else {
          this.wildcard = true;
        }
        if (this.index && (this.index & PathComponent.HARDENED_BIT) !== 0) {
          throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`);
        }
      }
    };
    exports.PathComponent = PathComponent;
    PathComponent.HARDENED_BIT = 2147483648;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js
var require_CryptoKeypath = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoKeypath = void 0;
    var lib_1 = require_lib();
    var PathComponent_1 = require_PathComponent();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["components"] = 1] = "components";
      Keys2[Keys2["source_fingerprint"] = 2] = "source_fingerprint";
      Keys2[Keys2["depth"] = 3] = "depth";
    })(Keys || (Keys = {}));
    var CryptoKeypath = class extends RegistryItem_1.RegistryItem {
      constructor(components = [], sourceFingerprint, depth) {
        super();
        this.components = components;
        this.sourceFingerprint = sourceFingerprint;
        this.depth = depth;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_KEYPATH;
        };
        this.getPath = () => {
          if (this.components.length === 0) {
            return void 0;
          }
          const components2 = this.components.map((component) => {
            return `${component.isWildcard() ? "*" : component.getIndex()}${component.isHardened() ? "'" : ""}`;
          });
          return components2.join("/");
        };
        this.getComponents = () => this.components;
        this.getSourceFingerprint = () => this.sourceFingerprint;
        this.getDepth = () => this.depth;
        this.toDataItem = () => {
          const map = {};
          const components2 = [];
          this.components && this.components.forEach((component) => {
            if (component.isWildcard()) {
              components2.push([]);
            } else {
              components2.push(component.getIndex());
            }
            components2.push(component.isHardened() ? true : false);
          });
          map[Keys.components] = components2;
          if (this.sourceFingerprint) {
            map[Keys.source_fingerprint] = this.sourceFingerprint.readUInt32BE(0);
          }
          if (this.depth !== void 0) {
            map[Keys.depth] = this.depth;
          }
          return new lib_1.DataItem(map);
        };
      }
    };
    exports.CryptoKeypath = CryptoKeypath;
    CryptoKeypath.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const pathComponents = [];
      const components = map[Keys.components];
      if (components) {
        for (let i = 0; i < components.length; i += 2) {
          const isHardened = components[i + 1];
          const path = components[i];
          if (typeof path === "number") {
            pathComponents.push(new PathComponent_1.PathComponent({ index: path, hardened: isHardened }));
          } else {
            pathComponents.push(new PathComponent_1.PathComponent({ hardened: isHardened }));
          }
        }
      }
      const _sourceFingerprint = map[Keys.source_fingerprint];
      let sourceFingerprint;
      if (_sourceFingerprint) {
        sourceFingerprint = Buffer.alloc(4);
        sourceFingerprint.writeUInt32BE(_sourceFingerprint, 0);
      }
      const depth = map[Keys.depth];
      return new CryptoKeypath(pathComponents, sourceFingerprint, depth);
    };
    CryptoKeypath.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoKeypath.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js
var require_CryptoHDKey = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoHDKey = void 0;
    var bs58check_1 = require_bs58check();
    var CryptoCoinInfo_1 = require_CryptoCoinInfo();
    var CryptoKeypath_1 = require_CryptoKeypath();
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["is_master"] = 1] = "is_master";
      Keys2[Keys2["is_private"] = 2] = "is_private";
      Keys2[Keys2["key_data"] = 3] = "key_data";
      Keys2[Keys2["chain_code"] = 4] = "chain_code";
      Keys2[Keys2["use_info"] = 5] = "use_info";
      Keys2[Keys2["origin"] = 6] = "origin";
      Keys2[Keys2["children"] = 7] = "children";
      Keys2[Keys2["parent_fingerprint"] = 8] = "parent_fingerprint";
      Keys2[Keys2["name"] = 9] = "name";
      Keys2[Keys2["note"] = 10] = "note";
    })(Keys || (Keys = {}));
    var CryptoHDKey = class extends RegistryItem_1.RegistryItem {
      constructor(args) {
        super();
        this.getKey = () => this.key;
        this.getChainCode = () => this.chainCode;
        this.isMaster = () => this.master;
        this.isPrivateKey = () => !!this.privateKey;
        this.getUseInfo = () => this.useInfo;
        this.getOrigin = () => this.origin;
        this.getChildren = () => this.children;
        this.getParentFingerprint = () => this.parentFingerprint;
        this.getName = () => this.name;
        this.getNote = () => this.note;
        this.getBip32Key = () => {
          let version2;
          let depth;
          let index;
          let parentFingerprint = Buffer.alloc(4).fill(0);
          if (this.isMaster()) {
            version2 = Buffer.from("0488ADE4", "hex");
            depth = 0;
            index = 0;
          } else {
            depth = this.getOrigin().getComponents().length || this.getOrigin().getDepth();
            const paths = this.getOrigin().getComponents();
            const lastPath = paths[paths.length - 1];
            if (lastPath) {
              index = lastPath.isHardened() ? lastPath.getIndex() + 2147483648 : lastPath.getIndex();
              parentFingerprint = this.getParentFingerprint();
            }
            if (this.isPrivateKey()) {
              version2 = Buffer.from("0488ADE4", "hex");
            } else {
              version2 = Buffer.from("0488B21E", "hex");
            }
          }
          const depthBuffer = Buffer.alloc(1);
          depthBuffer.writeUInt8(depth, 0);
          const indexBuffer = Buffer.alloc(4);
          indexBuffer.writeUInt32BE(index, 0);
          const chainCode = this.getChainCode();
          const key = this.getKey();
          return bs58check_1.encode(Buffer.concat([version2, depthBuffer, parentFingerprint, indexBuffer, chainCode, key]));
        };
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_HDKEY;
        };
        this.setupMasterKey = (args2) => {
          this.master = true;
          this.key = args2.key;
          this.chainCode = args2.chainCode;
        };
        this.setupDeriveKey = (args2) => {
          this.master = false;
          this.privateKey = args2.isPrivateKey;
          this.key = args2.key;
          this.chainCode = args2.chainCode;
          this.useInfo = args2.useInfo;
          this.origin = args2.origin;
          this.children = args2.children;
          this.parentFingerprint = args2.parentFingerprint;
          this.name = args2.name;
          this.note = args2.note;
        };
        this.toDataItem = () => {
          const map = {};
          if (this.master) {
            map[Keys.is_master] = true;
            map[Keys.key_data] = this.key;
            map[Keys.chain_code] = this.chainCode;
          } else {
            if (this.privateKey !== void 0) {
              map[Keys.is_private] = this.privateKey;
            }
            map[Keys.key_data] = this.key;
            if (this.chainCode) {
              map[Keys.chain_code] = this.chainCode;
            }
            if (this.useInfo) {
              const useInfo = this.useInfo.toDataItem();
              useInfo.setTag(this.useInfo.getRegistryType().getTag());
              map[Keys.use_info] = useInfo;
            }
            if (this.origin) {
              const origin = this.origin.toDataItem();
              origin.setTag(this.origin.getRegistryType().getTag());
              map[Keys.origin] = origin;
            }
            if (this.children) {
              const children = this.children.toDataItem();
              children.setTag(this.children.getRegistryType().getTag());
              map[Keys.children] = children;
            }
            if (this.parentFingerprint) {
              map[Keys.parent_fingerprint] = this.parentFingerprint.readUInt32BE(0);
            }
            if (this.name !== void 0) {
              map[Keys.name] = this.name;
            }
            if (this.note !== void 0) {
              map[Keys.note] = this.note;
            }
          }
          return new lib_1.DataItem(map);
        };
        if (args.isMaster) {
          this.setupMasterKey(args);
        } else {
          this.setupDeriveKey(args);
        }
      }
    };
    exports.CryptoHDKey = CryptoHDKey;
    CryptoHDKey.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const isMaster = !!map[Keys.is_master];
      const isPrivateKey = map[Keys.is_private];
      const key = map[Keys.key_data];
      const chainCode = map[Keys.chain_code];
      const useInfo = map[Keys.use_info] ? CryptoCoinInfo_1.CryptoCoinInfo.fromDataItem(map[Keys.use_info]) : void 0;
      const origin = map[Keys.origin] ? CryptoKeypath_1.CryptoKeypath.fromDataItem(map[Keys.origin]) : void 0;
      const children = map[Keys.children] ? CryptoKeypath_1.CryptoKeypath.fromDataItem(map[Keys.children]) : void 0;
      let _parentFingerprint = map[Keys.parent_fingerprint];
      let parentFingerprint;
      if (_parentFingerprint) {
        parentFingerprint = Buffer.alloc(4);
        parentFingerprint.writeUInt32BE(_parentFingerprint, 0);
      }
      const name = map[Keys.name];
      const note = map[Keys.note];
      return new CryptoHDKey({
        isMaster,
        isPrivateKey,
        key,
        chainCode,
        useInfo,
        origin,
        children,
        parentFingerprint,
        name,
        note
      });
    };
    CryptoHDKey.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoHDKey.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js
var require_CryptoECKey = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoECKey = void 0;
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["curve"] = 1] = "curve";
      Keys2[Keys2["private"] = 2] = "private";
      Keys2[Keys2["data"] = 3] = "data";
    })(Keys || (Keys = {}));
    var CryptoECKey = class extends RegistryItem_1.RegistryItem {
      constructor(args) {
        super();
        this.getCurve = () => this.curve || 0;
        this.isPrivateKey = () => this.privateKey || false;
        this.getData = () => this.data;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_ECKEY;
        };
        this.toDataItem = () => {
          const map = {};
          if (this.curve) {
            map[Keys.curve] = this.curve;
          }
          if (this.privateKey !== void 0) {
            map[Keys.private] = this.privateKey;
          }
          map[Keys.data] = this.data;
          return new lib_1.DataItem(map);
        };
        this.data = args.data;
        this.curve = args.curve;
        this.privateKey = args.privateKey;
      }
    };
    exports.CryptoECKey = CryptoECKey;
    CryptoECKey.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const curve = map[Keys.curve];
      const privateKey = map[Keys.private];
      const data = map[Keys.data];
      if (!data) {
        throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${dataItem}`);
      }
      return new CryptoECKey({ data, curve, privateKey });
    };
    CryptoECKey.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoECKey.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js
var require_Bytes = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Bytes = void 0;
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Bytes = class extends RegistryItem_1.RegistryItem {
      constructor(bytes) {
        super();
        this.bytes = bytes;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.BYTES;
        };
        this.getData = () => this.bytes;
        this.toDataItem = () => {
          return new lib_1.DataItem(this.bytes);
        };
      }
    };
    exports.Bytes = Bytes;
    Bytes.fromDataItem = (dataItem) => {
      const bytes = dataItem.getData();
      if (!bytes) {
        throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${dataItem}`);
      }
      return new Bytes(bytes);
    };
    Bytes.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return Bytes.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js
var require_MultiKey = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.MultiKey = void 0;
    var CryptoECKey_1 = require_CryptoECKey();
    var CryptoHDKey_1 = require_CryptoHDKey();
    var DataItem_1 = require_DataItem();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["threshold"] = 1] = "threshold";
      Keys2[Keys2["keys"] = 2] = "keys";
    })(Keys || (Keys = {}));
    var MultiKey = class extends RegistryItem_1.RegistryItem {
      constructor(threshold, ecKeys, hdKeys) {
        super();
        this.threshold = threshold;
        this.ecKeys = ecKeys;
        this.hdKeys = hdKeys;
        this.getThreshold = () => this.threshold;
        this.getEcKeys = () => this.ecKeys;
        this.getHdKeys = () => this.hdKeys;
        this.toDataItem = () => {
          const map = {};
          map[Keys.threshold] = this.threshold;
          const keys = [...this.ecKeys, ...this.hdKeys].map((k) => {
            const dataItem = k.toDataItem();
            dataItem.setTag(k.getRegistryType().getTag());
            return dataItem;
          });
          map[Keys.keys] = keys;
          return new DataItem_1.DataItem(map);
        };
      }
    };
    exports.MultiKey = MultiKey;
    MultiKey.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const threshold = map[Keys.threshold];
      const keys = map[Keys.keys];
      const ecKeys = [];
      const hdKeys = [];
      keys.forEach((k) => {
        if (k.getTag() === RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getTag()) {
          hdKeys.push(CryptoHDKey_1.CryptoHDKey.fromDataItem(k));
        } else if (k.getTag() === RegistryType_1.RegistryTypes.CRYPTO_ECKEY.getTag()) {
          ecKeys.push(CryptoECKey_1.CryptoECKey.fromDataItem(k));
        }
      });
      return new MultiKey(threshold, ecKeys, hdKeys);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js
var require_CryptoOutput = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoOutput = void 0;
    var CryptoECKey_1 = require_CryptoECKey();
    var CryptoHDKey_1 = require_CryptoHDKey();
    var lib_1 = require_lib();
    var MultiKey_1 = require_MultiKey();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var ScriptExpression_1 = require_ScriptExpression();
    var CryptoOutput = class extends RegistryItem_1.RegistryItem {
      constructor(scriptExpressions, cryptoKey) {
        super();
        this.scriptExpressions = scriptExpressions;
        this.cryptoKey = cryptoKey;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_OUTPUT;
        };
        this.getCryptoKey = () => this.cryptoKey;
        this.getHDKey = () => {
          if (this.cryptoKey instanceof CryptoHDKey_1.CryptoHDKey) {
            return this.cryptoKey;
          } else {
            return void 0;
          }
        };
        this.getECKey = () => {
          if (this.cryptoKey instanceof CryptoECKey_1.CryptoECKey) {
            return this.cryptoKey;
          } else {
            return void 0;
          }
        };
        this.getMultiKey = () => {
          if (this.cryptoKey instanceof MultiKey_1.MultiKey) {
            return this.cryptoKey;
          } else {
            return void 0;
          }
        };
        this.getScriptExpressions = () => this.scriptExpressions;
        this.toDataItem = () => {
          let dataItem = this.cryptoKey.toDataItem();
          if (this.cryptoKey instanceof CryptoECKey_1.CryptoECKey || this.cryptoKey instanceof CryptoHDKey_1.CryptoHDKey) {
            dataItem.setTag(this.cryptoKey.getRegistryType().getTag());
          }
          const clonedSe = [...this.scriptExpressions];
          clonedSe.reverse().forEach((se) => {
            const tagValue = se.getTag();
            if (dataItem.getTag() === void 0) {
              dataItem.setTag(tagValue);
            } else {
              dataItem = new lib_1.DataItem(dataItem, tagValue);
            }
          });
          return dataItem;
        };
      }
    };
    exports.CryptoOutput = CryptoOutput;
    CryptoOutput.fromDataItem = (dataItem) => {
      const scriptExpressions = [];
      let _dataItem = dataItem;
      while (true) {
        let _tag = _dataItem.getTag() || void 0;
        const se = ScriptExpression_1.ScriptExpression.fromTag(_tag);
        if (se) {
          scriptExpressions.push(se);
          if (_dataItem.getData() instanceof lib_1.DataItem) {
            _dataItem = _dataItem.getData();
            _tag = _dataItem.getTag();
          } else {
            break;
          }
        } else {
          break;
        }
      }
      const seLength = scriptExpressions.length;
      const isMultiKey = seLength > 0 && (scriptExpressions[seLength - 1].getExpression() === ScriptExpression_1.ScriptExpressions.MULTISIG.getExpression() || scriptExpressions[seLength - 1].getExpression() === ScriptExpression_1.ScriptExpressions.SORTED_MULTISIG.getExpression());
      if (isMultiKey) {
        const multiKey = MultiKey_1.MultiKey.fromDataItem(_dataItem);
        return new CryptoOutput(scriptExpressions, multiKey);
      }
      if (_dataItem.getTag() === RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getTag()) {
        const cryptoHDKey = CryptoHDKey_1.CryptoHDKey.fromDataItem(_dataItem);
        return new CryptoOutput(scriptExpressions, cryptoHDKey);
      } else {
        const cryptoECKey = CryptoECKey_1.CryptoECKey.fromDataItem(_dataItem);
        return new CryptoOutput(scriptExpressions, cryptoECKey);
      }
    };
    CryptoOutput.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoOutput.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js
var require_CryptoPSBT = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoPSBT = void 0;
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var CryptoPSBT = class extends RegistryItem_1.RegistryItem {
      constructor(psbt) {
        super();
        this.psbt = psbt;
        this.getRegistryType = () => RegistryType_1.RegistryTypes.CRYPTO_PSBT;
        this.getPSBT = () => this.psbt;
        this.toDataItem = () => {
          return new lib_1.DataItem(this.psbt);
        };
      }
    };
    exports.CryptoPSBT = CryptoPSBT;
    CryptoPSBT.fromDataItem = (dataItem) => {
      const psbt = dataItem.getData();
      if (!psbt) {
        throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${dataItem}`);
      }
      return new CryptoPSBT(psbt);
    };
    CryptoPSBT.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoPSBT.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js
var require_CryptoAccount = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CryptoAccount = void 0;
    var _1 = require_dist4();
    var lib_1 = require_lib();
    var RegistryItem_1 = require_RegistryItem();
    var RegistryType_1 = require_RegistryType();
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["masterFingerprint"] = 1] = "masterFingerprint";
      Keys2[Keys2["outputDescriptors"] = 2] = "outputDescriptors";
    })(Keys || (Keys = {}));
    var CryptoAccount = class extends RegistryItem_1.RegistryItem {
      constructor(masterFingerprint, outputDescriptors) {
        super();
        this.masterFingerprint = masterFingerprint;
        this.outputDescriptors = outputDescriptors;
        this.getRegistryType = () => {
          return RegistryType_1.RegistryTypes.CRYPTO_ACCOUNT;
        };
        this.getMasterFingerprint = () => this.masterFingerprint;
        this.getOutputDescriptors = () => this.outputDescriptors;
        this.toDataItem = () => {
          const map = {};
          if (this.masterFingerprint) {
            map[Keys.masterFingerprint] = this.masterFingerprint.readUInt32BE(0);
          }
          if (this.outputDescriptors) {
            map[Keys.outputDescriptors] = this.outputDescriptors.map((item) => item.toDataItem());
          }
          return new lib_1.DataItem(map);
        };
      }
    };
    exports.CryptoAccount = CryptoAccount;
    CryptoAccount.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const masterFingerprint = Buffer.alloc(4);
      const _masterFingerprint = map[Keys.masterFingerprint];
      if (_masterFingerprint) {
        masterFingerprint.writeUInt32BE(_masterFingerprint, 0);
      }
      const outputDescriptors = map[Keys.outputDescriptors];
      const cryptoOutputs = outputDescriptors.map((item) => _1.CryptoOutput.fromDataItem(item));
      return new CryptoAccount(masterFingerprint, cryptoOutputs);
    };
    CryptoAccount.fromCBOR = (_cborPayload) => {
      const dataItem = lib_1.decodeToDataItem(_cborPayload);
      return CryptoAccount.fromDataItem(dataItem);
    };
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js
var require_Decoder = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.URRegistryDecoder = void 0;
    var bc_ur_1 = require_dist3();
    var __1 = require_dist4();
    var RegistryType_1 = require_RegistryType();
    var URRegistryDecoder = class extends bc_ur_1.URDecoder {
      constructor() {
        super(...arguments);
        this.resultRegistryType = () => {
          const ur = this.resultUR();
          switch (ur.type) {
            case RegistryType_1.RegistryTypes.BYTES.getType():
              return __1.Bytes.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_HDKEY.getType():
              return __1.CryptoHDKey.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_KEYPATH.getType():
              return __1.CryptoKeypath.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_COIN_INFO.getType():
              return __1.CryptoCoinInfo.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_ECKEY.getType():
              return __1.CryptoECKey.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_OUTPUT.getType():
              return __1.CryptoOutput.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_PSBT.getType():
              return __1.CryptoPSBT.fromCBOR(ur.cbor);
            case RegistryType_1.RegistryTypes.CRYPTO_ACCOUNT.getType():
              return __1.CryptoAccount.fromCBOR(ur.cbor);
            default:
              throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${ur.type} is not supported now`);
          }
        };
      }
    };
    exports.URRegistryDecoder = URRegistryDecoder;
  }
});

// node_modules/@keystonehq/bc-ur-registry/dist/index.js
var require_dist4 = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry/dist/index.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.extend = exports.PathComponent = exports.ScriptExpressions = exports.MultiKey = exports.CryptoPSBT = exports.CryptoOutput = exports.CryptoECKey = exports.CryptoCoinInfoNetwork = exports.CryptoCoinInfoType = exports.CryptoCoinInfo = exports.CryptoKeypath = exports.CryptoHDKey = exports.CryptoAccount = exports.Bytes = exports.URRegistryDecoder = exports.RegistryItem = exports.DataItem = void 0;
    require_patchCBOR();
    var CryptoHDKey_1 = require_CryptoHDKey();
    Object.defineProperty(exports, "CryptoHDKey", { enumerable: true, get: function() {
      return CryptoHDKey_1.CryptoHDKey;
    } });
    var CryptoKeypath_1 = require_CryptoKeypath();
    Object.defineProperty(exports, "CryptoKeypath", { enumerable: true, get: function() {
      return CryptoKeypath_1.CryptoKeypath;
    } });
    var CryptoCoinInfo_1 = require_CryptoCoinInfo();
    Object.defineProperty(exports, "CryptoCoinInfo", { enumerable: true, get: function() {
      return CryptoCoinInfo_1.CryptoCoinInfo;
    } });
    Object.defineProperty(exports, "CryptoCoinInfoType", { enumerable: true, get: function() {
      return CryptoCoinInfo_1.Type;
    } });
    Object.defineProperty(exports, "CryptoCoinInfoNetwork", { enumerable: true, get: function() {
      return CryptoCoinInfo_1.Network;
    } });
    var CryptoECKey_1 = require_CryptoECKey();
    Object.defineProperty(exports, "CryptoECKey", { enumerable: true, get: function() {
      return CryptoECKey_1.CryptoECKey;
    } });
    var Bytes_1 = require_Bytes();
    Object.defineProperty(exports, "Bytes", { enumerable: true, get: function() {
      return Bytes_1.Bytes;
    } });
    var CryptoOutput_1 = require_CryptoOutput();
    Object.defineProperty(exports, "CryptoOutput", { enumerable: true, get: function() {
      return CryptoOutput_1.CryptoOutput;
    } });
    var CryptoPSBT_1 = require_CryptoPSBT();
    Object.defineProperty(exports, "CryptoPSBT", { enumerable: true, get: function() {
      return CryptoPSBT_1.CryptoPSBT;
    } });
    var CryptoAccount_1 = require_CryptoAccount();
    Object.defineProperty(exports, "CryptoAccount", { enumerable: true, get: function() {
      return CryptoAccount_1.CryptoAccount;
    } });
    var Decoder_1 = require_Decoder();
    Object.defineProperty(exports, "URRegistryDecoder", { enumerable: true, get: function() {
      return Decoder_1.URRegistryDecoder;
    } });
    var MultiKey_1 = require_MultiKey();
    Object.defineProperty(exports, "MultiKey", { enumerable: true, get: function() {
      return MultiKey_1.MultiKey;
    } });
    var ScriptExpression_1 = require_ScriptExpression();
    Object.defineProperty(exports, "ScriptExpressions", { enumerable: true, get: function() {
      return ScriptExpression_1.ScriptExpressions;
    } });
    var PathComponent_1 = require_PathComponent();
    Object.defineProperty(exports, "PathComponent", { enumerable: true, get: function() {
      return PathComponent_1.PathComponent;
    } });
    var RegistryType_1 = require_RegistryType();
    var lib_1 = require_lib();
    var lib_2 = require_lib();
    Object.defineProperty(exports, "DataItem", { enumerable: true, get: function() {
      return lib_2.DataItem;
    } });
    var RegistryItem_1 = require_RegistryItem();
    Object.defineProperty(exports, "RegistryItem", { enumerable: true, get: function() {
      return RegistryItem_1.RegistryItem;
    } });
    var utils_1 = require_utils();
    var URlib = {
      URRegistryDecoder: Decoder_1.URRegistryDecoder,
      Bytes: Bytes_1.Bytes,
      CryptoAccount: CryptoAccount_1.CryptoAccount,
      CryptoHDKey: CryptoHDKey_1.CryptoHDKey,
      CryptoKeypath: CryptoKeypath_1.CryptoKeypath,
      CryptoCoinInfo: CryptoCoinInfo_1.CryptoCoinInfo,
      CryptoCoinInfoType: CryptoCoinInfo_1.Type,
      CryptoCoinInfoNetwork: CryptoCoinInfo_1.Network,
      CryptoECKey: CryptoECKey_1.CryptoECKey,
      CryptoOutput: CryptoOutput_1.CryptoOutput,
      CryptoPSBT: CryptoPSBT_1.CryptoPSBT,
      MultiKey: MultiKey_1.MultiKey,
      ScriptExpressions: ScriptExpression_1.ScriptExpressions,
      PathComponent: PathComponent_1.PathComponent
    };
    var cbor = {
      addReader: lib_1.addReader,
      addSemanticDecode: lib_1.addSemanticDecode,
      addSemanticEncode: lib_1.addSemanticEncode,
      addWriter: lib_1.addWriter,
      patchTags: utils_1.patchTags
    };
    var extend = {
      RegistryTypes: RegistryType_1.RegistryTypes,
      RegistryType: RegistryType_1.RegistryType,
      decodeToDataItem: lib_1.decodeToDataItem,
      encodeDataItem: lib_1.encodeDataItem,
      cbor
    };
    exports.extend = extend;
    exports.default = URlib;
  }
});

// node_modules/uuid/dist/esm-browser/rng.js
function rng() {
  if (!getRandomValues) {
    getRandomValues = typeof crypto !== "undefined" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== "undefined" && typeof msCrypto.getRandomValues === "function" && msCrypto.getRandomValues.bind(msCrypto);
    if (!getRandomValues) {
      throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
    }
  }
  return getRandomValues(rnds8);
}
var getRandomValues, rnds8;
var init_rng = __esm({
  "node_modules/uuid/dist/esm-browser/rng.js"() {
    init_define_process_env();
    rnds8 = new Uint8Array(16);
  }
});

// node_modules/uuid/dist/esm-browser/regex.js
var regex_default;
var init_regex = __esm({
  "node_modules/uuid/dist/esm-browser/regex.js"() {
    init_define_process_env();
    regex_default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
  }
});

// node_modules/uuid/dist/esm-browser/validate.js
function validate(uuid) {
  return typeof uuid === "string" && regex_default.test(uuid);
}
var validate_default;
var init_validate = __esm({
  "node_modules/uuid/dist/esm-browser/validate.js"() {
    init_define_process_env();
    init_regex();
    validate_default = validate;
  }
});

// node_modules/uuid/dist/esm-browser/stringify.js
function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + "-" + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + "-" + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + "-" + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + "-" + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
  if (!validate_default(uuid)) {
    throw TypeError("Stringified UUID is invalid");
  }
  return uuid;
}
var byteToHex, i, stringify_default;
var init_stringify = __esm({
  "node_modules/uuid/dist/esm-browser/stringify.js"() {
    init_define_process_env();
    init_validate();
    byteToHex = [];
    for (i = 0; i < 256; ++i) {
      byteToHex.push((i + 256).toString(16).substr(1));
    }
    stringify_default = stringify;
  }
});

// node_modules/uuid/dist/esm-browser/v1.js
function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || new Array(16);
  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== void 0 ? options.clockseq : _clockseq;
  if (node == null || clockseq == null) {
    var seedBytes = options.random || (options.rng || rng)();
    if (node == null) {
      node = _nodeId = [seedBytes[0] | 1, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
    }
    if (clockseq == null) {
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 16383;
    }
  }
  var msecs = options.msecs !== void 0 ? options.msecs : Date.now();
  var nsecs = options.nsecs !== void 0 ? options.nsecs : _lastNSecs + 1;
  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 1e4;
  if (dt < 0 && options.clockseq === void 0) {
    clockseq = clockseq + 1 & 16383;
  }
  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === void 0) {
    nsecs = 0;
  }
  if (nsecs >= 1e4) {
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  }
  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq;
  msecs += 122192928e5;
  var tl = ((msecs & 268435455) * 1e4 + nsecs) % 4294967296;
  b[i++] = tl >>> 24 & 255;
  b[i++] = tl >>> 16 & 255;
  b[i++] = tl >>> 8 & 255;
  b[i++] = tl & 255;
  var tmh = msecs / 4294967296 * 1e4 & 268435455;
  b[i++] = tmh >>> 8 & 255;
  b[i++] = tmh & 255;
  b[i++] = tmh >>> 24 & 15 | 16;
  b[i++] = tmh >>> 16 & 255;
  b[i++] = clockseq >>> 8 | 128;
  b[i++] = clockseq & 255;
  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }
  return buf || stringify_default(b);
}
var _nodeId, _clockseq, _lastMSecs, _lastNSecs, v1_default;
var init_v1 = __esm({
  "node_modules/uuid/dist/esm-browser/v1.js"() {
    init_define_process_env();
    init_rng();
    init_stringify();
    _lastMSecs = 0;
    _lastNSecs = 0;
    v1_default = v1;
  }
});

// node_modules/uuid/dist/esm-browser/parse.js
function parse(uuid) {
  if (!validate_default(uuid)) {
    throw TypeError("Invalid UUID");
  }
  var v;
  var arr = new Uint8Array(16);
  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;
  arr[1] = v >>> 16 & 255;
  arr[2] = v >>> 8 & 255;
  arr[3] = v & 255;
  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;
  arr[5] = v & 255;
  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;
  arr[7] = v & 255;
  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;
  arr[9] = v & 255;
  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 1099511627776 & 255;
  arr[11] = v / 4294967296 & 255;
  arr[12] = v >>> 24 & 255;
  arr[13] = v >>> 16 & 255;
  arr[14] = v >>> 8 & 255;
  arr[15] = v & 255;
  return arr;
}
var parse_default;
var init_parse = __esm({
  "node_modules/uuid/dist/esm-browser/parse.js"() {
    init_define_process_env();
    init_validate();
    parse_default = parse;
  }
});

// node_modules/uuid/dist/esm-browser/v35.js
function stringToBytes(str) {
  str = unescape(encodeURIComponent(str));
  var bytes = [];
  for (var i = 0; i < str.length; ++i) {
    bytes.push(str.charCodeAt(i));
  }
  return bytes;
}
function v35_default(name, version2, hashfunc) {
  function generateUUID(value, namespace, buf, offset) {
    if (typeof value === "string") {
      value = stringToBytes(value);
    }
    if (typeof namespace === "string") {
      namespace = parse_default(namespace);
    }
    if (namespace.length !== 16) {
      throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    }
    var bytes = new Uint8Array(16 + value.length);
    bytes.set(namespace);
    bytes.set(value, namespace.length);
    bytes = hashfunc(bytes);
    bytes[6] = bytes[6] & 15 | version2;
    bytes[8] = bytes[8] & 63 | 128;
    if (buf) {
      offset = offset || 0;
      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = bytes[i];
      }
      return buf;
    }
    return stringify_default(bytes);
  }
  try {
    generateUUID.name = name;
  } catch (err) {
  }
  generateUUID.DNS = DNS;
  generateUUID.URL = URL2;
  return generateUUID;
}
var DNS, URL2;
var init_v35 = __esm({
  "node_modules/uuid/dist/esm-browser/v35.js"() {
    init_define_process_env();
    init_stringify();
    init_parse();
    DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
    URL2 = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
  }
});

// node_modules/uuid/dist/esm-browser/md5.js
function md5(bytes) {
  if (typeof bytes === "string") {
    var msg = unescape(encodeURIComponent(bytes));
    bytes = new Uint8Array(msg.length);
    for (var i = 0; i < msg.length; ++i) {
      bytes[i] = msg.charCodeAt(i);
    }
  }
  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));
}
function md5ToHexEncodedArray(input) {
  var output = [];
  var length32 = input.length * 32;
  var hexTab = "0123456789abcdef";
  for (var i = 0; i < length32; i += 8) {
    var x = input[i >> 5] >>> i % 32 & 255;
    var hex = parseInt(hexTab.charAt(x >>> 4 & 15) + hexTab.charAt(x & 15), 16);
    output.push(hex);
  }
  return output;
}
function getOutputLength(inputLength8) {
  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;
}
function wordsToMd5(x, len) {
  x[len >> 5] |= 128 << len % 32;
  x[getOutputLength(len) - 1] = len;
  var a = 1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d = 271733878;
  for (var i = 0; i < x.length; i += 16) {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    a = md5ff(a, b, c, d, x[i], 7, -680876936);
    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);
    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);
    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);
    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);
    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);
    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);
    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);
    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);
    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);
    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);
    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);
    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);
    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);
    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);
    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);
    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);
    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);
    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);
    b = md5gg(b, c, d, a, x[i], 20, -373897302);
    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);
    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);
    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);
    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);
    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);
    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);
    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);
    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);
    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);
    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);
    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);
    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);
    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);
    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);
    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);
    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);
    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);
    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);
    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);
    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);
    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);
    d = md5hh(d, a, b, c, x[i], 11, -358537222);
    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);
    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);
    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);
    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);
    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);
    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);
    a = md5ii(a, b, c, d, x[i], 6, -198630844);
    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);
    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);
    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);
    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);
    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);
    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);
    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);
    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);
    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);
    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);
    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);
    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);
    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);
    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);
    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);
    a = safeAdd(a, olda);
    b = safeAdd(b, oldb);
    c = safeAdd(c, oldc);
    d = safeAdd(d, oldd);
  }
  return [a, b, c, d];
}
function bytesToWords(input) {
  if (input.length === 0) {
    return [];
  }
  var length8 = input.length * 8;
  var output = new Uint32Array(getOutputLength(length8));
  for (var i = 0; i < length8; i += 8) {
    output[i >> 5] |= (input[i / 8] & 255) << i % 32;
  }
  return output;
}
function safeAdd(x, y) {
  var lsw = (x & 65535) + (y & 65535);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return msw << 16 | lsw & 65535;
}
function bitRotateLeft(num, cnt) {
  return num << cnt | num >>> 32 - cnt;
}
function md5cmn(q, a, b, x, s, t) {
  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);
}
function md5ff(a, b, c, d, x, s, t) {
  return md5cmn(b & c | ~b & d, a, b, x, s, t);
}
function md5gg(a, b, c, d, x, s, t) {
  return md5cmn(b & d | c & ~d, a, b, x, s, t);
}
function md5hh(a, b, c, d, x, s, t) {
  return md5cmn(b ^ c ^ d, a, b, x, s, t);
}
function md5ii(a, b, c, d, x, s, t) {
  return md5cmn(c ^ (b | ~d), a, b, x, s, t);
}
var md5_default;
var init_md5 = __esm({
  "node_modules/uuid/dist/esm-browser/md5.js"() {
    init_define_process_env();
    md5_default = md5;
  }
});

// node_modules/uuid/dist/esm-browser/v3.js
var v3, v3_default;
var init_v3 = __esm({
  "node_modules/uuid/dist/esm-browser/v3.js"() {
    init_define_process_env();
    init_v35();
    init_md5();
    v3 = v35_default("v3", 48, md5_default);
    v3_default = v3;
  }
});

// node_modules/uuid/dist/esm-browser/v4.js
function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || rng)();
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return stringify_default(rnds);
}
var v4_default;
var init_v4 = __esm({
  "node_modules/uuid/dist/esm-browser/v4.js"() {
    init_define_process_env();
    init_rng();
    init_stringify();
    v4_default = v4;
  }
});

// node_modules/uuid/dist/esm-browser/sha1.js
function f(s, x, y, z) {
  switch (s) {
    case 0:
      return x & y ^ ~x & z;
    case 1:
      return x ^ y ^ z;
    case 2:
      return x & y ^ x & z ^ y & z;
    case 3:
      return x ^ y ^ z;
  }
}
function ROTL(x, n) {
  return x << n | x >>> 32 - n;
}
function sha1(bytes) {
  var K = [1518500249, 1859775393, 2400959708, 3395469782];
  var H = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if (typeof bytes === "string") {
    var msg = unescape(encodeURIComponent(bytes));
    bytes = [];
    for (var i = 0; i < msg.length; ++i) {
      bytes.push(msg.charCodeAt(i));
    }
  } else if (!Array.isArray(bytes)) {
    bytes = Array.prototype.slice.call(bytes);
  }
  bytes.push(128);
  var l = bytes.length / 4 + 2;
  var N = Math.ceil(l / 16);
  var M = new Array(N);
  for (var _i = 0; _i < N; ++_i) {
    var arr = new Uint32Array(16);
    for (var j = 0; j < 16; ++j) {
      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];
    }
    M[_i] = arr;
  }
  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);
  M[N - 1][14] = Math.floor(M[N - 1][14]);
  M[N - 1][15] = (bytes.length - 1) * 8 & 4294967295;
  for (var _i2 = 0; _i2 < N; ++_i2) {
    var W = new Uint32Array(80);
    for (var t = 0; t < 16; ++t) {
      W[t] = M[_i2][t];
    }
    for (var _t = 16; _t < 80; ++_t) {
      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);
    }
    var a = H[0];
    var b = H[1];
    var c = H[2];
    var d = H[3];
    var e = H[4];
    for (var _t2 = 0; _t2 < 80; ++_t2) {
      var s = Math.floor(_t2 / 20);
      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;
      e = d;
      d = c;
      c = ROTL(b, 30) >>> 0;
      b = a;
      a = T;
    }
    H[0] = H[0] + a >>> 0;
    H[1] = H[1] + b >>> 0;
    H[2] = H[2] + c >>> 0;
    H[3] = H[3] + d >>> 0;
    H[4] = H[4] + e >>> 0;
  }
  return [H[0] >> 24 & 255, H[0] >> 16 & 255, H[0] >> 8 & 255, H[0] & 255, H[1] >> 24 & 255, H[1] >> 16 & 255, H[1] >> 8 & 255, H[1] & 255, H[2] >> 24 & 255, H[2] >> 16 & 255, H[2] >> 8 & 255, H[2] & 255, H[3] >> 24 & 255, H[3] >> 16 & 255, H[3] >> 8 & 255, H[3] & 255, H[4] >> 24 & 255, H[4] >> 16 & 255, H[4] >> 8 & 255, H[4] & 255];
}
var sha1_default;
var init_sha1 = __esm({
  "node_modules/uuid/dist/esm-browser/sha1.js"() {
    init_define_process_env();
    sha1_default = sha1;
  }
});

// node_modules/uuid/dist/esm-browser/v5.js
var v5, v5_default;
var init_v5 = __esm({
  "node_modules/uuid/dist/esm-browser/v5.js"() {
    init_define_process_env();
    init_v35();
    init_sha1();
    v5 = v35_default("v5", 80, sha1_default);
    v5_default = v5;
  }
});

// node_modules/uuid/dist/esm-browser/nil.js
var nil_default;
var init_nil = __esm({
  "node_modules/uuid/dist/esm-browser/nil.js"() {
    init_define_process_env();
    nil_default = "00000000-0000-0000-0000-000000000000";
  }
});

// node_modules/uuid/dist/esm-browser/version.js
function version(uuid) {
  if (!validate_default(uuid)) {
    throw TypeError("Invalid UUID");
  }
  return parseInt(uuid.substr(14, 1), 16);
}
var version_default;
var init_version = __esm({
  "node_modules/uuid/dist/esm-browser/version.js"() {
    init_define_process_env();
    init_validate();
    version_default = version;
  }
});

// node_modules/uuid/dist/esm-browser/index.js
var esm_browser_exports = {};
__export(esm_browser_exports, {
  NIL: () => nil_default,
  parse: () => parse_default,
  stringify: () => stringify_default,
  v1: () => v1_default,
  v3: () => v3_default,
  v4: () => v4_default,
  v5: () => v5_default,
  validate: () => validate_default,
  version: () => version_default
});
var init_esm_browser = __esm({
  "node_modules/uuid/dist/esm-browser/index.js"() {
    init_define_process_env();
    init_v1();
    init_v3();
    init_v4();
    init_v5();
    init_nil();
    init_version();
    init_validate();
    init_stringify();
    init_parse();
  }
});

// node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js
var require_bc_ur_registry_eth_cjs_development = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    var bcUrRegistry = require_dist4();
    var uuid = (init_esm_browser(), __toCommonJS(esm_browser_exports));
    var HDKey = _interopDefault(require_hdkey());
    var ethereumjsUtil = require_dist();
    var {
      RegistryType
    } = bcUrRegistry.extend;
    var ExtendedRegistryTypes = {
      ETH_SIGN_REQUEST: new RegistryType("eth-sign-request", 401),
      ETH_SIGNATAURE: new RegistryType("eth-signature", 402),
      ETH_NFT_ITEM: new RegistryType("eth-nft-item", 403)
    };
    var {
      decodeToDataItem,
      RegistryTypes
    } = bcUrRegistry.extend;
    var Keys;
    (function(Keys2) {
      Keys2[Keys2["requestId"] = 1] = "requestId";
      Keys2[Keys2["signData"] = 2] = "signData";
      Keys2[Keys2["dataType"] = 3] = "dataType";
      Keys2[Keys2["chainId"] = 4] = "chainId";
      Keys2[Keys2["derivationPath"] = 5] = "derivationPath";
      Keys2[Keys2["address"] = 6] = "address";
      Keys2[Keys2["origin"] = 7] = "origin";
    })(Keys || (Keys = {}));
    (function(DataType) {
      DataType[DataType["transaction"] = 1] = "transaction";
      DataType[DataType["typedData"] = 2] = "typedData";
      DataType[DataType["personalMessage"] = 3] = "personalMessage";
      DataType[DataType["typedTransaction"] = 4] = "typedTransaction";
    })(exports.DataType || (exports.DataType = {}));
    var EthSignRequest = class extends bcUrRegistry.RegistryItem {
      constructor(args) {
        super();
        this.getRegistryType = () => ExtendedRegistryTypes.ETH_SIGN_REQUEST;
        this.setupData = (args2) => {
          this.requestId = args2.requestId;
          this.signData = args2.signData;
          this.dataType = args2.dataType;
          this.chainId = args2.chainId;
          this.derivationPath = args2.derivationPath;
          this.address = args2.address;
          this.origin = args2.origin;
        };
        this.getRequestId = () => this.requestId;
        this.getSignData = () => this.signData;
        this.getDataType = () => this.dataType;
        this.getChainId = () => this.chainId;
        this.getDerivationPath = () => this.derivationPath.getPath();
        this.getSignRequestAddress = () => this.address;
        this.getOrigin = () => this.origin;
        this.toDataItem = () => {
          const map = {};
          if (this.requestId) {
            map[Keys.requestId] = new bcUrRegistry.DataItem(this.requestId, RegistryTypes.UUID.getTag());
          }
          if (this.address) {
            map[Keys.address] = this.address;
          }
          if (this.chainId) {
            map[Keys.chainId] = this.chainId;
          }
          if (this.origin) {
            map[Keys.origin] = this.origin;
          }
          map[Keys.signData] = this.signData;
          map[Keys.dataType] = this.dataType;
          const keyPath = this.derivationPath.toDataItem();
          keyPath.setTag(this.derivationPath.getRegistryType().getTag());
          map[Keys.derivationPath] = keyPath;
          return new bcUrRegistry.DataItem(map);
        };
        this.setupData(args);
      }
      static constructETHRequest(signData, signDataType, hdPath, xfp, uuidString, chainId, address, origin) {
        const paths = hdPath.replace(/[m|M]\//, "").split("/");
        const hdpathObject = new bcUrRegistry.CryptoKeypath(paths.map((path) => {
          const index = parseInt(path.replace("'", ""));
          let isHardened = false;
          if (path.endsWith("'")) {
            isHardened = true;
          }
          return new bcUrRegistry.PathComponent({
            index,
            hardened: isHardened
          });
        }), Buffer.from(xfp, "hex"));
        return new EthSignRequest({
          requestId: uuidString ? Buffer.from(uuid.parse(uuidString)) : void 0,
          signData,
          dataType: signDataType,
          derivationPath: hdpathObject,
          chainId,
          address: address ? Buffer.from(address.replace("0x", ""), "hex") : void 0,
          origin: origin || void 0
        });
      }
    };
    EthSignRequest.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const signData = map[Keys.signData];
      const dataType = map[Keys.dataType];
      const derivationPath = bcUrRegistry.CryptoKeypath.fromDataItem(map[Keys.derivationPath]);
      const chainId = map[Keys.chainId] ? map[Keys.chainId] : void 0;
      const address = map[Keys.address] ? map[Keys.address] : void 0;
      const requestId = map[Keys.requestId] ? map[Keys.requestId].getData() : void 0;
      const origin = map[Keys.origin] ? map[Keys.origin] : void 0;
      return new EthSignRequest({
        requestId,
        signData,
        dataType,
        chainId,
        derivationPath,
        address,
        origin
      });
    };
    EthSignRequest.fromCBOR = (_cborPayload) => {
      const dataItem = decodeToDataItem(_cborPayload);
      return EthSignRequest.fromDataItem(dataItem);
    };
    var {
      RegistryTypes: RegistryTypes$1,
      decodeToDataItem: decodeToDataItem$1
    } = bcUrRegistry.extend;
    var Keys$1;
    (function(Keys2) {
      Keys2[Keys2["requestId"] = 1] = "requestId";
      Keys2[Keys2["signature"] = 2] = "signature";
    })(Keys$1 || (Keys$1 = {}));
    var ETHSignature = class extends bcUrRegistry.RegistryItem {
      constructor(signature, requestId) {
        super();
        this.getRegistryType = () => ExtendedRegistryTypes.ETH_SIGNATAURE;
        this.getRequestId = () => this.requestId;
        this.getSignature = () => this.signature;
        this.toDataItem = () => {
          const map = {};
          if (this.requestId) {
            map[Keys$1.requestId] = new bcUrRegistry.DataItem(this.requestId, RegistryTypes$1.UUID.getTag());
          }
          map[Keys$1.signature] = this.signature;
          return new bcUrRegistry.DataItem(map);
        };
        this.signature = signature;
        this.requestId = requestId;
      }
    };
    ETHSignature.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const signature = map[Keys$1.signature];
      const requestId = map[Keys$1.requestId] ? map[Keys$1.requestId].getData() : void 0;
      return new ETHSignature(signature, requestId);
    };
    ETHSignature.fromCBOR = (_cborPayload) => {
      const dataItem = decodeToDataItem$1(_cborPayload);
      return ETHSignature.fromDataItem(dataItem);
    };
    var {
      decodeToDataItem: decodeToDataItem$2
    } = bcUrRegistry.extend;
    var Keys$2;
    (function(Keys2) {
      Keys2[Keys2["chainId"] = 1] = "chainId";
      Keys2[Keys2["contractAddress"] = 2] = "contractAddress";
      Keys2[Keys2["contractName"] = 3] = "contractName";
      Keys2[Keys2["name"] = 4] = "name";
      Keys2[Keys2["mediaData"] = 5] = "mediaData";
    })(Keys$2 || (Keys$2 = {}));
    var ETHNFTItem = class extends bcUrRegistry.RegistryItem {
      constructor(args) {
        super();
        this.getRegistryType = () => ExtendedRegistryTypes.ETH_NFT_ITEM;
        this.setupData = (args2) => {
          this.chainId = args2.chainId;
          this.name = args2.name;
          this.contractAddress = args2.contractAddress;
          this.contractName = args2.contractName;
          this.mediaData = args2.mediaData;
        };
        this.getChainId = () => this.chainId;
        this.getName = () => this.name;
        this.getmediaData = () => this.mediaData;
        this.getContractAddress = () => this.contractAddress;
        this.getContractName = () => this.contractName;
        this.toDataItem = () => {
          const map = {};
          map[Keys$2.chainId] = this.chainId;
          map[Keys$2.name] = this.name;
          map[Keys$2.contractAddress] = this.contractAddress;
          map[Keys$2.contractName] = this.contractName;
          map[Keys$2.mediaData] = this.mediaData;
          return new bcUrRegistry.DataItem(map);
        };
        this.setupData(args);
      }
      static constructETHNFTItem(chainId, contractAddress, contractName, name, mediaData) {
        return new ETHNFTItem({
          chainId,
          contractAddress,
          contractName,
          mediaData,
          name
        });
      }
    };
    ETHNFTItem.fromDataItem = (dataItem) => {
      const map = dataItem.getData();
      const chainId = map[Keys$2.chainId];
      const name = map[Keys$2.name];
      const mediaData = map[Keys$2.mediaData];
      const contractAddress = map[Keys$2.contractAddress];
      const contractName = map[Keys$2.contractName];
      return new ETHNFTItem({
        chainId,
        name,
        contractAddress,
        contractName,
        mediaData
      });
    };
    ETHNFTItem.fromCBOR = (_cborPayload) => {
      const dataItem = decodeToDataItem$2(_cborPayload);
      return ETHNFTItem.fromDataItem(dataItem);
    };
    var generateAddressfromXpub = (xpub, derivePath) => {
      const node = HDKey.fromExtendedKey(xpub);
      const publicKey = node.derive(derivePath);
      const address = "0x" + ethereumjsUtil.publicToAddress(publicKey.publicKey, true).toString("hex");
      return ethereumjsUtil.toChecksumAddress(address);
    };
    var findHDpatfromAddress = (address, xpub, numberLimit, rootPath) => {
      for (let i = 0; i < numberLimit; i++) {
        const path = `M/0/${i}`;
        const caculateAddress = generateAddressfromXpub(xpub, path);
        if (address.toLowerCase() == caculateAddress.toLowerCase()) {
          return `${rootPath}/0/${i}`;
        }
      }
      return null;
    };
    var {
      cbor
    } = bcUrRegistry.extend;
    cbor.patchTags(Object.values(ExtendedRegistryTypes).filter((rt) => !!rt.getTag()).map((rt) => rt.getTag()));
    Object.keys(bcUrRegistry).forEach(function(k) {
      if (k !== "default")
        Object.defineProperty(exports, k, {
          enumerable: true,
          get: function() {
            return bcUrRegistry[k];
          }
        });
    });
    exports.ETHNFTItem = ETHNFTItem;
    exports.ETHSignature = ETHSignature;
    exports.EthSignRequest = EthSignRequest;
    exports.findHDpatfromAddress = findHDpatfromAddress;
    exports.generateAddressfromXpub = generateAddressfromXpub;
  }
});

// node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js
var require_dist5 = __commonJS({
  "node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_bc_ur_registry_eth_cjs_development();
    }
  }
});

// node_modules/react-is/cjs/react-is.development.js
var require_react_is_development = __commonJS({
  "node_modules/react-is/cjs/react-is.development.js"(exports) {
    "use strict";
    init_define_process_env();
    if (true) {
      (function() {
        "use strict";
        var hasSymbol = typeof Symbol === "function" && Symbol.for;
        var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
        var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
        var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
        var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
        var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
        var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
        var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
        var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
        var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
        var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
        var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
        var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
        var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
        var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
        var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
        var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
        var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
        var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
        function isValidElementType(type) {
          return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
        }
        function typeOf(object) {
          if (typeof object === "object" && object !== null) {
            var $$typeof = object.$$typeof;
            switch ($$typeof) {
              case REACT_ELEMENT_TYPE:
                var type = object.type;
                switch (type) {
                  case REACT_ASYNC_MODE_TYPE:
                  case REACT_CONCURRENT_MODE_TYPE:
                  case REACT_FRAGMENT_TYPE:
                  case REACT_PROFILER_TYPE:
                  case REACT_STRICT_MODE_TYPE:
                  case REACT_SUSPENSE_TYPE:
                    return type;
                  default:
                    var $$typeofType = type && type.$$typeof;
                    switch ($$typeofType) {
                      case REACT_CONTEXT_TYPE:
                      case REACT_FORWARD_REF_TYPE:
                      case REACT_LAZY_TYPE:
                      case REACT_MEMO_TYPE:
                      case REACT_PROVIDER_TYPE:
                        return $$typeofType;
                      default:
                        return $$typeof;
                    }
                }
              case REACT_PORTAL_TYPE:
                return $$typeof;
            }
          }
          return void 0;
        }
        var AsyncMode = REACT_ASYNC_MODE_TYPE;
        var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
        var ContextConsumer = REACT_CONTEXT_TYPE;
        var ContextProvider = REACT_PROVIDER_TYPE;
        var Element = REACT_ELEMENT_TYPE;
        var ForwardRef = REACT_FORWARD_REF_TYPE;
        var Fragment = REACT_FRAGMENT_TYPE;
        var Lazy = REACT_LAZY_TYPE;
        var Memo = REACT_MEMO_TYPE;
        var Portal = REACT_PORTAL_TYPE;
        var Profiler = REACT_PROFILER_TYPE;
        var StrictMode = REACT_STRICT_MODE_TYPE;
        var Suspense = REACT_SUSPENSE_TYPE;
        var hasWarnedAboutDeprecatedIsAsyncMode = false;
        function isAsyncMode(object) {
          {
            if (!hasWarnedAboutDeprecatedIsAsyncMode) {
              hasWarnedAboutDeprecatedIsAsyncMode = true;
              console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
            }
          }
          return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
        }
        function isConcurrentMode(object) {
          return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
        }
        function isContextConsumer(object) {
          return typeOf(object) === REACT_CONTEXT_TYPE;
        }
        function isContextProvider(object) {
          return typeOf(object) === REACT_PROVIDER_TYPE;
        }
        function isElement(object) {
          return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
        }
        function isForwardRef(object) {
          return typeOf(object) === REACT_FORWARD_REF_TYPE;
        }
        function isFragment(object) {
          return typeOf(object) === REACT_FRAGMENT_TYPE;
        }
        function isLazy(object) {
          return typeOf(object) === REACT_LAZY_TYPE;
        }
        function isMemo(object) {
          return typeOf(object) === REACT_MEMO_TYPE;
        }
        function isPortal(object) {
          return typeOf(object) === REACT_PORTAL_TYPE;
        }
        function isProfiler(object) {
          return typeOf(object) === REACT_PROFILER_TYPE;
        }
        function isStrictMode(object) {
          return typeOf(object) === REACT_STRICT_MODE_TYPE;
        }
        function isSuspense(object) {
          return typeOf(object) === REACT_SUSPENSE_TYPE;
        }
        exports.AsyncMode = AsyncMode;
        exports.ConcurrentMode = ConcurrentMode;
        exports.ContextConsumer = ContextConsumer;
        exports.ContextProvider = ContextProvider;
        exports.Element = Element;
        exports.ForwardRef = ForwardRef;
        exports.Fragment = Fragment;
        exports.Lazy = Lazy;
        exports.Memo = Memo;
        exports.Portal = Portal;
        exports.Profiler = Profiler;
        exports.StrictMode = StrictMode;
        exports.Suspense = Suspense;
        exports.isAsyncMode = isAsyncMode;
        exports.isConcurrentMode = isConcurrentMode;
        exports.isContextConsumer = isContextConsumer;
        exports.isContextProvider = isContextProvider;
        exports.isElement = isElement;
        exports.isForwardRef = isForwardRef;
        exports.isFragment = isFragment;
        exports.isLazy = isLazy;
        exports.isMemo = isMemo;
        exports.isPortal = isPortal;
        exports.isProfiler = isProfiler;
        exports.isStrictMode = isStrictMode;
        exports.isSuspense = isSuspense;
        exports.isValidElementType = isValidElementType;
        exports.typeOf = typeOf;
      })();
    }
  }
});

// node_modules/react-is/index.js
var require_react_is = __commonJS({
  "node_modules/react-is/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_react_is_development();
    }
  }
});

// node_modules/prop-types/lib/ReactPropTypesSecret.js
var require_ReactPropTypesSecret = __commonJS({
  "node_modules/prop-types/lib/ReactPropTypesSecret.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var ReactPropTypesSecret = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
    module.exports = ReactPropTypesSecret;
  }
});

// node_modules/prop-types/lib/has.js
var require_has = __commonJS({
  "node_modules/prop-types/lib/has.js"(exports, module) {
    init_define_process_env();
    module.exports = Function.call.bind(Object.prototype.hasOwnProperty);
  }
});

// node_modules/prop-types/checkPropTypes.js
var require_checkPropTypes = __commonJS({
  "node_modules/prop-types/checkPropTypes.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var printWarning = function() {
    };
    if (true) {
      ReactPropTypesSecret = require_ReactPropTypesSecret();
      loggedTypeFailures = {};
      has = require_has();
      printWarning = function(text) {
        var message = "Warning: " + text;
        if (typeof console !== "undefined") {
          console.error(message);
        }
        try {
          throw new Error(message);
        } catch (x) {
        }
      };
    }
    var ReactPropTypesSecret;
    var loggedTypeFailures;
    var has;
    function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
      if (true) {
        for (var typeSpecName in typeSpecs) {
          if (has(typeSpecs, typeSpecName)) {
            var error;
            try {
              if (typeof typeSpecs[typeSpecName] !== "function") {
                var err = Error((componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                err.name = "Invariant Violation";
                throw err;
              }
              error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
            } catch (ex) {
              error = ex;
            }
            if (error && !(error instanceof Error)) {
              printWarning((componentName || "React class") + ": type specification of " + location + " `" + typeSpecName + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof error + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");
            }
            if (error instanceof Error && !(error.message in loggedTypeFailures)) {
              loggedTypeFailures[error.message] = true;
              var stack = getStack ? getStack() : "";
              printWarning("Failed " + location + " type: " + error.message + (stack != null ? stack : ""));
            }
          }
        }
      }
    }
    checkPropTypes.resetWarningCache = function() {
      if (true) {
        loggedTypeFailures = {};
      }
    };
    module.exports = checkPropTypes;
  }
});

// node_modules/prop-types/factoryWithTypeCheckers.js
var require_factoryWithTypeCheckers = __commonJS({
  "node_modules/prop-types/factoryWithTypeCheckers.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var ReactIs = require_react_is();
    var assign = require_object_assign();
    var ReactPropTypesSecret = require_ReactPropTypesSecret();
    var has = require_has();
    var checkPropTypes = require_checkPropTypes();
    var printWarning = function() {
    };
    if (true) {
      printWarning = function(text) {
        var message = "Warning: " + text;
        if (typeof console !== "undefined") {
          console.error(message);
        }
        try {
          throw new Error(message);
        } catch (x) {
        }
      };
    }
    function emptyFunctionThatReturnsNull() {
      return null;
    }
    module.exports = function(isValidElement, throwOnDirectAccess) {
      var ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
      var FAUX_ITERATOR_SYMBOL = "@@iterator";
      function getIteratorFn(maybeIterable) {
        var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
        if (typeof iteratorFn === "function") {
          return iteratorFn;
        }
      }
      var ANONYMOUS = "<<anonymous>>";
      var ReactPropTypes = {
        array: createPrimitiveTypeChecker("array"),
        bigint: createPrimitiveTypeChecker("bigint"),
        bool: createPrimitiveTypeChecker("boolean"),
        func: createPrimitiveTypeChecker("function"),
        number: createPrimitiveTypeChecker("number"),
        object: createPrimitiveTypeChecker("object"),
        string: createPrimitiveTypeChecker("string"),
        symbol: createPrimitiveTypeChecker("symbol"),
        any: createAnyTypeChecker(),
        arrayOf: createArrayOfTypeChecker,
        element: createElementTypeChecker(),
        elementType: createElementTypeTypeChecker(),
        instanceOf: createInstanceTypeChecker,
        node: createNodeChecker(),
        objectOf: createObjectOfTypeChecker,
        oneOf: createEnumTypeChecker,
        oneOfType: createUnionTypeChecker,
        shape: createShapeTypeChecker,
        exact: createStrictShapeTypeChecker
      };
      function is(x, y) {
        if (x === y) {
          return x !== 0 || 1 / x === 1 / y;
        } else {
          return x !== x && y !== y;
        }
      }
      function PropTypeError(message, data) {
        this.message = message;
        this.data = data && typeof data === "object" ? data : {};
        this.stack = "";
      }
      PropTypeError.prototype = Error.prototype;
      function createChainableTypeChecker(validate2) {
        if (true) {
          var manualPropTypeCallCache = {};
          var manualPropTypeWarningCount = 0;
        }
        function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
          componentName = componentName || ANONYMOUS;
          propFullName = propFullName || propName;
          if (secret !== ReactPropTypesSecret) {
            if (throwOnDirectAccess) {
              var err = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");
              err.name = "Invariant Violation";
              throw err;
            } else if (typeof console !== "undefined") {
              var cacheKey = componentName + ":" + propName;
              if (!manualPropTypeCallCache[cacheKey] && manualPropTypeWarningCount < 3) {
                printWarning("You are manually calling a React.PropTypes validation function for the `" + propFullName + "` prop on `" + componentName + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.");
                manualPropTypeCallCache[cacheKey] = true;
                manualPropTypeWarningCount++;
              }
            }
          }
          if (props[propName] == null) {
            if (isRequired) {
              if (props[propName] === null) {
                return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required " + ("in `" + componentName + "`, but its value is `null`."));
              }
              return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required in " + ("`" + componentName + "`, but its value is `undefined`."));
            }
            return null;
          } else {
            return validate2(props, propName, componentName, location, propFullName);
          }
        }
        var chainedCheckType = checkType.bind(null, false);
        chainedCheckType.isRequired = checkType.bind(null, true);
        return chainedCheckType;
      }
      function createPrimitiveTypeChecker(expectedType) {
        function validate2(props, propName, componentName, location, propFullName, secret) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== expectedType) {
            var preciseType = getPreciseType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + preciseType + "` supplied to `" + componentName + "`, expected ") + ("`" + expectedType + "`."), { expectedType });
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createAnyTypeChecker() {
        return createChainableTypeChecker(emptyFunctionThatReturnsNull);
      }
      function createArrayOfTypeChecker(typeChecker) {
        function validate2(props, propName, componentName, location, propFullName) {
          if (typeof typeChecker !== "function") {
            return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside arrayOf.");
          }
          var propValue = props[propName];
          if (!Array.isArray(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an array."));
          }
          for (var i = 0; i < propValue.length; i++) {
            var error = typeChecker(propValue, i, componentName, location, propFullName + "[" + i + "]", ReactPropTypesSecret);
            if (error instanceof Error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createElementTypeChecker() {
        function validate2(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          if (!isValidElement(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement."));
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createElementTypeTypeChecker() {
        function validate2(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          if (!ReactIs.isValidElementType(propValue)) {
            var propType = getPropType(propValue);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement type."));
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createInstanceTypeChecker(expectedClass) {
        function validate2(props, propName, componentName, location, propFullName) {
          if (!(props[propName] instanceof expectedClass)) {
            var expectedClassName = expectedClass.name || ANONYMOUS;
            var actualClassName = getClassName(props[propName]);
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + actualClassName + "` supplied to `" + componentName + "`, expected ") + ("instance of `" + expectedClassName + "`."));
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createEnumTypeChecker(expectedValues) {
        if (!Array.isArray(expectedValues)) {
          if (true) {
            if (arguments.length > 1) {
              printWarning("Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).");
            } else {
              printWarning("Invalid argument supplied to oneOf, expected an array.");
            }
          }
          return emptyFunctionThatReturnsNull;
        }
        function validate2(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          for (var i = 0; i < expectedValues.length; i++) {
            if (is(propValue, expectedValues[i])) {
              return null;
            }
          }
          var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
            var type = getPreciseType(value);
            if (type === "symbol") {
              return String(value);
            }
            return value;
          });
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of value `" + String(propValue) + "` " + ("supplied to `" + componentName + "`, expected one of " + valuesString + "."));
        }
        return createChainableTypeChecker(validate2);
      }
      function createObjectOfTypeChecker(typeChecker) {
        function validate2(props, propName, componentName, location, propFullName) {
          if (typeof typeChecker !== "function") {
            return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside objectOf.");
          }
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an object."));
          }
          for (var key in propValue) {
            if (has(propValue, key)) {
              var error = typeChecker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
              if (error instanceof Error) {
                return error;
              }
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createUnionTypeChecker(arrayOfTypeCheckers) {
        if (!Array.isArray(arrayOfTypeCheckers)) {
          true ? printWarning("Invalid argument supplied to oneOfType, expected an instance of array.") : void 0;
          return emptyFunctionThatReturnsNull;
        }
        for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
          var checker = arrayOfTypeCheckers[i];
          if (typeof checker !== "function") {
            printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + getPostfixForTypeWarning(checker) + " at index " + i + ".");
            return emptyFunctionThatReturnsNull;
          }
        }
        function validate2(props, propName, componentName, location, propFullName) {
          var expectedTypes = [];
          for (var i2 = 0; i2 < arrayOfTypeCheckers.length; i2++) {
            var checker2 = arrayOfTypeCheckers[i2];
            var checkerResult = checker2(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
            if (checkerResult == null) {
              return null;
            }
            if (checkerResult.data && has(checkerResult.data, "expectedType")) {
              expectedTypes.push(checkerResult.data.expectedType);
            }
          }
          var expectedTypesMessage = expectedTypes.length > 0 ? ", expected one of type [" + expectedTypes.join(", ") + "]" : "";
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`" + expectedTypesMessage + "."));
        }
        return createChainableTypeChecker(validate2);
      }
      function createNodeChecker() {
        function validate2(props, propName, componentName, location, propFullName) {
          if (!isNode(props[propName])) {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`, expected a ReactNode."));
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function invalidValidatorError(componentName, location, propFullName, key, type) {
        return new PropTypeError((componentName || "React class") + ": " + location + " type `" + propFullName + "." + key + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + type + "`.");
      }
      function createShapeTypeChecker(shapeTypes) {
        function validate2(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
          }
          for (var key in shapeTypes) {
            var checker = shapeTypes[key];
            if (typeof checker !== "function") {
              return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
            }
            var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
            if (error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function createStrictShapeTypeChecker(shapeTypes) {
        function validate2(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== "object") {
            return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
          }
          var allKeys = assign({}, props[propName], shapeTypes);
          for (var key in allKeys) {
            var checker = shapeTypes[key];
            if (has(shapeTypes, key) && typeof checker !== "function") {
              return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
            }
            if (!checker) {
              return new PropTypeError("Invalid " + location + " `" + propFullName + "` key `" + key + "` supplied to `" + componentName + "`.\nBad object: " + JSON.stringify(props[propName], null, "  ") + "\nValid keys: " + JSON.stringify(Object.keys(shapeTypes), null, "  "));
            }
            var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
            if (error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate2);
      }
      function isNode(propValue) {
        switch (typeof propValue) {
          case "number":
          case "string":
          case "undefined":
            return true;
          case "boolean":
            return !propValue;
          case "object":
            if (Array.isArray(propValue)) {
              return propValue.every(isNode);
            }
            if (propValue === null || isValidElement(propValue)) {
              return true;
            }
            var iteratorFn = getIteratorFn(propValue);
            if (iteratorFn) {
              var iterator = iteratorFn.call(propValue);
              var step;
              if (iteratorFn !== propValue.entries) {
                while (!(step = iterator.next()).done) {
                  if (!isNode(step.value)) {
                    return false;
                  }
                }
              } else {
                while (!(step = iterator.next()).done) {
                  var entry = step.value;
                  if (entry) {
                    if (!isNode(entry[1])) {
                      return false;
                    }
                  }
                }
              }
            } else {
              return false;
            }
            return true;
          default:
            return false;
        }
      }
      function isSymbol(propType, propValue) {
        if (propType === "symbol") {
          return true;
        }
        if (!propValue) {
          return false;
        }
        if (propValue["@@toStringTag"] === "Symbol") {
          return true;
        }
        if (typeof Symbol === "function" && propValue instanceof Symbol) {
          return true;
        }
        return false;
      }
      function getPropType(propValue) {
        var propType = typeof propValue;
        if (Array.isArray(propValue)) {
          return "array";
        }
        if (propValue instanceof RegExp) {
          return "object";
        }
        if (isSymbol(propType, propValue)) {
          return "symbol";
        }
        return propType;
      }
      function getPreciseType(propValue) {
        if (typeof propValue === "undefined" || propValue === null) {
          return "" + propValue;
        }
        var propType = getPropType(propValue);
        if (propType === "object") {
          if (propValue instanceof Date) {
            return "date";
          } else if (propValue instanceof RegExp) {
            return "regexp";
          }
        }
        return propType;
      }
      function getPostfixForTypeWarning(value) {
        var type = getPreciseType(value);
        switch (type) {
          case "array":
          case "object":
            return "an " + type;
          case "boolean":
          case "date":
          case "regexp":
            return "a " + type;
          default:
            return type;
        }
      }
      function getClassName(propValue) {
        if (!propValue.constructor || !propValue.constructor.name) {
          return ANONYMOUS;
        }
        return propValue.constructor.name;
      }
      ReactPropTypes.checkPropTypes = checkPropTypes;
      ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
      ReactPropTypes.PropTypes = ReactPropTypes;
      return ReactPropTypes;
    };
  }
});

// node_modules/prop-types/index.js
var require_prop_types = __commonJS({
  "node_modules/prop-types/index.js"(exports, module) {
    init_define_process_env();
    if (true) {
      ReactIs = require_react_is();
      throwOnDirectAccess = true;
      module.exports = require_factoryWithTypeCheckers()(ReactIs.isElement, throwOnDirectAccess);
    } else {
      module.exports = null();
    }
    var ReactIs;
    var throwOnDirectAccess;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/tabbable.js
var require_tabbable = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/tabbable.js"(exports, module) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = findTabbableDescendants;
    var tabbableNode = /input|select|textarea|button|object/;
    function hidesContents(element) {
      var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;
      if (zeroSize && !element.innerHTML)
        return true;
      try {
        var style = window.getComputedStyle(element);
        return zeroSize ? style.getPropertyValue("overflow") !== "visible" || element.scrollWidth <= 0 && element.scrollHeight <= 0 : style.getPropertyValue("display") == "none";
      } catch (exception) {
        console.warn("Failed to inspect element style");
        return false;
      }
    }
    function visible(element) {
      var parentElement = element;
      var rootNode = element.getRootNode && element.getRootNode();
      while (parentElement) {
        if (parentElement === document.body)
          break;
        if (rootNode && parentElement === rootNode)
          parentElement = rootNode.host.parentNode;
        if (hidesContents(parentElement))
          return false;
        parentElement = parentElement.parentNode;
      }
      return true;
    }
    function focusable(element, isTabIndexNotNaN) {
      var nodeName = element.nodeName.toLowerCase();
      var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === "a" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);
      return res && visible(element);
    }
    function tabbable(element) {
      var tabIndex = element.getAttribute("tabindex");
      if (tabIndex === null)
        tabIndex = void 0;
      var isTabIndexNaN = isNaN(tabIndex);
      return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);
    }
    function findTabbableDescendants(element) {
      var descendants = [].slice.call(element.querySelectorAll("*"), 0).reduce(function(finished, el) {
        return finished.concat(!el.shadowRoot ? [el] : findTabbableDescendants(el.shadowRoot));
      }, []);
      return descendants.filter(tabbable);
    }
    module.exports = exports["default"];
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/focusManager.js
var require_focusManager = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/focusManager.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resetState = resetState;
    exports.log = log2;
    exports.handleBlur = handleBlur;
    exports.handleFocus = handleFocus;
    exports.markForFocusLater = markForFocusLater;
    exports.returnFocus = returnFocus;
    exports.popWithoutFocus = popWithoutFocus;
    exports.setupScopedFocus = setupScopedFocus;
    exports.teardownScopedFocus = teardownScopedFocus;
    var _tabbable = require_tabbable();
    var _tabbable2 = _interopRequireDefault(_tabbable);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var focusLaterElements = [];
    var modalElement = null;
    var needToFocus = false;
    function resetState() {
      focusLaterElements = [];
    }
    function log2() {
      if (true) {
        console.log("focusManager ----------");
        focusLaterElements.forEach(function(f2) {
          var check = f2 || {};
          console.log(check.nodeName, check.className, check.id);
        });
        console.log("end focusManager ----------");
      }
    }
    function handleBlur() {
      needToFocus = true;
    }
    function handleFocus() {
      if (needToFocus) {
        needToFocus = false;
        if (!modalElement) {
          return;
        }
        setTimeout(function() {
          if (modalElement.contains(document.activeElement)) {
            return;
          }
          var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;
          el.focus();
        }, 0);
      }
    }
    function markForFocusLater() {
      focusLaterElements.push(document.activeElement);
    }
    function returnFocus() {
      var preventScroll = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
      var toFocus = null;
      try {
        if (focusLaterElements.length !== 0) {
          toFocus = focusLaterElements.pop();
          toFocus.focus({ preventScroll });
        }
        return;
      } catch (e) {
        console.warn(["You tried to return focus to", toFocus, "but it is not in the DOM anymore"].join(" "));
      }
    }
    function popWithoutFocus() {
      focusLaterElements.length > 0 && focusLaterElements.pop();
    }
    function setupScopedFocus(element) {
      modalElement = element;
      if (window.addEventListener) {
        window.addEventListener("blur", handleBlur, false);
        document.addEventListener("focus", handleFocus, true);
      } else {
        window.attachEvent("onBlur", handleBlur);
        document.attachEvent("onFocus", handleFocus);
      }
    }
    function teardownScopedFocus() {
      modalElement = null;
      if (window.addEventListener) {
        window.removeEventListener("blur", handleBlur);
        document.removeEventListener("focus", handleFocus);
      } else {
        window.detachEvent("onBlur", handleBlur);
        document.detachEvent("onFocus", handleFocus);
      }
    }
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/scopeTab.js
var require_scopeTab = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/scopeTab.js"(exports, module) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = scopeTab;
    var _tabbable = require_tabbable();
    var _tabbable2 = _interopRequireDefault(_tabbable);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function getActiveElement() {
      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;
      return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;
    }
    function scopeTab(node, event) {
      var tabbable = (0, _tabbable2.default)(node);
      if (!tabbable.length) {
        event.preventDefault();
        return;
      }
      var target = void 0;
      var shiftKey = event.shiftKey;
      var head = tabbable[0];
      var tail = tabbable[tabbable.length - 1];
      var activeElement = getActiveElement();
      if (node === activeElement) {
        if (!shiftKey)
          return;
        target = tail;
      }
      if (tail === activeElement && !shiftKey) {
        target = head;
      }
      if (head === activeElement && shiftKey) {
        target = tail;
      }
      if (target) {
        event.preventDefault();
        target.focus();
        return;
      }
      var checkSafari = /(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);
      var isSafariDesktop = checkSafari != null && checkSafari[1] != "Chrome" && /\biPod\b|\biPad\b/g.exec(navigator.userAgent) == null;
      if (!isSafariDesktop)
        return;
      var x = tabbable.indexOf(activeElement);
      if (x > -1) {
        x += shiftKey ? -1 : 1;
      }
      target = tabbable[x];
      if (typeof target === "undefined") {
        event.preventDefault();
        target = shiftKey ? tail : head;
        target.focus();
        return;
      }
      event.preventDefault();
      target.focus();
    }
    module.exports = exports["default"];
  }
});

// node_modules/warning/warning.js
var require_warning = __commonJS({
  "node_modules/warning/warning.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var __DEV__ = true;
    var warning = function() {
    };
    if (__DEV__) {
      printWarning = function printWarning2(format, args) {
        var len = arguments.length;
        args = new Array(len > 1 ? len - 1 : 0);
        for (var key = 1; key < len; key++) {
          args[key - 1] = arguments[key];
        }
        var argIndex = 0;
        var message = "Warning: " + format.replace(/%s/g, function() {
          return args[argIndex++];
        });
        if (typeof console !== "undefined") {
          console.error(message);
        }
        try {
          throw new Error(message);
        } catch (x) {
        }
      };
      warning = function(condition, format, args) {
        var len = arguments.length;
        args = new Array(len > 2 ? len - 2 : 0);
        for (var key = 2; key < len; key++) {
          args[key - 2] = arguments[key];
        }
        if (format === void 0) {
          throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
        }
        if (!condition) {
          printWarning.apply(null, [format].concat(args));
        }
      };
    }
    var printWarning;
    module.exports = warning;
  }
});

// node_modules/exenv/index.js
var require_exenv = __commonJS({
  "node_modules/exenv/index.js"(exports, module) {
    init_define_process_env();
    (function() {
      "use strict";
      var canUseDOM = !!(typeof window !== "undefined" && window.document && window.document.createElement);
      var ExecutionEnvironment = {
        canUseDOM,
        canUseWorkers: typeof Worker !== "undefined",
        canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),
        canUseViewport: canUseDOM && !!window.screen
      };
      if (typeof define === "function" && typeof define.amd === "object" && define.amd) {
        define(function() {
          return ExecutionEnvironment;
        });
      } else if (typeof module !== "undefined" && module.exports) {
        module.exports = ExecutionEnvironment;
      } else {
        window.ExecutionEnvironment = ExecutionEnvironment;
      }
    })();
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/safeHTMLElement.js
var require_safeHTMLElement = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/safeHTMLElement.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.canUseDOM = exports.SafeNodeList = exports.SafeHTMLCollection = void 0;
    var _exenv = require_exenv();
    var _exenv2 = _interopRequireDefault(_exenv);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var EE = _exenv2.default;
    var SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};
    var SafeHTMLCollection = exports.SafeHTMLCollection = EE.canUseDOM ? window.HTMLCollection : {};
    var SafeNodeList = exports.SafeNodeList = EE.canUseDOM ? window.NodeList : {};
    var canUseDOM = exports.canUseDOM = EE.canUseDOM;
    exports.default = SafeHTMLElement;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/ariaAppHider.js
var require_ariaAppHider = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/ariaAppHider.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resetState = resetState;
    exports.log = log2;
    exports.assertNodeList = assertNodeList;
    exports.setElement = setElement;
    exports.validateElement = validateElement;
    exports.hide = hide;
    exports.show = show;
    exports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;
    var _warning = require_warning();
    var _warning2 = _interopRequireDefault(_warning);
    var _safeHTMLElement = require_safeHTMLElement();
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var globalElement = null;
    function resetState() {
      if (globalElement) {
        if (globalElement.removeAttribute) {
          globalElement.removeAttribute("aria-hidden");
        } else if (globalElement.length != null) {
          globalElement.forEach(function(element) {
            return element.removeAttribute("aria-hidden");
          });
        } else {
          document.querySelectorAll(globalElement).forEach(function(element) {
            return element.removeAttribute("aria-hidden");
          });
        }
      }
      globalElement = null;
    }
    function log2() {
      if (true) {
        var check = globalElement || {};
        console.log("ariaAppHider ----------");
        console.log(check.nodeName, check.className, check.id);
        console.log("end ariaAppHider ----------");
      }
    }
    function assertNodeList(nodeList, selector) {
      if (!nodeList || !nodeList.length) {
        throw new Error("react-modal: No elements were found for selector " + selector + ".");
      }
    }
    function setElement(element) {
      var useElement = element;
      if (typeof useElement === "string" && _safeHTMLElement.canUseDOM) {
        var el = document.querySelectorAll(useElement);
        assertNodeList(el, useElement);
        useElement = el;
      }
      globalElement = useElement || globalElement;
      return globalElement;
    }
    function validateElement(appElement) {
      var el = appElement || globalElement;
      if (el) {
        return Array.isArray(el) || el instanceof HTMLCollection || el instanceof NodeList ? el : [el];
      } else {
        (0, _warning2.default)(false, ["react-modal: App element is not defined.", "Please use `Modal.setAppElement(el)` or set `appElement={el}`.", "This is needed so screen readers don't see main content", "when modal is opened. It is not recommended, but you can opt-out", "by setting `ariaHideApp={false}`."].join(" "));
        return [];
      }
    }
    function hide(appElement) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = void 0;
      try {
        for (var _iterator = validateElement(appElement)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var el = _step.value;
          el.setAttribute("aria-hidden", "true");
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    function show(appElement) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = void 0;
      try {
        for (var _iterator2 = validateElement(appElement)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var el = _step2.value;
          el.removeAttribute("aria-hidden");
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
    }
    function documentNotReadyOrSSRTesting() {
      globalElement = null;
    }
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/classList.js
var require_classList = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/classList.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resetState = resetState;
    exports.log = log2;
    var htmlClassList = {};
    var docBodyClassList = {};
    function removeClass(at, cls) {
      at.classList.remove(cls);
    }
    function resetState() {
      var htmlElement = document.getElementsByTagName("html")[0];
      for (var cls in htmlClassList) {
        removeClass(htmlElement, htmlClassList[cls]);
      }
      var body = document.body;
      for (var _cls in docBodyClassList) {
        removeClass(body, docBodyClassList[_cls]);
      }
      htmlClassList = {};
      docBodyClassList = {};
    }
    function log2() {
      if (true) {
        var classes = document.getElementsByTagName("html")[0].className;
        var buffer = "Show tracked classes:\n\n";
        buffer += "<html /> (" + classes + "):\n  ";
        for (var x in htmlClassList) {
          buffer += "  " + x + " " + htmlClassList[x] + "\n  ";
        }
        classes = document.body.className;
        buffer += "\n\ndoc.body (" + classes + "):\n  ";
        for (var _x in docBodyClassList) {
          buffer += "  " + _x + " " + docBodyClassList[_x] + "\n  ";
        }
        buffer += "\n";
        console.log(buffer);
      }
    }
    var incrementReference = function incrementReference2(poll, className) {
      if (!poll[className]) {
        poll[className] = 0;
      }
      poll[className] += 1;
      return className;
    };
    var decrementReference = function decrementReference2(poll, className) {
      if (poll[className]) {
        poll[className] -= 1;
      }
      return className;
    };
    var trackClass = function trackClass2(classListRef, poll, classes) {
      classes.forEach(function(className) {
        incrementReference(poll, className);
        classListRef.add(className);
      });
    };
    var untrackClass = function untrackClass2(classListRef, poll, classes) {
      classes.forEach(function(className) {
        decrementReference(poll, className);
        poll[className] === 0 && classListRef.remove(className);
      });
    };
    var add = exports.add = function add2(element, classString) {
      return trackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
    };
    var remove = exports.remove = function remove2(element, classString) {
      return untrackClass(element.classList, element.nodeName.toLowerCase() == "html" ? htmlClassList : docBodyClassList, classString.split(" "));
    };
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/portalOpenInstances.js
var require_portalOpenInstances = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/portalOpenInstances.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.log = log2;
    exports.resetState = resetState;
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var PortalOpenInstances = function PortalOpenInstances2() {
      var _this = this;
      _classCallCheck(this, PortalOpenInstances2);
      this.register = function(openInstance) {
        if (_this.openInstances.indexOf(openInstance) !== -1) {
          if (true) {
            console.warn("React-Modal: Cannot register modal instance that's already open");
          }
          return;
        }
        _this.openInstances.push(openInstance);
        _this.emit("register");
      };
      this.deregister = function(openInstance) {
        var index = _this.openInstances.indexOf(openInstance);
        if (index === -1) {
          if (true) {
            console.warn("React-Modal: Unable to deregister " + openInstance + " as it was never registered");
          }
          return;
        }
        _this.openInstances.splice(index, 1);
        _this.emit("deregister");
      };
      this.subscribe = function(callback) {
        _this.subscribers.push(callback);
      };
      this.emit = function(eventType) {
        _this.subscribers.forEach(function(subscriber) {
          return subscriber(eventType, _this.openInstances.slice());
        });
      };
      this.openInstances = [];
      this.subscribers = [];
    };
    var portalOpenInstances = new PortalOpenInstances();
    function log2() {
      console.log("portalOpenInstances ----------");
      console.log(portalOpenInstances.openInstances.length);
      portalOpenInstances.openInstances.forEach(function(p) {
        return console.log(p);
      });
      console.log("end portalOpenInstances ----------");
    }
    function resetState() {
      portalOpenInstances = new PortalOpenInstances();
    }
    exports.default = portalOpenInstances;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/bodyTrap.js
var require_bodyTrap = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/helpers/bodyTrap.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.resetState = resetState;
    exports.log = log2;
    var _portalOpenInstances = require_portalOpenInstances();
    var _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var before = void 0;
    var after = void 0;
    var instances = [];
    function resetState() {
      var _arr = [before, after];
      for (var _i = 0; _i < _arr.length; _i++) {
        var item = _arr[_i];
        if (!item)
          continue;
        item.parentNode && item.parentNode.removeChild(item);
      }
      before = after = null;
      instances = [];
    }
    function log2() {
      console.log("bodyTrap ----------");
      console.log(instances.length);
      var _arr2 = [before, after];
      for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
        var item = _arr2[_i2];
        var check = item || {};
        console.log(check.nodeName, check.className, check.id);
      }
      console.log("edn bodyTrap ----------");
    }
    function focusContent() {
      if (instances.length === 0) {
        if (true) {
          console.warn("React-Modal: Open instances > 0 expected");
        }
        return;
      }
      instances[instances.length - 1].focusContent();
    }
    function bodyTrap(eventType, openInstances) {
      if (!before && !after) {
        before = document.createElement("div");
        before.setAttribute("data-react-modal-body-trap", "");
        before.style.position = "absolute";
        before.style.opacity = "0";
        before.setAttribute("tabindex", "0");
        before.addEventListener("focus", focusContent);
        after = before.cloneNode();
        after.addEventListener("focus", focusContent);
      }
      instances = openInstances;
      if (instances.length > 0) {
        if (document.body.firstChild !== before) {
          document.body.insertBefore(before, document.body.firstChild);
        }
        if (document.body.lastChild !== after) {
          document.body.appendChild(after);
        }
      } else {
        if (before.parentElement) {
          before.parentElement.removeChild(before);
        }
        if (after.parentElement) {
          after.parentElement.removeChild(after);
        }
      }
    }
    _portalOpenInstances2.default.subscribe(bodyTrap);
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/components/ModalPortal.js
var require_ModalPortal = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/components/ModalPortal.js"(exports, module) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    var _createClass = function() {
      function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      return function(Constructor, protoProps, staticProps) {
        if (protoProps)
          defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          defineProperties(Constructor, staticProps);
        return Constructor;
      };
    }();
    var _react = require_react();
    var _propTypes = require_prop_types();
    var _propTypes2 = _interopRequireDefault(_propTypes);
    var _focusManager = require_focusManager();
    var focusManager = _interopRequireWildcard(_focusManager);
    var _scopeTab = require_scopeTab();
    var _scopeTab2 = _interopRequireDefault(_scopeTab);
    var _ariaAppHider = require_ariaAppHider();
    var ariaAppHider = _interopRequireWildcard(_ariaAppHider);
    var _classList = require_classList();
    var classList = _interopRequireWildcard(_classList);
    var _safeHTMLElement = require_safeHTMLElement();
    var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);
    var _portalOpenInstances = require_portalOpenInstances();
    var _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);
    require_bodyTrap();
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var CLASS_NAMES = {
      overlay: "ReactModal__Overlay",
      content: "ReactModal__Content"
    };
    var TAB_KEY = 9;
    var ESC_KEY = 27;
    var ariaHiddenInstances = 0;
    var ModalPortal = function(_Component) {
      _inherits(ModalPortal2, _Component);
      function ModalPortal2(props) {
        _classCallCheck(this, ModalPortal2);
        var _this = _possibleConstructorReturn(this, (ModalPortal2.__proto__ || Object.getPrototypeOf(ModalPortal2)).call(this, props));
        _this.setOverlayRef = function(overlay) {
          _this.overlay = overlay;
          _this.props.overlayRef && _this.props.overlayRef(overlay);
        };
        _this.setContentRef = function(content) {
          _this.content = content;
          _this.props.contentRef && _this.props.contentRef(content);
        };
        _this.afterClose = function() {
          var _this$props = _this.props, appElement = _this$props.appElement, ariaHideApp = _this$props.ariaHideApp, htmlOpenClassName = _this$props.htmlOpenClassName, bodyOpenClassName = _this$props.bodyOpenClassName;
          bodyOpenClassName && classList.remove(document.body, bodyOpenClassName);
          htmlOpenClassName && classList.remove(document.getElementsByTagName("html")[0], htmlOpenClassName);
          if (ariaHideApp && ariaHiddenInstances > 0) {
            ariaHiddenInstances -= 1;
            if (ariaHiddenInstances === 0) {
              ariaAppHider.show(appElement);
            }
          }
          if (_this.props.shouldFocusAfterRender) {
            if (_this.props.shouldReturnFocusAfterClose) {
              focusManager.returnFocus(_this.props.preventScroll);
              focusManager.teardownScopedFocus();
            } else {
              focusManager.popWithoutFocus();
            }
          }
          if (_this.props.onAfterClose) {
            _this.props.onAfterClose();
          }
          _portalOpenInstances2.default.deregister(_this);
        };
        _this.open = function() {
          _this.beforeOpen();
          if (_this.state.afterOpen && _this.state.beforeClose) {
            clearTimeout(_this.closeTimer);
            _this.setState({ beforeClose: false });
          } else {
            if (_this.props.shouldFocusAfterRender) {
              focusManager.setupScopedFocus(_this.node);
              focusManager.markForFocusLater();
            }
            _this.setState({ isOpen: true }, function() {
              _this.openAnimationFrame = requestAnimationFrame(function() {
                _this.setState({ afterOpen: true });
                if (_this.props.isOpen && _this.props.onAfterOpen) {
                  _this.props.onAfterOpen({
                    overlayEl: _this.overlay,
                    contentEl: _this.content
                  });
                }
              });
            });
          }
        };
        _this.close = function() {
          if (_this.props.closeTimeoutMS > 0) {
            _this.closeWithTimeout();
          } else {
            _this.closeWithoutTimeout();
          }
        };
        _this.focusContent = function() {
          return _this.content && !_this.contentHasFocus() && _this.content.focus({ preventScroll: true });
        };
        _this.closeWithTimeout = function() {
          var closesAt = Date.now() + _this.props.closeTimeoutMS;
          _this.setState({ beforeClose: true, closesAt }, function() {
            _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());
          });
        };
        _this.closeWithoutTimeout = function() {
          _this.setState({
            beforeClose: false,
            isOpen: false,
            afterOpen: false,
            closesAt: null
          }, _this.afterClose);
        };
        _this.handleKeyDown = function(event) {
          if (event.keyCode === TAB_KEY) {
            (0, _scopeTab2.default)(_this.content, event);
          }
          if (_this.props.shouldCloseOnEsc && event.keyCode === ESC_KEY) {
            event.stopPropagation();
            _this.requestClose(event);
          }
        };
        _this.handleOverlayOnClick = function(event) {
          if (_this.shouldClose === null) {
            _this.shouldClose = true;
          }
          if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {
            if (_this.ownerHandlesClose()) {
              _this.requestClose(event);
            } else {
              _this.focusContent();
            }
          }
          _this.shouldClose = null;
        };
        _this.handleContentOnMouseUp = function() {
          _this.shouldClose = false;
        };
        _this.handleOverlayOnMouseDown = function(event) {
          if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {
            event.preventDefault();
          }
        };
        _this.handleContentOnClick = function() {
          _this.shouldClose = false;
        };
        _this.handleContentOnMouseDown = function() {
          _this.shouldClose = false;
        };
        _this.requestClose = function(event) {
          return _this.ownerHandlesClose() && _this.props.onRequestClose(event);
        };
        _this.ownerHandlesClose = function() {
          return _this.props.onRequestClose;
        };
        _this.shouldBeClosed = function() {
          return !_this.state.isOpen && !_this.state.beforeClose;
        };
        _this.contentHasFocus = function() {
          return document.activeElement === _this.content || _this.content.contains(document.activeElement);
        };
        _this.buildClassName = function(which, additional) {
          var classNames = (typeof additional === "undefined" ? "undefined" : _typeof(additional)) === "object" ? additional : {
            base: CLASS_NAMES[which],
            afterOpen: CLASS_NAMES[which] + "--after-open",
            beforeClose: CLASS_NAMES[which] + "--before-close"
          };
          var className = classNames.base;
          if (_this.state.afterOpen) {
            className = className + " " + classNames.afterOpen;
          }
          if (_this.state.beforeClose) {
            className = className + " " + classNames.beforeClose;
          }
          return typeof additional === "string" && additional ? className + " " + additional : className;
        };
        _this.attributesFromObject = function(prefix, items) {
          return Object.keys(items).reduce(function(acc, name) {
            acc[prefix + "-" + name] = items[name];
            return acc;
          }, {});
        };
        _this.state = {
          afterOpen: false,
          beforeClose: false
        };
        _this.shouldClose = null;
        _this.moveFromContentToOverlay = null;
        return _this;
      }
      _createClass(ModalPortal2, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          if (this.props.isOpen) {
            this.open();
          }
        }
      }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate(prevProps, prevState) {
          if (true) {
            if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {
              console.warn('React-Modal: "bodyOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.');
            }
            if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {
              console.warn('React-Modal: "htmlOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.');
            }
          }
          if (this.props.isOpen && !prevProps.isOpen) {
            this.open();
          } else if (!this.props.isOpen && prevProps.isOpen) {
            this.close();
          }
          if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {
            this.focusContent();
          }
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          if (this.state.isOpen) {
            this.afterClose();
          }
          clearTimeout(this.closeTimer);
          cancelAnimationFrame(this.openAnimationFrame);
        }
      }, {
        key: "beforeOpen",
        value: function beforeOpen() {
          var _props = this.props, appElement = _props.appElement, ariaHideApp = _props.ariaHideApp, htmlOpenClassName = _props.htmlOpenClassName, bodyOpenClassName = _props.bodyOpenClassName;
          bodyOpenClassName && classList.add(document.body, bodyOpenClassName);
          htmlOpenClassName && classList.add(document.getElementsByTagName("html")[0], htmlOpenClassName);
          if (ariaHideApp) {
            ariaHiddenInstances += 1;
            ariaAppHider.hide(appElement);
          }
          _portalOpenInstances2.default.register(this);
        }
      }, {
        key: "render",
        value: function render() {
          var _props2 = this.props, id = _props2.id, className = _props2.className, overlayClassName = _props2.overlayClassName, defaultStyles = _props2.defaultStyles, children = _props2.children;
          var contentStyles = className ? {} : defaultStyles.content;
          var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;
          if (this.shouldBeClosed()) {
            return null;
          }
          var overlayProps = {
            ref: this.setOverlayRef,
            className: this.buildClassName("overlay", overlayClassName),
            style: _extends({}, overlayStyles, this.props.style.overlay),
            onClick: this.handleOverlayOnClick,
            onMouseDown: this.handleOverlayOnMouseDown
          };
          var contentProps = _extends({
            id,
            ref: this.setContentRef,
            style: _extends({}, contentStyles, this.props.style.content),
            className: this.buildClassName("content", className),
            tabIndex: "-1",
            onKeyDown: this.handleKeyDown,
            onMouseDown: this.handleContentOnMouseDown,
            onMouseUp: this.handleContentOnMouseUp,
            onClick: this.handleContentOnClick,
            role: this.props.role,
            "aria-label": this.props.contentLabel
          }, this.attributesFromObject("aria", _extends({ modal: true }, this.props.aria)), this.attributesFromObject("data", this.props.data || {}), {
            "data-testid": this.props.testId
          });
          var contentElement = this.props.contentElement(contentProps, children);
          return this.props.overlayElement(overlayProps, contentElement);
        }
      }]);
      return ModalPortal2;
    }(_react.Component);
    ModalPortal.defaultProps = {
      style: {
        overlay: {},
        content: {}
      },
      defaultStyles: {}
    };
    ModalPortal.propTypes = {
      isOpen: _propTypes2.default.bool.isRequired,
      defaultStyles: _propTypes2.default.shape({
        content: _propTypes2.default.object,
        overlay: _propTypes2.default.object
      }),
      style: _propTypes2.default.shape({
        content: _propTypes2.default.object,
        overlay: _propTypes2.default.object
      }),
      className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
      overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),
      bodyOpenClassName: _propTypes2.default.string,
      htmlOpenClassName: _propTypes2.default.string,
      ariaHideApp: _propTypes2.default.bool,
      appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),
      onAfterOpen: _propTypes2.default.func,
      onAfterClose: _propTypes2.default.func,
      onRequestClose: _propTypes2.default.func,
      closeTimeoutMS: _propTypes2.default.number,
      shouldFocusAfterRender: _propTypes2.default.bool,
      shouldCloseOnOverlayClick: _propTypes2.default.bool,
      shouldReturnFocusAfterClose: _propTypes2.default.bool,
      preventScroll: _propTypes2.default.bool,
      role: _propTypes2.default.string,
      contentLabel: _propTypes2.default.string,
      aria: _propTypes2.default.object,
      data: _propTypes2.default.object,
      children: _propTypes2.default.node,
      shouldCloseOnEsc: _propTypes2.default.bool,
      overlayRef: _propTypes2.default.func,
      contentRef: _propTypes2.default.func,
      id: _propTypes2.default.string,
      overlayElement: _propTypes2.default.func,
      contentElement: _propTypes2.default.func,
      testId: _propTypes2.default.string
    };
    exports.default = ModalPortal;
    module.exports = exports["default"];
  }
});

// node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js
var react_lifecycles_compat_es_exports = {};
__export(react_lifecycles_compat_es_exports, {
  polyfill: () => polyfill
});
function componentWillMount() {
  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);
  if (state !== null && state !== void 0) {
    this.setState(state);
  }
}
function componentWillReceiveProps(nextProps) {
  function updater(prevState) {
    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);
    return state !== null && state !== void 0 ? state : null;
  }
  this.setState(updater.bind(this));
}
function componentWillUpdate(nextProps, nextState) {
  try {
    var prevProps = this.props;
    var prevState = this.state;
    this.props = nextProps;
    this.state = nextState;
    this.__reactInternalSnapshotFlag = true;
    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(prevProps, prevState);
  } finally {
    this.props = prevProps;
    this.state = prevState;
  }
}
function polyfill(Component) {
  var prototype = Component.prototype;
  if (!prototype || !prototype.isReactComponent) {
    throw new Error("Can only polyfill class components");
  }
  if (typeof Component.getDerivedStateFromProps !== "function" && typeof prototype.getSnapshotBeforeUpdate !== "function") {
    return Component;
  }
  var foundWillMountName = null;
  var foundWillReceivePropsName = null;
  var foundWillUpdateName = null;
  if (typeof prototype.componentWillMount === "function") {
    foundWillMountName = "componentWillMount";
  } else if (typeof prototype.UNSAFE_componentWillMount === "function") {
    foundWillMountName = "UNSAFE_componentWillMount";
  }
  if (typeof prototype.componentWillReceiveProps === "function") {
    foundWillReceivePropsName = "componentWillReceiveProps";
  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === "function") {
    foundWillReceivePropsName = "UNSAFE_componentWillReceiveProps";
  }
  if (typeof prototype.componentWillUpdate === "function") {
    foundWillUpdateName = "componentWillUpdate";
  } else if (typeof prototype.UNSAFE_componentWillUpdate === "function") {
    foundWillUpdateName = "UNSAFE_componentWillUpdate";
  }
  if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {
    var componentName = Component.displayName || Component.name;
    var newApiName = typeof Component.getDerivedStateFromProps === "function" ? "getDerivedStateFromProps()" : "getSnapshotBeforeUpdate()";
    throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n" + componentName + " uses " + newApiName + " but also contains the following legacy lifecycles:" + (foundWillMountName !== null ? "\n  " + foundWillMountName : "") + (foundWillReceivePropsName !== null ? "\n  " + foundWillReceivePropsName : "") + (foundWillUpdateName !== null ? "\n  " + foundWillUpdateName : "") + "\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");
  }
  if (typeof Component.getDerivedStateFromProps === "function") {
    prototype.componentWillMount = componentWillMount;
    prototype.componentWillReceiveProps = componentWillReceiveProps;
  }
  if (typeof prototype.getSnapshotBeforeUpdate === "function") {
    if (typeof prototype.componentDidUpdate !== "function") {
      throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");
    }
    prototype.componentWillUpdate = componentWillUpdate;
    var componentDidUpdate = prototype.componentDidUpdate;
    prototype.componentDidUpdate = function componentDidUpdatePolyfill(prevProps, prevState, maybeSnapshot) {
      var snapshot = this.__reactInternalSnapshotFlag ? this.__reactInternalSnapshot : maybeSnapshot;
      componentDidUpdate.call(this, prevProps, prevState, snapshot);
    };
  }
  return Component;
}
var init_react_lifecycles_compat_es = __esm({
  "node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"() {
    init_define_process_env();
    componentWillMount.__suppressDeprecationWarning = true;
    componentWillReceiveProps.__suppressDeprecationWarning = true;
    componentWillUpdate.__suppressDeprecationWarning = true;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/components/Modal.js
var require_Modal = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/components/Modal.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.bodyOpenClassName = exports.portalClassName = void 0;
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var _createClass = function() {
      function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      return function(Constructor, protoProps, staticProps) {
        if (protoProps)
          defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          defineProperties(Constructor, staticProps);
        return Constructor;
      };
    }();
    var _react = require_react();
    var _react2 = _interopRequireDefault(_react);
    var _reactDom = require_react_dom();
    var _reactDom2 = _interopRequireDefault(_reactDom);
    var _propTypes = require_prop_types();
    var _propTypes2 = _interopRequireDefault(_propTypes);
    var _ModalPortal = require_ModalPortal();
    var _ModalPortal2 = _interopRequireDefault(_ModalPortal);
    var _ariaAppHider = require_ariaAppHider();
    var ariaAppHider = _interopRequireWildcard(_ariaAppHider);
    var _safeHTMLElement = require_safeHTMLElement();
    var _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);
    var _reactLifecyclesCompat = (init_react_lifecycles_compat_es(), __toCommonJS(react_lifecycles_compat_es_exports));
    function _interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var portalClassName = exports.portalClassName = "ReactModalPortal";
    var bodyOpenClassName = exports.bodyOpenClassName = "ReactModal__Body--open";
    var isReact16 = _safeHTMLElement.canUseDOM && _reactDom2.default.createPortal !== void 0;
    var createHTMLElement = function createHTMLElement2(name) {
      return document.createElement(name);
    };
    var getCreatePortal = function getCreatePortal2() {
      return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;
    };
    function getParentElement(parentSelector) {
      return parentSelector();
    }
    var Modal = function(_Component) {
      _inherits(Modal2, _Component);
      function Modal2() {
        var _ref;
        var _temp, _this, _ret;
        _classCallCheck(this, Modal2);
        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal2.__proto__ || Object.getPrototypeOf(Modal2)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function() {
          !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);
          var parent = getParentElement(_this.props.parentSelector);
          if (parent && parent.contains(_this.node)) {
            parent.removeChild(_this.node);
          } else {
            console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.');
          }
        }, _this.portalRef = function(ref) {
          _this.portal = ref;
        }, _this.renderPortal = function(props) {
          var createPortal = getCreatePortal();
          var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal2.defaultStyles }, props)), _this.node);
          _this.portalRef(portal);
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }
      _createClass(Modal2, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          if (!_safeHTMLElement.canUseDOM)
            return;
          if (!isReact16) {
            this.node = createHTMLElement("div");
          }
          this.node.className = this.props.portalClassName;
          var parent = getParentElement(this.props.parentSelector);
          parent.appendChild(this.node);
          !isReact16 && this.renderPortal(this.props);
        }
      }, {
        key: "getSnapshotBeforeUpdate",
        value: function getSnapshotBeforeUpdate(prevProps) {
          var prevParent = getParentElement(prevProps.parentSelector);
          var nextParent = getParentElement(this.props.parentSelector);
          return { prevParent, nextParent };
        }
      }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate(prevProps, _, snapshot) {
          if (!_safeHTMLElement.canUseDOM)
            return;
          var _props = this.props, isOpen = _props.isOpen, portalClassName2 = _props.portalClassName;
          if (prevProps.portalClassName !== portalClassName2) {
            this.node.className = portalClassName2;
          }
          var prevParent = snapshot.prevParent, nextParent = snapshot.nextParent;
          if (nextParent !== prevParent) {
            prevParent.removeChild(this.node);
            nextParent.appendChild(this.node);
          }
          if (!prevProps.isOpen && !isOpen)
            return;
          !isReact16 && this.renderPortal(this.props);
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal)
            return;
          var state = this.portal.state;
          var now = Date.now();
          var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);
          if (closesAt) {
            if (!state.beforeClose) {
              this.portal.closeWithTimeout();
            }
            setTimeout(this.removePortal, closesAt - now);
          } else {
            this.removePortal();
          }
        }
      }, {
        key: "render",
        value: function render() {
          if (!_safeHTMLElement.canUseDOM || !isReact16) {
            return null;
          }
          if (!this.node && isReact16) {
            this.node = createHTMLElement("div");
          }
          var createPortal = getCreatePortal();
          return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({
            ref: this.portalRef,
            defaultStyles: Modal2.defaultStyles
          }, this.props)), this.node);
        }
      }], [{
        key: "setAppElement",
        value: function setAppElement(element) {
          ariaAppHider.setElement(element);
        }
      }]);
      return Modal2;
    }(_react.Component);
    Modal.propTypes = {
      isOpen: _propTypes2.default.bool.isRequired,
      style: _propTypes2.default.shape({
        content: _propTypes2.default.object,
        overlay: _propTypes2.default.object
      }),
      portalClassName: _propTypes2.default.string,
      bodyOpenClassName: _propTypes2.default.string,
      htmlOpenClassName: _propTypes2.default.string,
      className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
        base: _propTypes2.default.string.isRequired,
        afterOpen: _propTypes2.default.string.isRequired,
        beforeClose: _propTypes2.default.string.isRequired
      })]),
      overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({
        base: _propTypes2.default.string.isRequired,
        afterOpen: _propTypes2.default.string.isRequired,
        beforeClose: _propTypes2.default.string.isRequired
      })]),
      appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),
      onAfterOpen: _propTypes2.default.func,
      onRequestClose: _propTypes2.default.func,
      closeTimeoutMS: _propTypes2.default.number,
      ariaHideApp: _propTypes2.default.bool,
      shouldFocusAfterRender: _propTypes2.default.bool,
      shouldCloseOnOverlayClick: _propTypes2.default.bool,
      shouldReturnFocusAfterClose: _propTypes2.default.bool,
      preventScroll: _propTypes2.default.bool,
      parentSelector: _propTypes2.default.func,
      aria: _propTypes2.default.object,
      data: _propTypes2.default.object,
      role: _propTypes2.default.string,
      contentLabel: _propTypes2.default.string,
      shouldCloseOnEsc: _propTypes2.default.bool,
      overlayRef: _propTypes2.default.func,
      contentRef: _propTypes2.default.func,
      id: _propTypes2.default.string,
      overlayElement: _propTypes2.default.func,
      contentElement: _propTypes2.default.func
    };
    Modal.defaultProps = {
      isOpen: false,
      portalClassName,
      bodyOpenClassName,
      role: "dialog",
      ariaHideApp: true,
      closeTimeoutMS: 0,
      shouldFocusAfterRender: true,
      shouldCloseOnEsc: true,
      shouldCloseOnOverlayClick: true,
      shouldReturnFocusAfterClose: true,
      preventScroll: false,
      parentSelector: function parentSelector() {
        return document.body;
      },
      overlayElement: function overlayElement(props, contentEl) {
        return _react2.default.createElement("div", props, contentEl);
      },
      contentElement: function contentElement(props, children) {
        return _react2.default.createElement("div", props, children);
      }
    };
    Modal.defaultStyles = {
      overlay: {
        position: "fixed",
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: "rgba(255, 255, 255, 0.75)"
      },
      content: {
        position: "absolute",
        top: "40px",
        left: "40px",
        right: "40px",
        bottom: "40px",
        border: "1px solid #ccc",
        background: "#fff",
        overflow: "auto",
        WebkitOverflowScrolling: "touch",
        borderRadius: "4px",
        outline: "none",
        padding: "20px"
      }
    };
    (0, _reactLifecyclesCompat.polyfill)(Modal);
    if (true) {
      Modal.setCreateHTMLElement = function(fn) {
        return createHTMLElement = fn;
      };
    }
    exports.default = Modal;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-modal/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-modal/lib/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _Modal = require_Modal();
    var _Modal2 = _interopRequireDefault(_Modal);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    exports.default = _Modal2.default;
    module.exports = exports["default"];
  }
});

// node_modules/qr.js/lib/mode.js
var require_mode = __commonJS({
  "node_modules/qr.js/lib/mode.js"(exports, module) {
    init_define_process_env();
    module.exports = {
      MODE_NUMBER: 1 << 0,
      MODE_ALPHA_NUM: 1 << 1,
      MODE_8BIT_BYTE: 1 << 2,
      MODE_KANJI: 1 << 3
    };
  }
});

// node_modules/qr.js/lib/8BitByte.js
var require_BitByte = __commonJS({
  "node_modules/qr.js/lib/8BitByte.js"(exports, module) {
    init_define_process_env();
    var mode = require_mode();
    function QR8bitByte(data) {
      this.mode = mode.MODE_8BIT_BYTE;
      this.data = data;
    }
    QR8bitByte.prototype = {
      getLength: function(buffer) {
        return this.data.length;
      },
      write: function(buffer) {
        for (var i = 0; i < this.data.length; i++) {
          buffer.put(this.data.charCodeAt(i), 8);
        }
      }
    };
    module.exports = QR8bitByte;
  }
});

// node_modules/qr.js/lib/ErrorCorrectLevel.js
var require_ErrorCorrectLevel = __commonJS({
  "node_modules/qr.js/lib/ErrorCorrectLevel.js"(exports, module) {
    init_define_process_env();
    module.exports = {
      L: 1,
      M: 0,
      Q: 3,
      H: 2
    };
  }
});

// node_modules/qr.js/lib/RSBlock.js
var require_RSBlock = __commonJS({
  "node_modules/qr.js/lib/RSBlock.js"(exports, module) {
    init_define_process_env();
    var ECL = require_ErrorCorrectLevel();
    function QRRSBlock(totalCount, dataCount) {
      this.totalCount = totalCount;
      this.dataCount = dataCount;
    }
    QRRSBlock.RS_BLOCK_TABLE = [
      [1, 26, 19],
      [1, 26, 16],
      [1, 26, 13],
      [1, 26, 9],
      [1, 44, 34],
      [1, 44, 28],
      [1, 44, 22],
      [1, 44, 16],
      [1, 70, 55],
      [1, 70, 44],
      [2, 35, 17],
      [2, 35, 13],
      [1, 100, 80],
      [2, 50, 32],
      [2, 50, 24],
      [4, 25, 9],
      [1, 134, 108],
      [2, 67, 43],
      [2, 33, 15, 2, 34, 16],
      [2, 33, 11, 2, 34, 12],
      [2, 86, 68],
      [4, 43, 27],
      [4, 43, 19],
      [4, 43, 15],
      [2, 98, 78],
      [4, 49, 31],
      [2, 32, 14, 4, 33, 15],
      [4, 39, 13, 1, 40, 14],
      [2, 121, 97],
      [2, 60, 38, 2, 61, 39],
      [4, 40, 18, 2, 41, 19],
      [4, 40, 14, 2, 41, 15],
      [2, 146, 116],
      [3, 58, 36, 2, 59, 37],
      [4, 36, 16, 4, 37, 17],
      [4, 36, 12, 4, 37, 13],
      [2, 86, 68, 2, 87, 69],
      [4, 69, 43, 1, 70, 44],
      [6, 43, 19, 2, 44, 20],
      [6, 43, 15, 2, 44, 16],
      [4, 101, 81],
      [1, 80, 50, 4, 81, 51],
      [4, 50, 22, 4, 51, 23],
      [3, 36, 12, 8, 37, 13],
      [2, 116, 92, 2, 117, 93],
      [6, 58, 36, 2, 59, 37],
      [4, 46, 20, 6, 47, 21],
      [7, 42, 14, 4, 43, 15],
      [4, 133, 107],
      [8, 59, 37, 1, 60, 38],
      [8, 44, 20, 4, 45, 21],
      [12, 33, 11, 4, 34, 12],
      [3, 145, 115, 1, 146, 116],
      [4, 64, 40, 5, 65, 41],
      [11, 36, 16, 5, 37, 17],
      [11, 36, 12, 5, 37, 13],
      [5, 109, 87, 1, 110, 88],
      [5, 65, 41, 5, 66, 42],
      [5, 54, 24, 7, 55, 25],
      [11, 36, 12],
      [5, 122, 98, 1, 123, 99],
      [7, 73, 45, 3, 74, 46],
      [15, 43, 19, 2, 44, 20],
      [3, 45, 15, 13, 46, 16],
      [1, 135, 107, 5, 136, 108],
      [10, 74, 46, 1, 75, 47],
      [1, 50, 22, 15, 51, 23],
      [2, 42, 14, 17, 43, 15],
      [5, 150, 120, 1, 151, 121],
      [9, 69, 43, 4, 70, 44],
      [17, 50, 22, 1, 51, 23],
      [2, 42, 14, 19, 43, 15],
      [3, 141, 113, 4, 142, 114],
      [3, 70, 44, 11, 71, 45],
      [17, 47, 21, 4, 48, 22],
      [9, 39, 13, 16, 40, 14],
      [3, 135, 107, 5, 136, 108],
      [3, 67, 41, 13, 68, 42],
      [15, 54, 24, 5, 55, 25],
      [15, 43, 15, 10, 44, 16],
      [4, 144, 116, 4, 145, 117],
      [17, 68, 42],
      [17, 50, 22, 6, 51, 23],
      [19, 46, 16, 6, 47, 17],
      [2, 139, 111, 7, 140, 112],
      [17, 74, 46],
      [7, 54, 24, 16, 55, 25],
      [34, 37, 13],
      [4, 151, 121, 5, 152, 122],
      [4, 75, 47, 14, 76, 48],
      [11, 54, 24, 14, 55, 25],
      [16, 45, 15, 14, 46, 16],
      [6, 147, 117, 4, 148, 118],
      [6, 73, 45, 14, 74, 46],
      [11, 54, 24, 16, 55, 25],
      [30, 46, 16, 2, 47, 17],
      [8, 132, 106, 4, 133, 107],
      [8, 75, 47, 13, 76, 48],
      [7, 54, 24, 22, 55, 25],
      [22, 45, 15, 13, 46, 16],
      [10, 142, 114, 2, 143, 115],
      [19, 74, 46, 4, 75, 47],
      [28, 50, 22, 6, 51, 23],
      [33, 46, 16, 4, 47, 17],
      [8, 152, 122, 4, 153, 123],
      [22, 73, 45, 3, 74, 46],
      [8, 53, 23, 26, 54, 24],
      [12, 45, 15, 28, 46, 16],
      [3, 147, 117, 10, 148, 118],
      [3, 73, 45, 23, 74, 46],
      [4, 54, 24, 31, 55, 25],
      [11, 45, 15, 31, 46, 16],
      [7, 146, 116, 7, 147, 117],
      [21, 73, 45, 7, 74, 46],
      [1, 53, 23, 37, 54, 24],
      [19, 45, 15, 26, 46, 16],
      [5, 145, 115, 10, 146, 116],
      [19, 75, 47, 10, 76, 48],
      [15, 54, 24, 25, 55, 25],
      [23, 45, 15, 25, 46, 16],
      [13, 145, 115, 3, 146, 116],
      [2, 74, 46, 29, 75, 47],
      [42, 54, 24, 1, 55, 25],
      [23, 45, 15, 28, 46, 16],
      [17, 145, 115],
      [10, 74, 46, 23, 75, 47],
      [10, 54, 24, 35, 55, 25],
      [19, 45, 15, 35, 46, 16],
      [17, 145, 115, 1, 146, 116],
      [14, 74, 46, 21, 75, 47],
      [29, 54, 24, 19, 55, 25],
      [11, 45, 15, 46, 46, 16],
      [13, 145, 115, 6, 146, 116],
      [14, 74, 46, 23, 75, 47],
      [44, 54, 24, 7, 55, 25],
      [59, 46, 16, 1, 47, 17],
      [12, 151, 121, 7, 152, 122],
      [12, 75, 47, 26, 76, 48],
      [39, 54, 24, 14, 55, 25],
      [22, 45, 15, 41, 46, 16],
      [6, 151, 121, 14, 152, 122],
      [6, 75, 47, 34, 76, 48],
      [46, 54, 24, 10, 55, 25],
      [2, 45, 15, 64, 46, 16],
      [17, 152, 122, 4, 153, 123],
      [29, 74, 46, 14, 75, 47],
      [49, 54, 24, 10, 55, 25],
      [24, 45, 15, 46, 46, 16],
      [4, 152, 122, 18, 153, 123],
      [13, 74, 46, 32, 75, 47],
      [48, 54, 24, 14, 55, 25],
      [42, 45, 15, 32, 46, 16],
      [20, 147, 117, 4, 148, 118],
      [40, 75, 47, 7, 76, 48],
      [43, 54, 24, 22, 55, 25],
      [10, 45, 15, 67, 46, 16],
      [19, 148, 118, 6, 149, 119],
      [18, 75, 47, 31, 76, 48],
      [34, 54, 24, 34, 55, 25],
      [20, 45, 15, 61, 46, 16]
    ];
    QRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {
      var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);
      if (rsBlock == void 0) {
        throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + errorCorrectLevel);
      }
      var length = rsBlock.length / 3;
      var list = new Array();
      for (var i = 0; i < length; i++) {
        var count = rsBlock[i * 3 + 0];
        var totalCount = rsBlock[i * 3 + 1];
        var dataCount = rsBlock[i * 3 + 2];
        for (var j = 0; j < count; j++) {
          list.push(new QRRSBlock(totalCount, dataCount));
        }
      }
      return list;
    };
    QRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {
      switch (errorCorrectLevel) {
        case ECL.L:
          return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];
        case ECL.M:
          return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];
        case ECL.Q:
          return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];
        case ECL.H:
          return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];
        default:
          return void 0;
      }
    };
    module.exports = QRRSBlock;
  }
});

// node_modules/qr.js/lib/BitBuffer.js
var require_BitBuffer = __commonJS({
  "node_modules/qr.js/lib/BitBuffer.js"(exports, module) {
    init_define_process_env();
    function QRBitBuffer() {
      this.buffer = new Array();
      this.length = 0;
    }
    QRBitBuffer.prototype = {
      get: function(index) {
        var bufIndex = Math.floor(index / 8);
        return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;
      },
      put: function(num, length) {
        for (var i = 0; i < length; i++) {
          this.putBit((num >>> length - i - 1 & 1) == 1);
        }
      },
      getLengthInBits: function() {
        return this.length;
      },
      putBit: function(bit) {
        var bufIndex = Math.floor(this.length / 8);
        if (this.buffer.length <= bufIndex) {
          this.buffer.push(0);
        }
        if (bit) {
          this.buffer[bufIndex] |= 128 >>> this.length % 8;
        }
        this.length++;
      }
    };
    module.exports = QRBitBuffer;
  }
});

// node_modules/qr.js/lib/math.js
var require_math = __commonJS({
  "node_modules/qr.js/lib/math.js"(exports, module) {
    init_define_process_env();
    var QRMath = {
      glog: function(n) {
        if (n < 1) {
          throw new Error("glog(" + n + ")");
        }
        return QRMath.LOG_TABLE[n];
      },
      gexp: function(n) {
        while (n < 0) {
          n += 255;
        }
        while (n >= 256) {
          n -= 255;
        }
        return QRMath.EXP_TABLE[n];
      },
      EXP_TABLE: new Array(256),
      LOG_TABLE: new Array(256)
    };
    for (i = 0; i < 8; i++) {
      QRMath.EXP_TABLE[i] = 1 << i;
    }
    var i;
    for (i = 8; i < 256; i++) {
      QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
    }
    var i;
    for (i = 0; i < 255; i++) {
      QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
    }
    var i;
    module.exports = QRMath;
  }
});

// node_modules/qr.js/lib/Polynomial.js
var require_Polynomial = __commonJS({
  "node_modules/qr.js/lib/Polynomial.js"(exports, module) {
    init_define_process_env();
    var math = require_math();
    function QRPolynomial(num, shift) {
      if (num.length == void 0) {
        throw new Error(num.length + "/" + shift);
      }
      var offset = 0;
      while (offset < num.length && num[offset] == 0) {
        offset++;
      }
      this.num = new Array(num.length - offset + shift);
      for (var i = 0; i < num.length - offset; i++) {
        this.num[i] = num[i + offset];
      }
    }
    QRPolynomial.prototype = {
      get: function(index) {
        return this.num[index];
      },
      getLength: function() {
        return this.num.length;
      },
      multiply: function(e) {
        var num = new Array(this.getLength() + e.getLength() - 1);
        for (var i = 0; i < this.getLength(); i++) {
          for (var j = 0; j < e.getLength(); j++) {
            num[i + j] ^= math.gexp(math.glog(this.get(i)) + math.glog(e.get(j)));
          }
        }
        return new QRPolynomial(num, 0);
      },
      mod: function(e) {
        if (this.getLength() - e.getLength() < 0) {
          return this;
        }
        var ratio = math.glog(this.get(0)) - math.glog(e.get(0));
        var num = new Array(this.getLength());
        for (var i = 0; i < this.getLength(); i++) {
          num[i] = this.get(i);
        }
        for (var i = 0; i < e.getLength(); i++) {
          num[i] ^= math.gexp(math.glog(e.get(i)) + ratio);
        }
        return new QRPolynomial(num, 0).mod(e);
      }
    };
    module.exports = QRPolynomial;
  }
});

// node_modules/qr.js/lib/util.js
var require_util = __commonJS({
  "node_modules/qr.js/lib/util.js"(exports, module) {
    init_define_process_env();
    var Mode = require_mode();
    var Polynomial = require_Polynomial();
    var math = require_math();
    var QRMaskPattern = {
      PATTERN000: 0,
      PATTERN001: 1,
      PATTERN010: 2,
      PATTERN011: 3,
      PATTERN100: 4,
      PATTERN101: 5,
      PATTERN110: 6,
      PATTERN111: 7
    };
    var QRUtil = {
      PATTERN_POSITION_TABLE: [
        [],
        [6, 18],
        [6, 22],
        [6, 26],
        [6, 30],
        [6, 34],
        [6, 22, 38],
        [6, 24, 42],
        [6, 26, 46],
        [6, 28, 50],
        [6, 30, 54],
        [6, 32, 58],
        [6, 34, 62],
        [6, 26, 46, 66],
        [6, 26, 48, 70],
        [6, 26, 50, 74],
        [6, 30, 54, 78],
        [6, 30, 56, 82],
        [6, 30, 58, 86],
        [6, 34, 62, 90],
        [6, 28, 50, 72, 94],
        [6, 26, 50, 74, 98],
        [6, 30, 54, 78, 102],
        [6, 28, 54, 80, 106],
        [6, 32, 58, 84, 110],
        [6, 30, 58, 86, 114],
        [6, 34, 62, 90, 118],
        [6, 26, 50, 74, 98, 122],
        [6, 30, 54, 78, 102, 126],
        [6, 26, 52, 78, 104, 130],
        [6, 30, 56, 82, 108, 134],
        [6, 34, 60, 86, 112, 138],
        [6, 30, 58, 86, 114, 142],
        [6, 34, 62, 90, 118, 146],
        [6, 30, 54, 78, 102, 126, 150],
        [6, 24, 50, 76, 102, 128, 154],
        [6, 28, 54, 80, 106, 132, 158],
        [6, 32, 58, 84, 110, 136, 162],
        [6, 26, 54, 82, 110, 138, 166],
        [6, 30, 58, 86, 114, 142, 170]
      ],
      G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,
      G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,
      G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,
      getBCHTypeInfo: function(data) {
        var d = data << 10;
        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
          d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);
        }
        return (data << 10 | d) ^ QRUtil.G15_MASK;
      },
      getBCHTypeNumber: function(data) {
        var d = data << 12;
        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
          d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);
        }
        return data << 12 | d;
      },
      getBCHDigit: function(data) {
        var digit = 0;
        while (data != 0) {
          digit++;
          data >>>= 1;
        }
        return digit;
      },
      getPatternPosition: function(typeNumber) {
        return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
      },
      getMask: function(maskPattern, i, j) {
        switch (maskPattern) {
          case QRMaskPattern.PATTERN000:
            return (i + j) % 2 == 0;
          case QRMaskPattern.PATTERN001:
            return i % 2 == 0;
          case QRMaskPattern.PATTERN010:
            return j % 3 == 0;
          case QRMaskPattern.PATTERN011:
            return (i + j) % 3 == 0;
          case QRMaskPattern.PATTERN100:
            return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;
          case QRMaskPattern.PATTERN101:
            return i * j % 2 + i * j % 3 == 0;
          case QRMaskPattern.PATTERN110:
            return (i * j % 2 + i * j % 3) % 2 == 0;
          case QRMaskPattern.PATTERN111:
            return (i * j % 3 + (i + j) % 2) % 2 == 0;
          default:
            throw new Error("bad maskPattern:" + maskPattern);
        }
      },
      getErrorCorrectPolynomial: function(errorCorrectLength) {
        var a = new Polynomial([1], 0);
        for (var i = 0; i < errorCorrectLength; i++) {
          a = a.multiply(new Polynomial([1, math.gexp(i)], 0));
        }
        return a;
      },
      getLengthInBits: function(mode, type) {
        if (1 <= type && type < 10) {
          switch (mode) {
            case Mode.MODE_NUMBER:
              return 10;
            case Mode.MODE_ALPHA_NUM:
              return 9;
            case Mode.MODE_8BIT_BYTE:
              return 8;
            case Mode.MODE_KANJI:
              return 8;
            default:
              throw new Error("mode:" + mode);
          }
        } else if (type < 27) {
          switch (mode) {
            case Mode.MODE_NUMBER:
              return 12;
            case Mode.MODE_ALPHA_NUM:
              return 11;
            case Mode.MODE_8BIT_BYTE:
              return 16;
            case Mode.MODE_KANJI:
              return 10;
            default:
              throw new Error("mode:" + mode);
          }
        } else if (type < 41) {
          switch (mode) {
            case Mode.MODE_NUMBER:
              return 14;
            case Mode.MODE_ALPHA_NUM:
              return 13;
            case Mode.MODE_8BIT_BYTE:
              return 16;
            case Mode.MODE_KANJI:
              return 12;
            default:
              throw new Error("mode:" + mode);
          }
        } else {
          throw new Error("type:" + type);
        }
      },
      getLostPoint: function(qrCode) {
        var moduleCount = qrCode.getModuleCount();
        var lostPoint = 0;
        for (var row = 0; row < moduleCount; row++) {
          for (var col = 0; col < moduleCount; col++) {
            var sameCount = 0;
            var dark = qrCode.isDark(row, col);
            for (var r = -1; r <= 1; r++) {
              if (row + r < 0 || moduleCount <= row + r) {
                continue;
              }
              for (var c = -1; c <= 1; c++) {
                if (col + c < 0 || moduleCount <= col + c) {
                  continue;
                }
                if (r == 0 && c == 0) {
                  continue;
                }
                if (dark == qrCode.isDark(row + r, col + c)) {
                  sameCount++;
                }
              }
            }
            if (sameCount > 5) {
              lostPoint += 3 + sameCount - 5;
            }
          }
        }
        for (var row = 0; row < moduleCount - 1; row++) {
          for (var col = 0; col < moduleCount - 1; col++) {
            var count = 0;
            if (qrCode.isDark(row, col))
              count++;
            if (qrCode.isDark(row + 1, col))
              count++;
            if (qrCode.isDark(row, col + 1))
              count++;
            if (qrCode.isDark(row + 1, col + 1))
              count++;
            if (count == 0 || count == 4) {
              lostPoint += 3;
            }
          }
        }
        for (var row = 0; row < moduleCount; row++) {
          for (var col = 0; col < moduleCount - 6; col++) {
            if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {
              lostPoint += 40;
            }
          }
        }
        for (var col = 0; col < moduleCount; col++) {
          for (var row = 0; row < moduleCount - 6; row++) {
            if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {
              lostPoint += 40;
            }
          }
        }
        var darkCount = 0;
        for (var col = 0; col < moduleCount; col++) {
          for (var row = 0; row < moduleCount; row++) {
            if (qrCode.isDark(row, col)) {
              darkCount++;
            }
          }
        }
        var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
        lostPoint += ratio * 10;
        return lostPoint;
      }
    };
    module.exports = QRUtil;
  }
});

// node_modules/qr.js/lib/QRCode.js
var require_QRCode = __commonJS({
  "node_modules/qr.js/lib/QRCode.js"(exports, module) {
    init_define_process_env();
    var BitByte = require_BitByte();
    var RSBlock = require_RSBlock();
    var BitBuffer = require_BitBuffer();
    var util = require_util();
    var Polynomial = require_Polynomial();
    function QRCode(typeNumber, errorCorrectLevel) {
      this.typeNumber = typeNumber;
      this.errorCorrectLevel = errorCorrectLevel;
      this.modules = null;
      this.moduleCount = 0;
      this.dataCache = null;
      this.dataList = [];
    }
    var proto = QRCode.prototype;
    proto.addData = function(data) {
      var newData = new BitByte(data);
      this.dataList.push(newData);
      this.dataCache = null;
    };
    proto.isDark = function(row, col) {
      if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {
        throw new Error(row + "," + col);
      }
      return this.modules[row][col];
    };
    proto.getModuleCount = function() {
      return this.moduleCount;
    };
    proto.make = function() {
      if (this.typeNumber < 1) {
        var typeNumber = 1;
        for (typeNumber = 1; typeNumber < 40; typeNumber++) {
          var rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);
          var buffer = new BitBuffer();
          var totalDataCount = 0;
          for (var i = 0; i < rsBlocks.length; i++) {
            totalDataCount += rsBlocks[i].dataCount;
          }
          for (var i = 0; i < this.dataList.length; i++) {
            var data = this.dataList[i];
            buffer.put(data.mode, 4);
            buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
            data.write(buffer);
          }
          if (buffer.getLengthInBits() <= totalDataCount * 8)
            break;
        }
        this.typeNumber = typeNumber;
      }
      this.makeImpl(false, this.getBestMaskPattern());
    };
    proto.makeImpl = function(test, maskPattern) {
      this.moduleCount = this.typeNumber * 4 + 17;
      this.modules = new Array(this.moduleCount);
      for (var row = 0; row < this.moduleCount; row++) {
        this.modules[row] = new Array(this.moduleCount);
        for (var col = 0; col < this.moduleCount; col++) {
          this.modules[row][col] = null;
        }
      }
      this.setupPositionProbePattern(0, 0);
      this.setupPositionProbePattern(this.moduleCount - 7, 0);
      this.setupPositionProbePattern(0, this.moduleCount - 7);
      this.setupPositionAdjustPattern();
      this.setupTimingPattern();
      this.setupTypeInfo(test, maskPattern);
      if (this.typeNumber >= 7) {
        this.setupTypeNumber(test);
      }
      if (this.dataCache == null) {
        this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);
      }
      this.mapData(this.dataCache, maskPattern);
    };
    proto.setupPositionProbePattern = function(row, col) {
      for (var r = -1; r <= 7; r++) {
        if (row + r <= -1 || this.moduleCount <= row + r)
          continue;
        for (var c = -1; c <= 7; c++) {
          if (col + c <= -1 || this.moduleCount <= col + c)
            continue;
          if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {
            this.modules[row + r][col + c] = true;
          } else {
            this.modules[row + r][col + c] = false;
          }
        }
      }
    };
    proto.getBestMaskPattern = function() {
      var minLostPoint = 0;
      var pattern = 0;
      for (var i = 0; i < 8; i++) {
        this.makeImpl(true, i);
        var lostPoint = util.getLostPoint(this);
        if (i == 0 || minLostPoint > lostPoint) {
          minLostPoint = lostPoint;
          pattern = i;
        }
      }
      return pattern;
    };
    proto.createMovieClip = function(target_mc, instance_name, depth) {
      var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);
      var cs = 1;
      this.make();
      for (var row = 0; row < this.modules.length; row++) {
        var y = row * cs;
        for (var col = 0; col < this.modules[row].length; col++) {
          var x = col * cs;
          var dark = this.modules[row][col];
          if (dark) {
            qr_mc.beginFill(0, 100);
            qr_mc.moveTo(x, y);
            qr_mc.lineTo(x + cs, y);
            qr_mc.lineTo(x + cs, y + cs);
            qr_mc.lineTo(x, y + cs);
            qr_mc.endFill();
          }
        }
      }
      return qr_mc;
    };
    proto.setupTimingPattern = function() {
      for (var r = 8; r < this.moduleCount - 8; r++) {
        if (this.modules[r][6] != null) {
          continue;
        }
        this.modules[r][6] = r % 2 == 0;
      }
      for (var c = 8; c < this.moduleCount - 8; c++) {
        if (this.modules[6][c] != null) {
          continue;
        }
        this.modules[6][c] = c % 2 == 0;
      }
    };
    proto.setupPositionAdjustPattern = function() {
      var pos = util.getPatternPosition(this.typeNumber);
      for (var i = 0; i < pos.length; i++) {
        for (var j = 0; j < pos.length; j++) {
          var row = pos[i];
          var col = pos[j];
          if (this.modules[row][col] != null) {
            continue;
          }
          for (var r = -2; r <= 2; r++) {
            for (var c = -2; c <= 2; c++) {
              if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {
                this.modules[row + r][col + c] = true;
              } else {
                this.modules[row + r][col + c] = false;
              }
            }
          }
        }
      }
    };
    proto.setupTypeNumber = function(test) {
      var bits = util.getBCHTypeNumber(this.typeNumber);
      for (var i = 0; i < 18; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;
      }
      for (var i = 0; i < 18; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;
      }
    };
    proto.setupTypeInfo = function(test, maskPattern) {
      var data = this.errorCorrectLevel << 3 | maskPattern;
      var bits = util.getBCHTypeInfo(data);
      for (var i = 0; i < 15; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        if (i < 6) {
          this.modules[i][8] = mod;
        } else if (i < 8) {
          this.modules[i + 1][8] = mod;
        } else {
          this.modules[this.moduleCount - 15 + i][8] = mod;
        }
      }
      for (var i = 0; i < 15; i++) {
        var mod = !test && (bits >> i & 1) == 1;
        if (i < 8) {
          this.modules[8][this.moduleCount - i - 1] = mod;
        } else if (i < 9) {
          this.modules[8][15 - i - 1 + 1] = mod;
        } else {
          this.modules[8][15 - i - 1] = mod;
        }
      }
      this.modules[this.moduleCount - 8][8] = !test;
    };
    proto.mapData = function(data, maskPattern) {
      var inc = -1;
      var row = this.moduleCount - 1;
      var bitIndex = 7;
      var byteIndex = 0;
      for (var col = this.moduleCount - 1; col > 0; col -= 2) {
        if (col == 6)
          col--;
        while (true) {
          for (var c = 0; c < 2; c++) {
            if (this.modules[row][col - c] == null) {
              var dark = false;
              if (byteIndex < data.length) {
                dark = (data[byteIndex] >>> bitIndex & 1) == 1;
              }
              var mask = util.getMask(maskPattern, row, col - c);
              if (mask) {
                dark = !dark;
              }
              this.modules[row][col - c] = dark;
              bitIndex--;
              if (bitIndex == -1) {
                byteIndex++;
                bitIndex = 7;
              }
            }
          }
          row += inc;
          if (row < 0 || this.moduleCount <= row) {
            row -= inc;
            inc = -inc;
            break;
          }
        }
      }
    };
    QRCode.PAD0 = 236;
    QRCode.PAD1 = 17;
    QRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {
      var rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);
      var buffer = new BitBuffer();
      for (var i = 0; i < dataList.length; i++) {
        var data = dataList[i];
        buffer.put(data.mode, 4);
        buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber));
        data.write(buffer);
      }
      var totalDataCount = 0;
      for (var i = 0; i < rsBlocks.length; i++) {
        totalDataCount += rsBlocks[i].dataCount;
      }
      if (buffer.getLengthInBits() > totalDataCount * 8) {
        throw new Error("code length overflow. (" + buffer.getLengthInBits() + ">" + totalDataCount * 8 + ")");
      }
      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {
        buffer.put(0, 4);
      }
      while (buffer.getLengthInBits() % 8 != 0) {
        buffer.putBit(false);
      }
      while (true) {
        if (buffer.getLengthInBits() >= totalDataCount * 8) {
          break;
        }
        buffer.put(QRCode.PAD0, 8);
        if (buffer.getLengthInBits() >= totalDataCount * 8) {
          break;
        }
        buffer.put(QRCode.PAD1, 8);
      }
      return QRCode.createBytes(buffer, rsBlocks);
    };
    QRCode.createBytes = function(buffer, rsBlocks) {
      var offset = 0;
      var maxDcCount = 0;
      var maxEcCount = 0;
      var dcdata = new Array(rsBlocks.length);
      var ecdata = new Array(rsBlocks.length);
      for (var r = 0; r < rsBlocks.length; r++) {
        var dcCount = rsBlocks[r].dataCount;
        var ecCount = rsBlocks[r].totalCount - dcCount;
        maxDcCount = Math.max(maxDcCount, dcCount);
        maxEcCount = Math.max(maxEcCount, ecCount);
        dcdata[r] = new Array(dcCount);
        for (var i = 0; i < dcdata[r].length; i++) {
          dcdata[r][i] = 255 & buffer.buffer[i + offset];
        }
        offset += dcCount;
        var rsPoly = util.getErrorCorrectPolynomial(ecCount);
        var rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);
        var modPoly = rawPoly.mod(rsPoly);
        ecdata[r] = new Array(rsPoly.getLength() - 1);
        for (var i = 0; i < ecdata[r].length; i++) {
          var modIndex = i + modPoly.getLength() - ecdata[r].length;
          ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;
        }
      }
      var totalCodeCount = 0;
      for (var i = 0; i < rsBlocks.length; i++) {
        totalCodeCount += rsBlocks[i].totalCount;
      }
      var data = new Array(totalCodeCount);
      var index = 0;
      for (var i = 0; i < maxDcCount; i++) {
        for (var r = 0; r < rsBlocks.length; r++) {
          if (i < dcdata[r].length) {
            data[index++] = dcdata[r][i];
          }
        }
      }
      for (var i = 0; i < maxEcCount; i++) {
        for (var r = 0; r < rsBlocks.length; r++) {
          if (i < ecdata[r].length) {
            data[index++] = ecdata[r][i];
          }
        }
      }
      return data;
    };
    module.exports = QRCode;
  }
});

// node_modules/@keystonehq/sdk/node_modules/qrcode.react/lib/index.js
var require_lib3 = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/qrcode.react/lib/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    function _extends() {
      _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      return _extends.apply(this, arguments);
    }
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
          symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
          });
        keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
          ownKeys(source, true).forEach(function(key) {
            _defineProperty(target, key, source[key]);
          });
        } else if (Object.getOwnPropertyDescriptors) {
          Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
          ownKeys(source).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
          });
        }
      }
      return target;
    }
    function _objectWithoutProperties(source, excluded) {
      if (source == null)
        return {};
      var target = _objectWithoutPropertiesLoose(source, excluded);
      var key, i;
      if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
          key = sourceSymbolKeys[i];
          if (excluded.indexOf(key) >= 0)
            continue;
          if (!Object.prototype.propertyIsEnumerable.call(source, key))
            continue;
          target[key] = source[key];
        }
      }
      return target;
    }
    function _objectWithoutPropertiesLoose(source, excluded) {
      if (source == null)
        return {};
      var target = {};
      var sourceKeys = Object.keys(source);
      var key, i;
      for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0)
          continue;
        target[key] = source[key];
      }
      return target;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      return Constructor;
    }
    function _possibleConstructorReturn(self, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      }
      return _assertThisInitialized(self);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _assertThisInitialized(self) {
      if (self === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    var React = require_react();
    var PropTypes = require_prop_types();
    var QRCodeImpl = require_QRCode();
    var ErrorCorrectLevel = require_ErrorCorrectLevel();
    function convertStr(str) {
      var out = "";
      for (var i = 0; i < str.length; i++) {
        var charcode = str.charCodeAt(i);
        if (charcode < 128) {
          out += String.fromCharCode(charcode);
        } else if (charcode < 2048) {
          out += String.fromCharCode(192 | charcode >> 6);
          out += String.fromCharCode(128 | charcode & 63);
        } else if (charcode < 55296 || charcode >= 57344) {
          out += String.fromCharCode(224 | charcode >> 12);
          out += String.fromCharCode(128 | charcode >> 6 & 63);
          out += String.fromCharCode(128 | charcode & 63);
        } else {
          i++;
          charcode = 65536 + ((charcode & 1023) << 10 | str.charCodeAt(i) & 1023);
          out += String.fromCharCode(240 | charcode >> 18);
          out += String.fromCharCode(128 | charcode >> 12 & 63);
          out += String.fromCharCode(128 | charcode >> 6 & 63);
          out += String.fromCharCode(128 | charcode & 63);
        }
      }
      return out;
    }
    var DEFAULT_PROPS = {
      size: 128,
      level: "L",
      bgColor: "#FFFFFF",
      fgColor: "#000000",
      includeMargin: false
    };
    var PROP_TYPES = true ? {
      value: PropTypes.string.isRequired,
      size: PropTypes.number,
      level: PropTypes.oneOf(["L", "M", "Q", "H"]),
      bgColor: PropTypes.string,
      fgColor: PropTypes.string,
      includeMargin: PropTypes.bool,
      imageSettings: PropTypes.shape({
        src: PropTypes.string.isRequired,
        height: PropTypes.number.isRequired,
        width: PropTypes.number.isRequired,
        excavate: PropTypes.bool,
        x: PropTypes.number,
        y: PropTypes.number
      })
    } : {};
    var MARGIN_SIZE = 4;
    var DEFAULT_IMG_SCALE = 0.1;
    function generatePath(modules) {
      var margin = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
      var ops = [];
      modules.forEach(function(row, y) {
        var start = null;
        row.forEach(function(cell, x) {
          if (!cell && start !== null) {
            ops.push("M".concat(start + margin, " ").concat(y + margin, "h").concat(x - start, "v1H").concat(start + margin, "z"));
            start = null;
            return;
          }
          if (x === row.length - 1) {
            if (!cell) {
              return;
            }
            if (start === null) {
              ops.push("M".concat(x + margin, ",").concat(y + margin, " h1v1H").concat(x + margin, "z"));
            } else {
              ops.push("M".concat(start + margin, ",").concat(y + margin, " h").concat(x + 1 - start, "v1H").concat(start + margin, "z"));
            }
            return;
          }
          if (cell && start === null) {
            start = x;
          }
        });
      });
      return ops.join("");
    }
    function excavateModules(modules, excavation) {
      return modules.slice().map(function(row, y) {
        if (y < excavation.y || y >= excavation.y + excavation.h) {
          return row;
        }
        return row.map(function(cell, x) {
          if (x < excavation.x || x >= excavation.x + excavation.w) {
            return cell;
          }
          return false;
        });
      });
    }
    function getImageSettings(props, cells) {
      var imageSettings = props.imageSettings, size = props.size, includeMargin = props.includeMargin;
      if (imageSettings == null) {
        return null;
      }
      var margin = includeMargin ? MARGIN_SIZE : 0;
      var numCells = cells.length + margin * 2;
      var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);
      var scale = numCells / size;
      var w = (imageSettings.width || defaultSize) * scale;
      var h = (imageSettings.height || defaultSize) * scale;
      var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;
      var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;
      var excavation = null;
      if (imageSettings.excavate) {
        var floorX = Math.floor(x);
        var floorY = Math.floor(y);
        var ceilW = Math.ceil(w + x - floorX);
        var ceilH = Math.ceil(h + y - floorY);
        excavation = {
          x: floorX,
          y: floorY,
          w: ceilW,
          h: ceilH
        };
      }
      return {
        x,
        y,
        h,
        w,
        excavation
      };
    }
    var SUPPORTS_PATH2D = function() {
      try {
        new Path2D().addPath(new Path2D());
      } catch (e) {
        return false;
      }
      return true;
    }();
    var QRCodeCanvas = function(_React$PureComponent) {
      _inherits(QRCodeCanvas2, _React$PureComponent);
      function QRCodeCanvas2() {
        var _getPrototypeOf2;
        var _this;
        _classCallCheck(this, QRCodeCanvas2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas2)).call.apply(_getPrototypeOf2, [this].concat(args)));
        _defineProperty(_assertThisInitialized(_this), "_canvas", void 0);
        _defineProperty(_assertThisInitialized(_this), "_image", void 0);
        _defineProperty(_assertThisInitialized(_this), "state", {
          imgLoaded: false
        });
        _defineProperty(_assertThisInitialized(_this), "handleImageLoad", function() {
          _this.setState({
            imgLoaded: true
          });
        });
        return _this;
      }
      _createClass(QRCodeCanvas2, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          if (this._image && this._image.complete) {
            this.handleImageLoad();
          }
          this.update();
        }
      }, {
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps2(nextProps) {
          var _this$props$imageSett, _nextProps$imageSetti;
          var currentSrc = (_this$props$imageSett = this.props.imageSettings) === null || _this$props$imageSett === void 0 ? void 0 : _this$props$imageSett.src;
          var nextSrc = (_nextProps$imageSetti = nextProps.imageSettings) === null || _nextProps$imageSetti === void 0 ? void 0 : _nextProps$imageSetti.src;
          if (currentSrc !== nextSrc) {
            this.setState({
              imgLoaded: false
            });
          }
        }
      }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
          this.update();
        }
      }, {
        key: "update",
        value: function update() {
          var _this$props = this.props, value = _this$props.value, size = _this$props.size, level = _this$props.level, bgColor = _this$props.bgColor, fgColor = _this$props.fgColor, includeMargin = _this$props.includeMargin, imageSettings = _this$props.imageSettings;
          var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);
          qrcode.addData(convertStr(value));
          qrcode.make();
          if (this._canvas != null) {
            var canvas = this._canvas;
            var ctx = canvas.getContext("2d");
            if (!ctx) {
              return;
            }
            var cells = qrcode.modules;
            if (cells === null) {
              return;
            }
            var margin = includeMargin ? MARGIN_SIZE : 0;
            var numCells = cells.length + margin * 2;
            var calculatedImageSettings = getImageSettings(this.props, cells);
            if (imageSettings != null && calculatedImageSettings != null) {
              if (calculatedImageSettings.excavation != null) {
                cells = excavateModules(cells, calculatedImageSettings.excavation);
              }
            }
            var pixelRatio = window.devicePixelRatio || 1;
            canvas.height = canvas.width = size * pixelRatio;
            var scale = size / numCells * pixelRatio;
            ctx.scale(scale, scale);
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, numCells, numCells);
            ctx.fillStyle = fgColor;
            if (SUPPORTS_PATH2D) {
              ctx.fill(new Path2D(generatePath(cells, margin)));
            } else {
              cells.forEach(function(row, rdx) {
                row.forEach(function(cell, cdx) {
                  if (cell) {
                    ctx.fillRect(cdx + margin, rdx + margin, 1, 1);
                  }
                });
              });
            }
            if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {
              ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);
            }
          }
        }
      }, {
        key: "render",
        value: function render() {
          var _this2 = this;
          var _this$props2 = this.props, value = _this$props2.value, size = _this$props2.size, level = _this$props2.level, bgColor = _this$props2.bgColor, fgColor = _this$props2.fgColor, style = _this$props2.style, includeMargin = _this$props2.includeMargin, imageSettings = _this$props2.imageSettings, otherProps = _objectWithoutProperties(_this$props2, ["value", "size", "level", "bgColor", "fgColor", "style", "includeMargin", "imageSettings"]);
          var canvasStyle = _objectSpread({
            height: size,
            width: size
          }, style);
          var img = null;
          var imgSrc = imageSettings && imageSettings.src;
          if (imageSettings != null && imgSrc != null) {
            img = React.createElement("img", {
              src: imgSrc,
              style: {
                display: "none"
              },
              onLoad: this.handleImageLoad,
              ref: function ref(_ref) {
                return _this2._image = _ref;
              }
            });
          }
          return React.createElement(React.Fragment, null, React.createElement("canvas", _extends({
            style: canvasStyle,
            height: size,
            width: size,
            ref: function ref(_ref2) {
              return _this2._canvas = _ref2;
            }
          }, otherProps)), img);
        }
      }]);
      return QRCodeCanvas2;
    }(React.PureComponent);
    _defineProperty(QRCodeCanvas, "defaultProps", DEFAULT_PROPS);
    if (true) {
      QRCodeCanvas.propTypes = PROP_TYPES;
    }
    var QRCodeSVG = function(_React$PureComponent2) {
      _inherits(QRCodeSVG2, _React$PureComponent2);
      function QRCodeSVG2() {
        _classCallCheck(this, QRCodeSVG2);
        return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG2).apply(this, arguments));
      }
      _createClass(QRCodeSVG2, [{
        key: "render",
        value: function render() {
          var _this$props3 = this.props, value = _this$props3.value, size = _this$props3.size, level = _this$props3.level, bgColor = _this$props3.bgColor, fgColor = _this$props3.fgColor, includeMargin = _this$props3.includeMargin, imageSettings = _this$props3.imageSettings, otherProps = _objectWithoutProperties(_this$props3, ["value", "size", "level", "bgColor", "fgColor", "includeMargin", "imageSettings"]);
          var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);
          qrcode.addData(convertStr(value));
          qrcode.make();
          var cells = qrcode.modules;
          if (cells === null) {
            return null;
          }
          var margin = includeMargin ? MARGIN_SIZE : 0;
          var numCells = cells.length + margin * 2;
          var calculatedImageSettings = getImageSettings(this.props, cells);
          var image = null;
          if (imageSettings != null && calculatedImageSettings != null) {
            if (calculatedImageSettings.excavation != null) {
              cells = excavateModules(cells, calculatedImageSettings.excavation);
            }
            image = React.createElement("image", {
              xlinkHref: imageSettings.src,
              height: calculatedImageSettings.h,
              width: calculatedImageSettings.w,
              x: calculatedImageSettings.x + margin,
              y: calculatedImageSettings.y + margin,
              preserveAspectRatio: "none"
            });
          }
          var fgPath = generatePath(cells, margin);
          return React.createElement("svg", _extends({
            shapeRendering: "crispEdges",
            height: size,
            width: size,
            viewBox: "0 0 ".concat(numCells, " ").concat(numCells)
          }, otherProps), React.createElement("path", {
            fill: bgColor,
            d: "M0,0 h".concat(numCells, "v").concat(numCells, "H0z")
          }), React.createElement("path", {
            fill: fgColor,
            d: fgPath
          }), image);
        }
      }]);
      return QRCodeSVG2;
    }(React.PureComponent);
    _defineProperty(QRCodeSVG, "defaultProps", DEFAULT_PROPS);
    if (true) {
      QRCodeSVG.propTypes = PROP_TYPES;
    }
    var QRCode = function QRCode2(props) {
      var renderAs = props.renderAs, otherProps = _objectWithoutProperties(props, ["renderAs"]);
      var Component = renderAs === "svg" ? QRCodeSVG : QRCodeCanvas;
      return React.createElement(Component, otherProps);
    };
    QRCode.defaultProps = _objectSpread({
      renderAs: "canvas"
    }, DEFAULT_PROPS);
    module.exports = QRCode;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/errors.js
var require_errors2 = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/errors.js"(exports, module) {
    "use strict";
    init_define_process_env();
    function NoVideoInputDevicesError() {
      this.name = "NoVideoInputDevicesError";
      this.message = "No video input devices found";
    }
    NoVideoInputDevicesError.prototype = new Error();
    module.exports = {
      NoVideoInputDevicesError
    };
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/getDeviceId.js
var require_getDeviceId = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/getDeviceId.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var _require = require_errors2();
    var NoVideoInputDevicesError = _require.NoVideoInputDevicesError;
    function defaultDeviceIdChooser(filteredDevices, videoDevices, facingMode) {
      if (filteredDevices.length > 0) {
        return filteredDevices[0].deviceId;
      }
      if (videoDevices.length == 1 || facingMode == "user") {
        return videoDevices[0].deviceId;
      }
      return videoDevices[1].deviceId;
    }
    var getFacingModePattern = function getFacingModePattern2(facingMode) {
      return facingMode == "environment" ? /rear|back|environment/ig : /front|user|face/ig;
    };
    function getDeviceId(facingMode) {
      var chooseDeviceId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : defaultDeviceIdChooser;
      return new Promise(function(resolve, reject) {
        var enumerateDevices = void 0;
        try {
          enumerateDevices = navigator.mediaDevices.enumerateDevices();
        } catch (err) {
          reject(new NoVideoInputDevicesError());
        }
        enumerateDevices.then(function(devices) {
          var videoDevices = devices.filter(function(device) {
            return device.kind == "videoinput";
          });
          if (videoDevices.length < 1) {
            reject(new NoVideoInputDevicesError());
            return;
          }
          var pattern = getFacingModePattern(facingMode);
          var filteredDevices = videoDevices.filter(function(_ref) {
            var label = _ref.label;
            return pattern.test(label);
          });
          resolve(chooseDeviceId(filteredDevices, videoDevices, facingMode));
        });
      });
    }
    module.exports = { getDeviceId, getFacingModePattern };
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/havePropsChanged.js
var require_havePropsChanged = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/havePropsChanged.js"(exports, module) {
    "use strict";
    init_define_process_env();
    module.exports = function havePropsChanged(prevProps, nextProps, keys) {
      var changedProps = [];
      keys.forEach(function(key) {
        if (prevProps[key] != nextProps[key]) {
          changedProps.push(key);
        }
      });
      return changedProps;
    };
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/createBlob.js
var require_createBlob = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/createBlob.js"(exports, module) {
    "use strict";
    init_define_process_env();
    module.exports = function createBlob(parts, properties) {
      parts = parts || [];
      properties = properties || {};
      try {
        return new Blob(parts, properties);
      } catch (e) {
        if (e.name !== "TypeError") {
          throw e;
        }
        var BlobBuilder = window.BlobBuilder || window.MSBlobBuilder || window.MozBlobBuilder || window.WebKitBlobBuilder;
        var builder = new BlobBuilder();
        for (var i = 0; i < parts.length; i += 1) {
          builder.append(parts[i]);
        }
        return builder.getBlob(properties.type);
      }
    };
  }
});

// node_modules/webrtc-adapter/src/js/utils.js
function extractVersion(uastring, expr, pos) {
  const match = uastring.match(expr);
  return match && match.length >= pos && parseInt(match[pos], 10);
}
function wrapPeerConnectionEvent(window2, eventNameToWrap, wrapper) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  const proto = window2.RTCPeerConnection.prototype;
  const nativeAddEventListener = proto.addEventListener;
  proto.addEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap) {
      return nativeAddEventListener.apply(this, arguments);
    }
    const wrappedCallback = (e) => {
      const modifiedEvent = wrapper(e);
      if (modifiedEvent) {
        if (cb.handleEvent) {
          cb.handleEvent(modifiedEvent);
        } else {
          cb(modifiedEvent);
        }
      }
    };
    this._eventMap = this._eventMap || {};
    if (!this._eventMap[eventNameToWrap]) {
      this._eventMap[eventNameToWrap] = /* @__PURE__ */ new Map();
    }
    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);
    return nativeAddEventListener.apply(this, [
      nativeEventName,
      wrappedCallback
    ]);
  };
  const nativeRemoveEventListener = proto.removeEventListener;
  proto.removeEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {
      return nativeRemoveEventListener.apply(this, arguments);
    }
    if (!this._eventMap[eventNameToWrap].has(cb)) {
      return nativeRemoveEventListener.apply(this, arguments);
    }
    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);
    this._eventMap[eventNameToWrap].delete(cb);
    if (this._eventMap[eventNameToWrap].size === 0) {
      delete this._eventMap[eventNameToWrap];
    }
    if (Object.keys(this._eventMap).length === 0) {
      delete this._eventMap;
    }
    return nativeRemoveEventListener.apply(this, [
      nativeEventName,
      unwrappedCb
    ]);
  };
  Object.defineProperty(proto, "on" + eventNameToWrap, {
    get() {
      return this["_on" + eventNameToWrap];
    },
    set(cb) {
      if (this["_on" + eventNameToWrap]) {
        this.removeEventListener(eventNameToWrap, this["_on" + eventNameToWrap]);
        delete this["_on" + eventNameToWrap];
      }
      if (cb) {
        this.addEventListener(eventNameToWrap, this["_on" + eventNameToWrap] = cb);
      }
    },
    enumerable: true,
    configurable: true
  });
}
function disableLog(bool) {
  if (typeof bool !== "boolean") {
    return new Error("Argument type: " + typeof bool + ". Please use a boolean.");
  }
  logDisabled_ = bool;
  return bool ? "adapter.js logging disabled" : "adapter.js logging enabled";
}
function disableWarnings(bool) {
  if (typeof bool !== "boolean") {
    return new Error("Argument type: " + typeof bool + ". Please use a boolean.");
  }
  deprecationWarnings_ = !bool;
  return "adapter.js deprecation warnings " + (bool ? "disabled" : "enabled");
}
function log() {
  if (typeof window === "object") {
    if (logDisabled_) {
      return;
    }
    if (typeof console !== "undefined" && typeof console.log === "function") {
      console.log.apply(console, arguments);
    }
  }
}
function deprecated(oldMethod, newMethod) {
  if (!deprecationWarnings_) {
    return;
  }
  console.warn(oldMethod + " is deprecated, please use " + newMethod + " instead.");
}
function detectBrowser(window2) {
  const result = { browser: null, version: null };
  if (typeof window2 === "undefined" || !window2.navigator) {
    result.browser = "Not a browser.";
    return result;
  }
  const { navigator: navigator2 } = window2;
  if (navigator2.mozGetUserMedia) {
    result.browser = "firefox";
    result.version = extractVersion(navigator2.userAgent, /Firefox\/(\d+)\./, 1);
  } else if (navigator2.webkitGetUserMedia || window2.isSecureContext === false && window2.webkitRTCPeerConnection && !window2.RTCIceGatherer) {
    result.browser = "chrome";
    result.version = extractVersion(navigator2.userAgent, /Chrom(e|ium)\/(\d+)\./, 2);
  } else if (navigator2.mediaDevices && navigator2.userAgent.match(/Edge\/(\d+).(\d+)$/)) {
    result.browser = "edge";
    result.version = extractVersion(navigator2.userAgent, /Edge\/(\d+).(\d+)$/, 2);
  } else if (window2.RTCPeerConnection && navigator2.userAgent.match(/AppleWebKit\/(\d+)\./)) {
    result.browser = "safari";
    result.version = extractVersion(navigator2.userAgent, /AppleWebKit\/(\d+)\./, 1);
    result.supportsUnifiedPlan = window2.RTCRtpTransceiver && "currentDirection" in window2.RTCRtpTransceiver.prototype;
  } else {
    result.browser = "Not a supported browser.";
    return result;
  }
  return result;
}
function isObject(val) {
  return Object.prototype.toString.call(val) === "[object Object]";
}
function compactObject(data) {
  if (!isObject(data)) {
    return data;
  }
  return Object.keys(data).reduce(function(accumulator, key) {
    const isObj = isObject(data[key]);
    const value = isObj ? compactObject(data[key]) : data[key];
    const isEmptyObject = isObj && !Object.keys(value).length;
    if (value === void 0 || isEmptyObject) {
      return accumulator;
    }
    return Object.assign(accumulator, { [key]: value });
  }, {});
}
function walkStats(stats, base, resultSet) {
  if (!base || resultSet.has(base.id)) {
    return;
  }
  resultSet.set(base.id, base);
  Object.keys(base).forEach((name) => {
    if (name.endsWith("Id")) {
      walkStats(stats, stats.get(base[name]), resultSet);
    } else if (name.endsWith("Ids")) {
      base[name].forEach((id) => {
        walkStats(stats, stats.get(id), resultSet);
      });
    }
  });
}
function filterStats(result, track, outbound) {
  const streamStatsType = outbound ? "outbound-rtp" : "inbound-rtp";
  const filteredResult = /* @__PURE__ */ new Map();
  if (track === null) {
    return filteredResult;
  }
  const trackStats = [];
  result.forEach((value) => {
    if (value.type === "track" && value.trackIdentifier === track.id) {
      trackStats.push(value);
    }
  });
  trackStats.forEach((trackStat) => {
    result.forEach((stats) => {
      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {
        walkStats(result, stats, filteredResult);
      }
    });
  });
  return filteredResult;
}
var logDisabled_, deprecationWarnings_;
var init_utils = __esm({
  "node_modules/webrtc-adapter/src/js/utils.js"() {
    "use strict";
    init_define_process_env();
    logDisabled_ = true;
    deprecationWarnings_ = true;
  }
});

// node_modules/webrtc-adapter/src/js/chrome/getusermedia.js
function shimGetUserMedia(window2, browserDetails) {
  const navigator2 = window2 && window2.navigator;
  if (!navigator2.mediaDevices) {
    return;
  }
  const constraintsToChrome_ = function(c) {
    if (typeof c !== "object" || c.mandatory || c.optional) {
      return c;
    }
    const cc = {};
    Object.keys(c).forEach((key) => {
      if (key === "require" || key === "advanced" || key === "mediaSource") {
        return;
      }
      const r = typeof c[key] === "object" ? c[key] : { ideal: c[key] };
      if (r.exact !== void 0 && typeof r.exact === "number") {
        r.min = r.max = r.exact;
      }
      const oldname_ = function(prefix, name) {
        if (prefix) {
          return prefix + name.charAt(0).toUpperCase() + name.slice(1);
        }
        return name === "deviceId" ? "sourceId" : name;
      };
      if (r.ideal !== void 0) {
        cc.optional = cc.optional || [];
        let oc = {};
        if (typeof r.ideal === "number") {
          oc[oldname_("min", key)] = r.ideal;
          cc.optional.push(oc);
          oc = {};
          oc[oldname_("max", key)] = r.ideal;
          cc.optional.push(oc);
        } else {
          oc[oldname_("", key)] = r.ideal;
          cc.optional.push(oc);
        }
      }
      if (r.exact !== void 0 && typeof r.exact !== "number") {
        cc.mandatory = cc.mandatory || {};
        cc.mandatory[oldname_("", key)] = r.exact;
      } else {
        ["min", "max"].forEach((mix) => {
          if (r[mix] !== void 0) {
            cc.mandatory = cc.mandatory || {};
            cc.mandatory[oldname_(mix, key)] = r[mix];
          }
        });
      }
    });
    if (c.advanced) {
      cc.optional = (cc.optional || []).concat(c.advanced);
    }
    return cc;
  };
  const shimConstraints_ = function(constraints, func) {
    if (browserDetails.version >= 61) {
      return func(constraints);
    }
    constraints = JSON.parse(JSON.stringify(constraints));
    if (constraints && typeof constraints.audio === "object") {
      const remap = function(obj, a, b) {
        if (a in obj && !(b in obj)) {
          obj[b] = obj[a];
          delete obj[a];
        }
      };
      constraints = JSON.parse(JSON.stringify(constraints));
      remap(constraints.audio, "autoGainControl", "googAutoGainControl");
      remap(constraints.audio, "noiseSuppression", "googNoiseSuppression");
      constraints.audio = constraintsToChrome_(constraints.audio);
    }
    if (constraints && typeof constraints.video === "object") {
      let face = constraints.video.facingMode;
      face = face && (typeof face === "object" ? face : { ideal: face });
      const getSupportedFacingModeLies = browserDetails.version < 66;
      if (face && (face.exact === "user" || face.exact === "environment" || face.ideal === "user" || face.ideal === "environment") && !(navigator2.mediaDevices.getSupportedConstraints && navigator2.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {
        delete constraints.video.facingMode;
        let matches;
        if (face.exact === "environment" || face.ideal === "environment") {
          matches = ["back", "rear"];
        } else if (face.exact === "user" || face.ideal === "user") {
          matches = ["front"];
        }
        if (matches) {
          return navigator2.mediaDevices.enumerateDevices().then((devices) => {
            devices = devices.filter((d) => d.kind === "videoinput");
            let dev = devices.find((d) => matches.some((match) => d.label.toLowerCase().includes(match)));
            if (!dev && devices.length && matches.includes("back")) {
              dev = devices[devices.length - 1];
            }
            if (dev) {
              constraints.video.deviceId = face.exact ? { exact: dev.deviceId } : { ideal: dev.deviceId };
            }
            constraints.video = constraintsToChrome_(constraints.video);
            logging("chrome: " + JSON.stringify(constraints));
            return func(constraints);
          });
        }
      }
      constraints.video = constraintsToChrome_(constraints.video);
    }
    logging("chrome: " + JSON.stringify(constraints));
    return func(constraints);
  };
  const shimError_ = function(e) {
    if (browserDetails.version >= 64) {
      return e;
    }
    return {
      name: {
        PermissionDeniedError: "NotAllowedError",
        PermissionDismissedError: "NotAllowedError",
        InvalidStateError: "NotAllowedError",
        DevicesNotFoundError: "NotFoundError",
        ConstraintNotSatisfiedError: "OverconstrainedError",
        TrackStartError: "NotReadableError",
        MediaDeviceFailedDueToShutdown: "NotAllowedError",
        MediaDeviceKillSwitchOn: "NotAllowedError",
        TabCaptureError: "AbortError",
        ScreenCaptureError: "AbortError",
        DeviceCaptureError: "AbortError"
      }[e.name] || e.name,
      message: e.message,
      constraint: e.constraint || e.constraintName,
      toString() {
        return this.name + (this.message && ": ") + this.message;
      }
    };
  };
  const getUserMedia_ = function(constraints, onSuccess, onError) {
    shimConstraints_(constraints, (c) => {
      navigator2.webkitGetUserMedia(c, onSuccess, (e) => {
        if (onError) {
          onError(shimError_(e));
        }
      });
    });
  };
  navigator2.getUserMedia = getUserMedia_.bind(navigator2);
  if (navigator2.mediaDevices.getUserMedia) {
    const origGetUserMedia = navigator2.mediaDevices.getUserMedia.bind(navigator2.mediaDevices);
    navigator2.mediaDevices.getUserMedia = function(cs) {
      return shimConstraints_(cs, (c) => origGetUserMedia(c).then((stream) => {
        if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {
          stream.getTracks().forEach((track) => {
            track.stop();
          });
          throw new DOMException("", "NotFoundError");
        }
        return stream;
      }, (e) => Promise.reject(shimError_(e))));
    };
  }
}
var logging;
var init_getusermedia = __esm({
  "node_modules/webrtc-adapter/src/js/chrome/getusermedia.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
    logging = log;
  }
});

// node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js
function shimGetDisplayMedia(window2, getSourceId) {
  if (window2.navigator.mediaDevices && "getDisplayMedia" in window2.navigator.mediaDevices) {
    return;
  }
  if (!window2.navigator.mediaDevices) {
    return;
  }
  if (typeof getSourceId !== "function") {
    console.error("shimGetDisplayMedia: getSourceId argument is not a function");
    return;
  }
  window2.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {
    return getSourceId(constraints).then((sourceId) => {
      const widthSpecified = constraints.video && constraints.video.width;
      const heightSpecified = constraints.video && constraints.video.height;
      const frameRateSpecified = constraints.video && constraints.video.frameRate;
      constraints.video = {
        mandatory: {
          chromeMediaSource: "desktop",
          chromeMediaSourceId: sourceId,
          maxFrameRate: frameRateSpecified || 3
        }
      };
      if (widthSpecified) {
        constraints.video.mandatory.maxWidth = widthSpecified;
      }
      if (heightSpecified) {
        constraints.video.mandatory.maxHeight = heightSpecified;
      }
      return window2.navigator.mediaDevices.getUserMedia(constraints);
    });
  };
}
var init_getdisplaymedia = __esm({
  "node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js"() {
    "use strict";
    init_define_process_env();
  }
});

// node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js
var chrome_shim_exports = {};
__export(chrome_shim_exports, {
  fixNegotiationNeeded: () => fixNegotiationNeeded,
  shimAddTrackRemoveTrack: () => shimAddTrackRemoveTrack,
  shimAddTrackRemoveTrackWithNative: () => shimAddTrackRemoveTrackWithNative,
  shimGetDisplayMedia: () => shimGetDisplayMedia,
  shimGetSendersWithDtmf: () => shimGetSendersWithDtmf,
  shimGetStats: () => shimGetStats,
  shimGetUserMedia: () => shimGetUserMedia,
  shimMediaStream: () => shimMediaStream,
  shimOnTrack: () => shimOnTrack,
  shimPeerConnection: () => shimPeerConnection,
  shimSenderReceiverGetStats: () => shimSenderReceiverGetStats
});
function shimMediaStream(window2) {
  window2.MediaStream = window2.MediaStream || window2.webkitMediaStream;
}
function shimOnTrack(window2) {
  if (typeof window2 === "object" && window2.RTCPeerConnection && !("ontrack" in window2.RTCPeerConnection.prototype)) {
    Object.defineProperty(window2.RTCPeerConnection.prototype, "ontrack", {
      get() {
        return this._ontrack;
      },
      set(f2) {
        if (this._ontrack) {
          this.removeEventListener("track", this._ontrack);
        }
        this.addEventListener("track", this._ontrack = f2);
      },
      enumerable: true,
      configurable: true
    });
    const origSetRemoteDescription = window2.RTCPeerConnection.prototype.setRemoteDescription;
    window2.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {
      if (!this._ontrackpoly) {
        this._ontrackpoly = (e) => {
          e.stream.addEventListener("addtrack", (te) => {
            let receiver;
            if (window2.RTCPeerConnection.prototype.getReceivers) {
              receiver = this.getReceivers().find((r) => r.track && r.track.id === te.track.id);
            } else {
              receiver = { track: te.track };
            }
            const event = new Event("track");
            event.track = te.track;
            event.receiver = receiver;
            event.transceiver = { receiver };
            event.streams = [e.stream];
            this.dispatchEvent(event);
          });
          e.stream.getTracks().forEach((track) => {
            let receiver;
            if (window2.RTCPeerConnection.prototype.getReceivers) {
              receiver = this.getReceivers().find((r) => r.track && r.track.id === track.id);
            } else {
              receiver = { track };
            }
            const event = new Event("track");
            event.track = track;
            event.receiver = receiver;
            event.transceiver = { receiver };
            event.streams = [e.stream];
            this.dispatchEvent(event);
          });
        };
        this.addEventListener("addstream", this._ontrackpoly);
      }
      return origSetRemoteDescription.apply(this, arguments);
    };
  } else {
    wrapPeerConnectionEvent(window2, "track", (e) => {
      if (!e.transceiver) {
        Object.defineProperty(e, "transceiver", { value: { receiver: e.receiver } });
      }
      return e;
    });
  }
}
function shimGetSendersWithDtmf(window2) {
  if (typeof window2 === "object" && window2.RTCPeerConnection && !("getSenders" in window2.RTCPeerConnection.prototype) && "createDTMFSender" in window2.RTCPeerConnection.prototype) {
    const shimSenderWithDtmf = function(pc, track) {
      return {
        track,
        get dtmf() {
          if (this._dtmf === void 0) {
            if (track.kind === "audio") {
              this._dtmf = pc.createDTMFSender(track);
            } else {
              this._dtmf = null;
            }
          }
          return this._dtmf;
        },
        _pc: pc
      };
    };
    if (!window2.RTCPeerConnection.prototype.getSenders) {
      window2.RTCPeerConnection.prototype.getSenders = function getSenders() {
        this._senders = this._senders || [];
        return this._senders.slice();
      };
      const origAddTrack = window2.RTCPeerConnection.prototype.addTrack;
      window2.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {
        let sender = origAddTrack.apply(this, arguments);
        if (!sender) {
          sender = shimSenderWithDtmf(this, track);
          this._senders.push(sender);
        }
        return sender;
      };
      const origRemoveTrack = window2.RTCPeerConnection.prototype.removeTrack;
      window2.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {
        origRemoveTrack.apply(this, arguments);
        const idx = this._senders.indexOf(sender);
        if (idx !== -1) {
          this._senders.splice(idx, 1);
        }
      };
    }
    const origAddStream = window2.RTCPeerConnection.prototype.addStream;
    window2.RTCPeerConnection.prototype.addStream = function addStream(stream) {
      this._senders = this._senders || [];
      origAddStream.apply(this, [stream]);
      stream.getTracks().forEach((track) => {
        this._senders.push(shimSenderWithDtmf(this, track));
      });
    };
    const origRemoveStream = window2.RTCPeerConnection.prototype.removeStream;
    window2.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {
      this._senders = this._senders || [];
      origRemoveStream.apply(this, [stream]);
      stream.getTracks().forEach((track) => {
        const sender = this._senders.find((s) => s.track === track);
        if (sender) {
          this._senders.splice(this._senders.indexOf(sender), 1);
        }
      });
    };
  } else if (typeof window2 === "object" && window2.RTCPeerConnection && "getSenders" in window2.RTCPeerConnection.prototype && "createDTMFSender" in window2.RTCPeerConnection.prototype && window2.RTCRtpSender && !("dtmf" in window2.RTCRtpSender.prototype)) {
    const origGetSenders = window2.RTCPeerConnection.prototype.getSenders;
    window2.RTCPeerConnection.prototype.getSenders = function getSenders() {
      const senders = origGetSenders.apply(this, []);
      senders.forEach((sender) => sender._pc = this);
      return senders;
    };
    Object.defineProperty(window2.RTCRtpSender.prototype, "dtmf", {
      get() {
        if (this._dtmf === void 0) {
          if (this.track.kind === "audio") {
            this._dtmf = this._pc.createDTMFSender(this.track);
          } else {
            this._dtmf = null;
          }
        }
        return this._dtmf;
      }
    });
  }
}
function shimGetStats(window2) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  const origGetStats = window2.RTCPeerConnection.prototype.getStats;
  window2.RTCPeerConnection.prototype.getStats = function getStats() {
    const [selector, onSucc, onErr] = arguments;
    if (arguments.length > 0 && typeof selector === "function") {
      return origGetStats.apply(this, arguments);
    }
    if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== "function")) {
      return origGetStats.apply(this, []);
    }
    const fixChromeStats_ = function(response) {
      const standardReport = {};
      const reports = response.result();
      reports.forEach((report) => {
        const standardStats = {
          id: report.id,
          timestamp: report.timestamp,
          type: {
            localcandidate: "local-candidate",
            remotecandidate: "remote-candidate"
          }[report.type] || report.type
        };
        report.names().forEach((name) => {
          standardStats[name] = report.stat(name);
        });
        standardReport[standardStats.id] = standardStats;
      });
      return standardReport;
    };
    const makeMapStats = function(stats) {
      return new Map(Object.keys(stats).map((key) => [key, stats[key]]));
    };
    if (arguments.length >= 2) {
      const successCallbackWrapper_ = function(response) {
        onSucc(makeMapStats(fixChromeStats_(response)));
      };
      return origGetStats.apply(this, [
        successCallbackWrapper_,
        selector
      ]);
    }
    return new Promise((resolve, reject) => {
      origGetStats.apply(this, [
        function(response) {
          resolve(makeMapStats(fixChromeStats_(response)));
        },
        reject
      ]);
    }).then(onSucc, onErr);
  };
}
function shimSenderReceiverGetStats(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection && window2.RTCRtpSender && window2.RTCRtpReceiver)) {
    return;
  }
  if (!("getStats" in window2.RTCRtpSender.prototype)) {
    const origGetSenders = window2.RTCPeerConnection.prototype.getSenders;
    if (origGetSenders) {
      window2.RTCPeerConnection.prototype.getSenders = function getSenders() {
        const senders = origGetSenders.apply(this, []);
        senders.forEach((sender) => sender._pc = this);
        return senders;
      };
    }
    const origAddTrack = window2.RTCPeerConnection.prototype.addTrack;
    if (origAddTrack) {
      window2.RTCPeerConnection.prototype.addTrack = function addTrack() {
        const sender = origAddTrack.apply(this, arguments);
        sender._pc = this;
        return sender;
      };
    }
    window2.RTCRtpSender.prototype.getStats = function getStats() {
      const sender = this;
      return this._pc.getStats().then((result) => filterStats(result, sender.track, true));
    };
  }
  if (!("getStats" in window2.RTCRtpReceiver.prototype)) {
    const origGetReceivers = window2.RTCPeerConnection.prototype.getReceivers;
    if (origGetReceivers) {
      window2.RTCPeerConnection.prototype.getReceivers = function getReceivers() {
        const receivers = origGetReceivers.apply(this, []);
        receivers.forEach((receiver) => receiver._pc = this);
        return receivers;
      };
    }
    wrapPeerConnectionEvent(window2, "track", (e) => {
      e.receiver._pc = e.srcElement;
      return e;
    });
    window2.RTCRtpReceiver.prototype.getStats = function getStats() {
      const receiver = this;
      return this._pc.getStats().then((result) => filterStats(result, receiver.track, false));
    };
  }
  if (!("getStats" in window2.RTCRtpSender.prototype && "getStats" in window2.RTCRtpReceiver.prototype)) {
    return;
  }
  const origGetStats = window2.RTCPeerConnection.prototype.getStats;
  window2.RTCPeerConnection.prototype.getStats = function getStats() {
    if (arguments.length > 0 && arguments[0] instanceof window2.MediaStreamTrack) {
      const track = arguments[0];
      let sender;
      let receiver;
      let err;
      this.getSenders().forEach((s) => {
        if (s.track === track) {
          if (sender) {
            err = true;
          } else {
            sender = s;
          }
        }
      });
      this.getReceivers().forEach((r) => {
        if (r.track === track) {
          if (receiver) {
            err = true;
          } else {
            receiver = r;
          }
        }
        return r.track === track;
      });
      if (err || sender && receiver) {
        return Promise.reject(new DOMException("There are more than one sender or receiver for the track.", "InvalidAccessError"));
      } else if (sender) {
        return sender.getStats();
      } else if (receiver) {
        return receiver.getStats();
      }
      return Promise.reject(new DOMException("There is no sender or receiver for the track.", "InvalidAccessError"));
    }
    return origGetStats.apply(this, arguments);
  };
}
function shimAddTrackRemoveTrackWithNative(window2) {
  window2.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
    return Object.keys(this._shimmedLocalStreams).map((streamId) => this._shimmedLocalStreams[streamId][0]);
  };
  const origAddTrack = window2.RTCPeerConnection.prototype.addTrack;
  window2.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {
    if (!stream) {
      return origAddTrack.apply(this, arguments);
    }
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
    const sender = origAddTrack.apply(this, arguments);
    if (!this._shimmedLocalStreams[stream.id]) {
      this._shimmedLocalStreams[stream.id] = [stream, sender];
    } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {
      this._shimmedLocalStreams[stream.id].push(sender);
    }
    return sender;
  };
  const origAddStream = window2.RTCPeerConnection.prototype.addStream;
  window2.RTCPeerConnection.prototype.addStream = function addStream(stream) {
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
    stream.getTracks().forEach((track) => {
      const alreadyExists = this.getSenders().find((s) => s.track === track);
      if (alreadyExists) {
        throw new DOMException("Track already exists.", "InvalidAccessError");
      }
    });
    const existingSenders = this.getSenders();
    origAddStream.apply(this, arguments);
    const newSenders = this.getSenders().filter((newSender) => existingSenders.indexOf(newSender) === -1);
    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);
  };
  const origRemoveStream = window2.RTCPeerConnection.prototype.removeStream;
  window2.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
    delete this._shimmedLocalStreams[stream.id];
    return origRemoveStream.apply(this, arguments);
  };
  const origRemoveTrack = window2.RTCPeerConnection.prototype.removeTrack;
  window2.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};
    if (sender) {
      Object.keys(this._shimmedLocalStreams).forEach((streamId) => {
        const idx = this._shimmedLocalStreams[streamId].indexOf(sender);
        if (idx !== -1) {
          this._shimmedLocalStreams[streamId].splice(idx, 1);
        }
        if (this._shimmedLocalStreams[streamId].length === 1) {
          delete this._shimmedLocalStreams[streamId];
        }
      });
    }
    return origRemoveTrack.apply(this, arguments);
  };
}
function shimAddTrackRemoveTrack(window2, browserDetails) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  if (window2.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) {
    return shimAddTrackRemoveTrackWithNative(window2);
  }
  const origGetLocalStreams = window2.RTCPeerConnection.prototype.getLocalStreams;
  window2.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {
    const nativeStreams = origGetLocalStreams.apply(this);
    this._reverseStreams = this._reverseStreams || {};
    return nativeStreams.map((stream) => this._reverseStreams[stream.id]);
  };
  const origAddStream = window2.RTCPeerConnection.prototype.addStream;
  window2.RTCPeerConnection.prototype.addStream = function addStream(stream) {
    this._streams = this._streams || {};
    this._reverseStreams = this._reverseStreams || {};
    stream.getTracks().forEach((track) => {
      const alreadyExists = this.getSenders().find((s) => s.track === track);
      if (alreadyExists) {
        throw new DOMException("Track already exists.", "InvalidAccessError");
      }
    });
    if (!this._reverseStreams[stream.id]) {
      const newStream = new window2.MediaStream(stream.getTracks());
      this._streams[stream.id] = newStream;
      this._reverseStreams[newStream.id] = stream;
      stream = newStream;
    }
    origAddStream.apply(this, [stream]);
  };
  const origRemoveStream = window2.RTCPeerConnection.prototype.removeStream;
  window2.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {
    this._streams = this._streams || {};
    this._reverseStreams = this._reverseStreams || {};
    origRemoveStream.apply(this, [this._streams[stream.id] || stream]);
    delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];
    delete this._streams[stream.id];
  };
  window2.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {
    if (this.signalingState === "closed") {
      throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
    }
    const streams = [].slice.call(arguments, 1);
    if (streams.length !== 1 || !streams[0].getTracks().find((t) => t === track)) {
      throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.", "NotSupportedError");
    }
    const alreadyExists = this.getSenders().find((s) => s.track === track);
    if (alreadyExists) {
      throw new DOMException("Track already exists.", "InvalidAccessError");
    }
    this._streams = this._streams || {};
    this._reverseStreams = this._reverseStreams || {};
    const oldStream = this._streams[stream.id];
    if (oldStream) {
      oldStream.addTrack(track);
      Promise.resolve().then(() => {
        this.dispatchEvent(new Event("negotiationneeded"));
      });
    } else {
      const newStream = new window2.MediaStream([track]);
      this._streams[stream.id] = newStream;
      this._reverseStreams[newStream.id] = stream;
      this.addStream(newStream);
    }
    return this.getSenders().find((s) => s.track === track);
  };
  function replaceInternalStreamId(pc, description) {
    let sdp = description.sdp;
    Object.keys(pc._reverseStreams || []).forEach((internalId) => {
      const externalStream = pc._reverseStreams[internalId];
      const internalStream = pc._streams[externalStream.id];
      sdp = sdp.replace(new RegExp(internalStream.id, "g"), externalStream.id);
    });
    return new RTCSessionDescription({
      type: description.type,
      sdp
    });
  }
  function replaceExternalStreamId(pc, description) {
    let sdp = description.sdp;
    Object.keys(pc._reverseStreams || []).forEach((internalId) => {
      const externalStream = pc._reverseStreams[internalId];
      const internalStream = pc._streams[externalStream.id];
      sdp = sdp.replace(new RegExp(externalStream.id, "g"), internalStream.id);
    });
    return new RTCSessionDescription({
      type: description.type,
      sdp
    });
  }
  ["createOffer", "createAnswer"].forEach(function(method) {
    const nativeMethod = window2.RTCPeerConnection.prototype[method];
    const methodObj = { [method]() {
      const args = arguments;
      const isLegacyCall = arguments.length && typeof arguments[0] === "function";
      if (isLegacyCall) {
        return nativeMethod.apply(this, [
          (description) => {
            const desc = replaceInternalStreamId(this, description);
            args[0].apply(null, [desc]);
          },
          (err) => {
            if (args[1]) {
              args[1].apply(null, err);
            }
          },
          arguments[2]
        ]);
      }
      return nativeMethod.apply(this, arguments).then((description) => replaceInternalStreamId(this, description));
    } };
    window2.RTCPeerConnection.prototype[method] = methodObj[method];
  });
  const origSetLocalDescription = window2.RTCPeerConnection.prototype.setLocalDescription;
  window2.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {
    if (!arguments.length || !arguments[0].type) {
      return origSetLocalDescription.apply(this, arguments);
    }
    arguments[0] = replaceExternalStreamId(this, arguments[0]);
    return origSetLocalDescription.apply(this, arguments);
  };
  const origLocalDescription = Object.getOwnPropertyDescriptor(window2.RTCPeerConnection.prototype, "localDescription");
  Object.defineProperty(window2.RTCPeerConnection.prototype, "localDescription", {
    get() {
      const description = origLocalDescription.get.apply(this);
      if (description.type === "") {
        return description;
      }
      return replaceInternalStreamId(this, description);
    }
  });
  window2.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {
    if (this.signalingState === "closed") {
      throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
    }
    if (!sender._pc) {
      throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.", "TypeError");
    }
    const isLocal = sender._pc === this;
    if (!isLocal) {
      throw new DOMException("Sender was not created by this connection.", "InvalidAccessError");
    }
    this._streams = this._streams || {};
    let stream;
    Object.keys(this._streams).forEach((streamid) => {
      const hasTrack = this._streams[streamid].getTracks().find((track) => sender.track === track);
      if (hasTrack) {
        stream = this._streams[streamid];
      }
    });
    if (stream) {
      if (stream.getTracks().length === 1) {
        this.removeStream(this._reverseStreams[stream.id]);
      } else {
        stream.removeTrack(sender.track);
      }
      this.dispatchEvent(new Event("negotiationneeded"));
    }
  };
}
function shimPeerConnection(window2, browserDetails) {
  if (!window2.RTCPeerConnection && window2.webkitRTCPeerConnection) {
    window2.RTCPeerConnection = window2.webkitRTCPeerConnection;
  }
  if (!window2.RTCPeerConnection) {
    return;
  }
  if (browserDetails.version < 53) {
    ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function(method) {
      const nativeMethod = window2.RTCPeerConnection.prototype[method];
      const methodObj = { [method]() {
        arguments[0] = new (method === "addIceCandidate" ? window2.RTCIceCandidate : window2.RTCSessionDescription)(arguments[0]);
        return nativeMethod.apply(this, arguments);
      } };
      window2.RTCPeerConnection.prototype[method] = methodObj[method];
    });
  }
}
function fixNegotiationNeeded(window2, browserDetails) {
  wrapPeerConnectionEvent(window2, "negotiationneeded", (e) => {
    const pc = e.target;
    if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === "plan-b") {
      if (pc.signalingState !== "stable") {
        return;
      }
    }
    return e;
  });
}
var init_chrome_shim = __esm({
  "node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
    init_getusermedia();
    init_getdisplaymedia();
  }
});

// node_modules/webrtc-adapter/src/js/edge/filtericeservers.js
function filterIceServers(iceServers, edgeVersion) {
  let hasTurn = false;
  iceServers = JSON.parse(JSON.stringify(iceServers));
  return iceServers.filter((server) => {
    if (server && (server.urls || server.url)) {
      let urls = server.urls || server.url;
      if (server.url && !server.urls) {
        deprecated("RTCIceServer.url", "RTCIceServer.urls");
      }
      const isString = typeof urls === "string";
      if (isString) {
        urls = [urls];
      }
      urls = urls.filter((url) => {
        if (url.indexOf("stun:") === 0) {
          return false;
        }
        const validTurn = url.startsWith("turn") && !url.startsWith("turn:[") && url.includes("transport=udp");
        if (validTurn && !hasTurn) {
          hasTurn = true;
          return true;
        }
        return validTurn && !hasTurn;
      });
      delete server.url;
      server.urls = isString ? urls[0] : urls;
      return !!urls.length;
    }
  });
}
var init_filtericeservers = __esm({
  "node_modules/webrtc-adapter/src/js/edge/filtericeservers.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
  }
});

// node_modules/sdp/sdp.js
var require_sdp = __commonJS({
  "node_modules/sdp/sdp.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var SDPUtils2 = {};
    SDPUtils2.generateIdentifier = function() {
      return Math.random().toString(36).substr(2, 10);
    };
    SDPUtils2.localCName = SDPUtils2.generateIdentifier();
    SDPUtils2.splitLines = function(blob) {
      return blob.trim().split("\n").map(function(line) {
        return line.trim();
      });
    };
    SDPUtils2.splitSections = function(blob) {
      var parts = blob.split("\nm=");
      return parts.map(function(part, index) {
        return (index > 0 ? "m=" + part : part).trim() + "\r\n";
      });
    };
    SDPUtils2.getDescription = function(blob) {
      var sections = SDPUtils2.splitSections(blob);
      return sections && sections[0];
    };
    SDPUtils2.getMediaSections = function(blob) {
      var sections = SDPUtils2.splitSections(blob);
      sections.shift();
      return sections;
    };
    SDPUtils2.matchPrefix = function(blob, prefix) {
      return SDPUtils2.splitLines(blob).filter(function(line) {
        return line.indexOf(prefix) === 0;
      });
    };
    SDPUtils2.parseCandidate = function(line) {
      var parts;
      if (line.indexOf("a=candidate:") === 0) {
        parts = line.substring(12).split(" ");
      } else {
        parts = line.substring(10).split(" ");
      }
      var candidate = {
        foundation: parts[0],
        component: parseInt(parts[1], 10),
        protocol: parts[2].toLowerCase(),
        priority: parseInt(parts[3], 10),
        ip: parts[4],
        address: parts[4],
        port: parseInt(parts[5], 10),
        type: parts[7]
      };
      for (var i = 8; i < parts.length; i += 2) {
        switch (parts[i]) {
          case "raddr":
            candidate.relatedAddress = parts[i + 1];
            break;
          case "rport":
            candidate.relatedPort = parseInt(parts[i + 1], 10);
            break;
          case "tcptype":
            candidate.tcpType = parts[i + 1];
            break;
          case "ufrag":
            candidate.ufrag = parts[i + 1];
            candidate.usernameFragment = parts[i + 1];
            break;
          default:
            candidate[parts[i]] = parts[i + 1];
            break;
        }
      }
      return candidate;
    };
    SDPUtils2.writeCandidate = function(candidate) {
      var sdp = [];
      sdp.push(candidate.foundation);
      sdp.push(candidate.component);
      sdp.push(candidate.protocol.toUpperCase());
      sdp.push(candidate.priority);
      sdp.push(candidate.address || candidate.ip);
      sdp.push(candidate.port);
      var type = candidate.type;
      sdp.push("typ");
      sdp.push(type);
      if (type !== "host" && candidate.relatedAddress && candidate.relatedPort) {
        sdp.push("raddr");
        sdp.push(candidate.relatedAddress);
        sdp.push("rport");
        sdp.push(candidate.relatedPort);
      }
      if (candidate.tcpType && candidate.protocol.toLowerCase() === "tcp") {
        sdp.push("tcptype");
        sdp.push(candidate.tcpType);
      }
      if (candidate.usernameFragment || candidate.ufrag) {
        sdp.push("ufrag");
        sdp.push(candidate.usernameFragment || candidate.ufrag);
      }
      return "candidate:" + sdp.join(" ");
    };
    SDPUtils2.parseIceOptions = function(line) {
      return line.substr(14).split(" ");
    };
    SDPUtils2.parseRtpMap = function(line) {
      var parts = line.substr(9).split(" ");
      var parsed = {
        payloadType: parseInt(parts.shift(), 10)
      };
      parts = parts[0].split("/");
      parsed.name = parts[0];
      parsed.clockRate = parseInt(parts[1], 10);
      parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;
      parsed.numChannels = parsed.channels;
      return parsed;
    };
    SDPUtils2.writeRtpMap = function(codec) {
      var pt = codec.payloadType;
      if (codec.preferredPayloadType !== void 0) {
        pt = codec.preferredPayloadType;
      }
      var channels = codec.channels || codec.numChannels || 1;
      return "a=rtpmap:" + pt + " " + codec.name + "/" + codec.clockRate + (channels !== 1 ? "/" + channels : "") + "\r\n";
    };
    SDPUtils2.parseExtmap = function(line) {
      var parts = line.substr(9).split(" ");
      return {
        id: parseInt(parts[0], 10),
        direction: parts[0].indexOf("/") > 0 ? parts[0].split("/")[1] : "sendrecv",
        uri: parts[1]
      };
    };
    SDPUtils2.writeExtmap = function(headerExtension) {
      return "a=extmap:" + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== "sendrecv" ? "/" + headerExtension.direction : "") + " " + headerExtension.uri + "\r\n";
    };
    SDPUtils2.parseFmtp = function(line) {
      var parsed = {};
      var kv;
      var parts = line.substr(line.indexOf(" ") + 1).split(";");
      for (var j = 0; j < parts.length; j++) {
        kv = parts[j].trim().split("=");
        parsed[kv[0].trim()] = kv[1];
      }
      return parsed;
    };
    SDPUtils2.writeFmtp = function(codec) {
      var line = "";
      var pt = codec.payloadType;
      if (codec.preferredPayloadType !== void 0) {
        pt = codec.preferredPayloadType;
      }
      if (codec.parameters && Object.keys(codec.parameters).length) {
        var params = [];
        Object.keys(codec.parameters).forEach(function(param) {
          if (codec.parameters[param]) {
            params.push(param + "=" + codec.parameters[param]);
          } else {
            params.push(param);
          }
        });
        line += "a=fmtp:" + pt + " " + params.join(";") + "\r\n";
      }
      return line;
    };
    SDPUtils2.parseRtcpFb = function(line) {
      var parts = line.substr(line.indexOf(" ") + 1).split(" ");
      return {
        type: parts.shift(),
        parameter: parts.join(" ")
      };
    };
    SDPUtils2.writeRtcpFb = function(codec) {
      var lines = "";
      var pt = codec.payloadType;
      if (codec.preferredPayloadType !== void 0) {
        pt = codec.preferredPayloadType;
      }
      if (codec.rtcpFeedback && codec.rtcpFeedback.length) {
        codec.rtcpFeedback.forEach(function(fb) {
          lines += "a=rtcp-fb:" + pt + " " + fb.type + (fb.parameter && fb.parameter.length ? " " + fb.parameter : "") + "\r\n";
        });
      }
      return lines;
    };
    SDPUtils2.parseSsrcMedia = function(line) {
      var sp = line.indexOf(" ");
      var parts = {
        ssrc: parseInt(line.substr(7, sp - 7), 10)
      };
      var colon = line.indexOf(":", sp);
      if (colon > -1) {
        parts.attribute = line.substr(sp + 1, colon - sp - 1);
        parts.value = line.substr(colon + 1);
      } else {
        parts.attribute = line.substr(sp + 1);
      }
      return parts;
    };
    SDPUtils2.parseSsrcGroup = function(line) {
      var parts = line.substr(13).split(" ");
      return {
        semantics: parts.shift(),
        ssrcs: parts.map(function(ssrc) {
          return parseInt(ssrc, 10);
        })
      };
    };
    SDPUtils2.getMid = function(mediaSection) {
      var mid = SDPUtils2.matchPrefix(mediaSection, "a=mid:")[0];
      if (mid) {
        return mid.substr(6);
      }
    };
    SDPUtils2.parseFingerprint = function(line) {
      var parts = line.substr(14).split(" ");
      return {
        algorithm: parts[0].toLowerCase(),
        value: parts[1]
      };
    };
    SDPUtils2.getDtlsParameters = function(mediaSection, sessionpart) {
      var lines = SDPUtils2.matchPrefix(mediaSection + sessionpart, "a=fingerprint:");
      return {
        role: "auto",
        fingerprints: lines.map(SDPUtils2.parseFingerprint)
      };
    };
    SDPUtils2.writeDtlsParameters = function(params, setupType) {
      var sdp = "a=setup:" + setupType + "\r\n";
      params.fingerprints.forEach(function(fp) {
        sdp += "a=fingerprint:" + fp.algorithm + " " + fp.value + "\r\n";
      });
      return sdp;
    };
    SDPUtils2.parseCryptoLine = function(line) {
      var parts = line.substr(9).split(" ");
      return {
        tag: parseInt(parts[0], 10),
        cryptoSuite: parts[1],
        keyParams: parts[2],
        sessionParams: parts.slice(3)
      };
    };
    SDPUtils2.writeCryptoLine = function(parameters) {
      return "a=crypto:" + parameters.tag + " " + parameters.cryptoSuite + " " + (typeof parameters.keyParams === "object" ? SDPUtils2.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? " " + parameters.sessionParams.join(" ") : "") + "\r\n";
    };
    SDPUtils2.parseCryptoKeyParams = function(keyParams) {
      if (keyParams.indexOf("inline:") !== 0) {
        return null;
      }
      var parts = keyParams.substr(7).split("|");
      return {
        keyMethod: "inline",
        keySalt: parts[0],
        lifeTime: parts[1],
        mkiValue: parts[2] ? parts[2].split(":")[0] : void 0,
        mkiLength: parts[2] ? parts[2].split(":")[1] : void 0
      };
    };
    SDPUtils2.writeCryptoKeyParams = function(keyParams) {
      return keyParams.keyMethod + ":" + keyParams.keySalt + (keyParams.lifeTime ? "|" + keyParams.lifeTime : "") + (keyParams.mkiValue && keyParams.mkiLength ? "|" + keyParams.mkiValue + ":" + keyParams.mkiLength : "");
    };
    SDPUtils2.getCryptoParameters = function(mediaSection, sessionpart) {
      var lines = SDPUtils2.matchPrefix(mediaSection + sessionpart, "a=crypto:");
      return lines.map(SDPUtils2.parseCryptoLine);
    };
    SDPUtils2.getIceParameters = function(mediaSection, sessionpart) {
      var ufrag = SDPUtils2.matchPrefix(mediaSection + sessionpart, "a=ice-ufrag:")[0];
      var pwd = SDPUtils2.matchPrefix(mediaSection + sessionpart, "a=ice-pwd:")[0];
      if (!(ufrag && pwd)) {
        return null;
      }
      return {
        usernameFragment: ufrag.substr(12),
        password: pwd.substr(10)
      };
    };
    SDPUtils2.writeIceParameters = function(params) {
      return "a=ice-ufrag:" + params.usernameFragment + "\r\na=ice-pwd:" + params.password + "\r\n";
    };
    SDPUtils2.parseRtpParameters = function(mediaSection) {
      var description = {
        codecs: [],
        headerExtensions: [],
        fecMechanisms: [],
        rtcp: []
      };
      var lines = SDPUtils2.splitLines(mediaSection);
      var mline = lines[0].split(" ");
      for (var i = 3; i < mline.length; i++) {
        var pt = mline[i];
        var rtpmapline = SDPUtils2.matchPrefix(mediaSection, "a=rtpmap:" + pt + " ")[0];
        if (rtpmapline) {
          var codec = SDPUtils2.parseRtpMap(rtpmapline);
          var fmtps = SDPUtils2.matchPrefix(mediaSection, "a=fmtp:" + pt + " ");
          codec.parameters = fmtps.length ? SDPUtils2.parseFmtp(fmtps[0]) : {};
          codec.rtcpFeedback = SDPUtils2.matchPrefix(mediaSection, "a=rtcp-fb:" + pt + " ").map(SDPUtils2.parseRtcpFb);
          description.codecs.push(codec);
          switch (codec.name.toUpperCase()) {
            case "RED":
            case "ULPFEC":
              description.fecMechanisms.push(codec.name.toUpperCase());
              break;
            default:
              break;
          }
        }
      }
      SDPUtils2.matchPrefix(mediaSection, "a=extmap:").forEach(function(line) {
        description.headerExtensions.push(SDPUtils2.parseExtmap(line));
      });
      return description;
    };
    SDPUtils2.writeRtpDescription = function(kind, caps) {
      var sdp = "";
      sdp += "m=" + kind + " ";
      sdp += caps.codecs.length > 0 ? "9" : "0";
      sdp += " UDP/TLS/RTP/SAVPF ";
      sdp += caps.codecs.map(function(codec) {
        if (codec.preferredPayloadType !== void 0) {
          return codec.preferredPayloadType;
        }
        return codec.payloadType;
      }).join(" ") + "\r\n";
      sdp += "c=IN IP4 0.0.0.0\r\n";
      sdp += "a=rtcp:9 IN IP4 0.0.0.0\r\n";
      caps.codecs.forEach(function(codec) {
        sdp += SDPUtils2.writeRtpMap(codec);
        sdp += SDPUtils2.writeFmtp(codec);
        sdp += SDPUtils2.writeRtcpFb(codec);
      });
      var maxptime = 0;
      caps.codecs.forEach(function(codec) {
        if (codec.maxptime > maxptime) {
          maxptime = codec.maxptime;
        }
      });
      if (maxptime > 0) {
        sdp += "a=maxptime:" + maxptime + "\r\n";
      }
      sdp += "a=rtcp-mux\r\n";
      if (caps.headerExtensions) {
        caps.headerExtensions.forEach(function(extension) {
          sdp += SDPUtils2.writeExtmap(extension);
        });
      }
      return sdp;
    };
    SDPUtils2.parseRtpEncodingParameters = function(mediaSection) {
      var encodingParameters = [];
      var description = SDPUtils2.parseRtpParameters(mediaSection);
      var hasRed = description.fecMechanisms.indexOf("RED") !== -1;
      var hasUlpfec = description.fecMechanisms.indexOf("ULPFEC") !== -1;
      var ssrcs = SDPUtils2.matchPrefix(mediaSection, "a=ssrc:").map(function(line) {
        return SDPUtils2.parseSsrcMedia(line);
      }).filter(function(parts) {
        return parts.attribute === "cname";
      });
      var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;
      var secondarySsrc;
      var flows = SDPUtils2.matchPrefix(mediaSection, "a=ssrc-group:FID").map(function(line) {
        var parts = line.substr(17).split(" ");
        return parts.map(function(part) {
          return parseInt(part, 10);
        });
      });
      if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {
        secondarySsrc = flows[0][1];
      }
      description.codecs.forEach(function(codec) {
        if (codec.name.toUpperCase() === "RTX" && codec.parameters.apt) {
          var encParam = {
            ssrc: primarySsrc,
            codecPayloadType: parseInt(codec.parameters.apt, 10)
          };
          if (primarySsrc && secondarySsrc) {
            encParam.rtx = { ssrc: secondarySsrc };
          }
          encodingParameters.push(encParam);
          if (hasRed) {
            encParam = JSON.parse(JSON.stringify(encParam));
            encParam.fec = {
              ssrc: primarySsrc,
              mechanism: hasUlpfec ? "red+ulpfec" : "red"
            };
            encodingParameters.push(encParam);
          }
        }
      });
      if (encodingParameters.length === 0 && primarySsrc) {
        encodingParameters.push({
          ssrc: primarySsrc
        });
      }
      var bandwidth = SDPUtils2.matchPrefix(mediaSection, "b=");
      if (bandwidth.length) {
        if (bandwidth[0].indexOf("b=TIAS:") === 0) {
          bandwidth = parseInt(bandwidth[0].substr(7), 10);
        } else if (bandwidth[0].indexOf("b=AS:") === 0) {
          bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1e3 * 0.95 - 50 * 40 * 8;
        } else {
          bandwidth = void 0;
        }
        encodingParameters.forEach(function(params) {
          params.maxBitrate = bandwidth;
        });
      }
      return encodingParameters;
    };
    SDPUtils2.parseRtcpParameters = function(mediaSection) {
      var rtcpParameters = {};
      var remoteSsrc = SDPUtils2.matchPrefix(mediaSection, "a=ssrc:").map(function(line) {
        return SDPUtils2.parseSsrcMedia(line);
      }).filter(function(obj) {
        return obj.attribute === "cname";
      })[0];
      if (remoteSsrc) {
        rtcpParameters.cname = remoteSsrc.value;
        rtcpParameters.ssrc = remoteSsrc.ssrc;
      }
      var rsize = SDPUtils2.matchPrefix(mediaSection, "a=rtcp-rsize");
      rtcpParameters.reducedSize = rsize.length > 0;
      rtcpParameters.compound = rsize.length === 0;
      var mux = SDPUtils2.matchPrefix(mediaSection, "a=rtcp-mux");
      rtcpParameters.mux = mux.length > 0;
      return rtcpParameters;
    };
    SDPUtils2.parseMsid = function(mediaSection) {
      var parts;
      var spec = SDPUtils2.matchPrefix(mediaSection, "a=msid:");
      if (spec.length === 1) {
        parts = spec[0].substr(7).split(" ");
        return { stream: parts[0], track: parts[1] };
      }
      var planB = SDPUtils2.matchPrefix(mediaSection, "a=ssrc:").map(function(line) {
        return SDPUtils2.parseSsrcMedia(line);
      }).filter(function(msidParts) {
        return msidParts.attribute === "msid";
      });
      if (planB.length > 0) {
        parts = planB[0].value.split(" ");
        return { stream: parts[0], track: parts[1] };
      }
    };
    SDPUtils2.parseSctpDescription = function(mediaSection) {
      var mline = SDPUtils2.parseMLine(mediaSection);
      var maxSizeLine = SDPUtils2.matchPrefix(mediaSection, "a=max-message-size:");
      var maxMessageSize;
      if (maxSizeLine.length > 0) {
        maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);
      }
      if (isNaN(maxMessageSize)) {
        maxMessageSize = 65536;
      }
      var sctpPort = SDPUtils2.matchPrefix(mediaSection, "a=sctp-port:");
      if (sctpPort.length > 0) {
        return {
          port: parseInt(sctpPort[0].substr(12), 10),
          protocol: mline.fmt,
          maxMessageSize
        };
      }
      var sctpMapLines = SDPUtils2.matchPrefix(mediaSection, "a=sctpmap:");
      if (sctpMapLines.length > 0) {
        var parts = SDPUtils2.matchPrefix(mediaSection, "a=sctpmap:")[0].substr(10).split(" ");
        return {
          port: parseInt(parts[0], 10),
          protocol: parts[1],
          maxMessageSize
        };
      }
    };
    SDPUtils2.writeSctpDescription = function(media, sctp) {
      var output = [];
      if (media.protocol !== "DTLS/SCTP") {
        output = [
          "m=" + media.kind + " 9 " + media.protocol + " " + sctp.protocol + "\r\n",
          "c=IN IP4 0.0.0.0\r\n",
          "a=sctp-port:" + sctp.port + "\r\n"
        ];
      } else {
        output = [
          "m=" + media.kind + " 9 " + media.protocol + " " + sctp.port + "\r\n",
          "c=IN IP4 0.0.0.0\r\n",
          "a=sctpmap:" + sctp.port + " " + sctp.protocol + " 65535\r\n"
        ];
      }
      if (sctp.maxMessageSize !== void 0) {
        output.push("a=max-message-size:" + sctp.maxMessageSize + "\r\n");
      }
      return output.join("");
    };
    SDPUtils2.generateSessionId = function() {
      return Math.random().toString().substr(2, 21);
    };
    SDPUtils2.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {
      var sessionId;
      var version2 = sessVer !== void 0 ? sessVer : 2;
      if (sessId) {
        sessionId = sessId;
      } else {
        sessionId = SDPUtils2.generateSessionId();
      }
      var user = sessUser || "thisisadapterortc";
      return "v=0\r\no=" + user + " " + sessionId + " " + version2 + " IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n";
    };
    SDPUtils2.writeMediaSection = function(transceiver, caps, type, stream) {
      var sdp = SDPUtils2.writeRtpDescription(transceiver.kind, caps);
      sdp += SDPUtils2.writeIceParameters(transceiver.iceGatherer.getLocalParameters());
      sdp += SDPUtils2.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(), type === "offer" ? "actpass" : "active");
      sdp += "a=mid:" + transceiver.mid + "\r\n";
      if (transceiver.direction) {
        sdp += "a=" + transceiver.direction + "\r\n";
      } else if (transceiver.rtpSender && transceiver.rtpReceiver) {
        sdp += "a=sendrecv\r\n";
      } else if (transceiver.rtpSender) {
        sdp += "a=sendonly\r\n";
      } else if (transceiver.rtpReceiver) {
        sdp += "a=recvonly\r\n";
      } else {
        sdp += "a=inactive\r\n";
      }
      if (transceiver.rtpSender) {
        var msid = "msid:" + stream.id + " " + transceiver.rtpSender.track.id + "\r\n";
        sdp += "a=" + msid;
        sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].ssrc + " " + msid;
        if (transceiver.sendEncodingParameters[0].rtx) {
          sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].rtx.ssrc + " " + msid;
          sdp += "a=ssrc-group:FID " + transceiver.sendEncodingParameters[0].ssrc + " " + transceiver.sendEncodingParameters[0].rtx.ssrc + "\r\n";
        }
      }
      sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].ssrc + " cname:" + SDPUtils2.localCName + "\r\n";
      if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
        sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].rtx.ssrc + " cname:" + SDPUtils2.localCName + "\r\n";
      }
      return sdp;
    };
    SDPUtils2.getDirection = function(mediaSection, sessionpart) {
      var lines = SDPUtils2.splitLines(mediaSection);
      for (var i = 0; i < lines.length; i++) {
        switch (lines[i]) {
          case "a=sendrecv":
          case "a=sendonly":
          case "a=recvonly":
          case "a=inactive":
            return lines[i].substr(2);
          default:
        }
      }
      if (sessionpart) {
        return SDPUtils2.getDirection(sessionpart);
      }
      return "sendrecv";
    };
    SDPUtils2.getKind = function(mediaSection) {
      var lines = SDPUtils2.splitLines(mediaSection);
      var mline = lines[0].split(" ");
      return mline[0].substr(2);
    };
    SDPUtils2.isRejected = function(mediaSection) {
      return mediaSection.split(" ", 2)[1] === "0";
    };
    SDPUtils2.parseMLine = function(mediaSection) {
      var lines = SDPUtils2.splitLines(mediaSection);
      var parts = lines[0].substr(2).split(" ");
      return {
        kind: parts[0],
        port: parseInt(parts[1], 10),
        protocol: parts[2],
        fmt: parts.slice(3).join(" ")
      };
    };
    SDPUtils2.parseOLine = function(mediaSection) {
      var line = SDPUtils2.matchPrefix(mediaSection, "o=")[0];
      var parts = line.substr(2).split(" ");
      return {
        username: parts[0],
        sessionId: parts[1],
        sessionVersion: parseInt(parts[2], 10),
        netType: parts[3],
        addressType: parts[4],
        address: parts[5]
      };
    };
    SDPUtils2.isValidSDP = function(blob) {
      if (typeof blob !== "string" || blob.length === 0) {
        return false;
      }
      var lines = SDPUtils2.splitLines(blob);
      for (var i = 0; i < lines.length; i++) {
        if (lines[i].length < 2 || lines[i].charAt(1) !== "=") {
          return false;
        }
      }
      return true;
    };
    if (typeof module === "object") {
      module.exports = SDPUtils2;
    }
  }
});

// node_modules/rtcpeerconnection-shim/rtcpeerconnection.js
var require_rtcpeerconnection = __commonJS({
  "node_modules/rtcpeerconnection-shim/rtcpeerconnection.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var SDPUtils2 = require_sdp();
    function fixStatsType(stat) {
      return {
        inboundrtp: "inbound-rtp",
        outboundrtp: "outbound-rtp",
        candidatepair: "candidate-pair",
        localcandidate: "local-candidate",
        remotecandidate: "remote-candidate"
      }[stat.type] || stat.type;
    }
    function writeMediaSection(transceiver, caps, type, stream, dtlsRole) {
      var sdp = SDPUtils2.writeRtpDescription(transceiver.kind, caps);
      sdp += SDPUtils2.writeIceParameters(transceiver.iceGatherer.getLocalParameters());
      sdp += SDPUtils2.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(), type === "offer" ? "actpass" : dtlsRole || "active");
      sdp += "a=mid:" + transceiver.mid + "\r\n";
      if (transceiver.rtpSender && transceiver.rtpReceiver) {
        sdp += "a=sendrecv\r\n";
      } else if (transceiver.rtpSender) {
        sdp += "a=sendonly\r\n";
      } else if (transceiver.rtpReceiver) {
        sdp += "a=recvonly\r\n";
      } else {
        sdp += "a=inactive\r\n";
      }
      if (transceiver.rtpSender) {
        var trackId = transceiver.rtpSender._initialTrackId || transceiver.rtpSender.track.id;
        transceiver.rtpSender._initialTrackId = trackId;
        var msid = "msid:" + (stream ? stream.id : "-") + " " + trackId + "\r\n";
        sdp += "a=" + msid;
        sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].ssrc + " " + msid;
        if (transceiver.sendEncodingParameters[0].rtx) {
          sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].rtx.ssrc + " " + msid;
          sdp += "a=ssrc-group:FID " + transceiver.sendEncodingParameters[0].ssrc + " " + transceiver.sendEncodingParameters[0].rtx.ssrc + "\r\n";
        }
      }
      sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].ssrc + " cname:" + SDPUtils2.localCName + "\r\n";
      if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
        sdp += "a=ssrc:" + transceiver.sendEncodingParameters[0].rtx.ssrc + " cname:" + SDPUtils2.localCName + "\r\n";
      }
      return sdp;
    }
    function filterIceServers2(iceServers, edgeVersion) {
      var hasTurn = false;
      iceServers = JSON.parse(JSON.stringify(iceServers));
      return iceServers.filter(function(server) {
        if (server && (server.urls || server.url)) {
          var urls = server.urls || server.url;
          if (server.url && !server.urls) {
            console.warn("RTCIceServer.url is deprecated! Use urls instead.");
          }
          var isString = typeof urls === "string";
          if (isString) {
            urls = [urls];
          }
          urls = urls.filter(function(url) {
            var validTurn = url.indexOf("turn:") === 0 && url.indexOf("transport=udp") !== -1 && url.indexOf("turn:[") === -1 && !hasTurn;
            if (validTurn) {
              hasTurn = true;
              return true;
            }
            return url.indexOf("stun:") === 0 && edgeVersion >= 14393 && url.indexOf("?transport=udp") === -1;
          });
          delete server.url;
          server.urls = isString ? urls[0] : urls;
          return !!urls.length;
        }
      });
    }
    function getCommonCapabilities(localCapabilities, remoteCapabilities) {
      var commonCapabilities = {
        codecs: [],
        headerExtensions: [],
        fecMechanisms: []
      };
      var findCodecByPayloadType = function(pt, codecs) {
        pt = parseInt(pt, 10);
        for (var i = 0; i < codecs.length; i++) {
          if (codecs[i].payloadType === pt || codecs[i].preferredPayloadType === pt) {
            return codecs[i];
          }
        }
      };
      var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {
        var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);
        var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);
        return lCodec && rCodec && lCodec.name.toLowerCase() === rCodec.name.toLowerCase();
      };
      localCapabilities.codecs.forEach(function(lCodec) {
        for (var i = 0; i < remoteCapabilities.codecs.length; i++) {
          var rCodec = remoteCapabilities.codecs[i];
          if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() && lCodec.clockRate === rCodec.clockRate) {
            if (lCodec.name.toLowerCase() === "rtx" && lCodec.parameters && rCodec.parameters.apt) {
              if (!rtxCapabilityMatches(lCodec, rCodec, localCapabilities.codecs, remoteCapabilities.codecs)) {
                continue;
              }
            }
            rCodec = JSON.parse(JSON.stringify(rCodec));
            rCodec.numChannels = Math.min(lCodec.numChannels, rCodec.numChannels);
            commonCapabilities.codecs.push(rCodec);
            rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {
              for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {
                if (lCodec.rtcpFeedback[j].type === fb.type && lCodec.rtcpFeedback[j].parameter === fb.parameter) {
                  return true;
                }
              }
              return false;
            });
            break;
          }
        }
      });
      localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {
        for (var i = 0; i < remoteCapabilities.headerExtensions.length; i++) {
          var rHeaderExtension = remoteCapabilities.headerExtensions[i];
          if (lHeaderExtension.uri === rHeaderExtension.uri) {
            commonCapabilities.headerExtensions.push(rHeaderExtension);
            break;
          }
        }
      });
      return commonCapabilities;
    }
    function isActionAllowedInSignalingState(action, type, signalingState) {
      return {
        offer: {
          setLocalDescription: ["stable", "have-local-offer"],
          setRemoteDescription: ["stable", "have-remote-offer"]
        },
        answer: {
          setLocalDescription: ["have-remote-offer", "have-local-pranswer"],
          setRemoteDescription: ["have-local-offer", "have-remote-pranswer"]
        }
      }[type][action].indexOf(signalingState) !== -1;
    }
    function maybeAddCandidate(iceTransport, candidate) {
      var alreadyAdded = iceTransport.getRemoteCandidates().find(function(remoteCandidate) {
        return candidate.foundation === remoteCandidate.foundation && candidate.ip === remoteCandidate.ip && candidate.port === remoteCandidate.port && candidate.priority === remoteCandidate.priority && candidate.protocol === remoteCandidate.protocol && candidate.type === remoteCandidate.type;
      });
      if (!alreadyAdded) {
        iceTransport.addRemoteCandidate(candidate);
      }
      return !alreadyAdded;
    }
    function makeError(name, description) {
      var e = new Error(description);
      e.name = name;
      e.code = {
        NotSupportedError: 9,
        InvalidStateError: 11,
        InvalidAccessError: 15,
        TypeError: void 0,
        OperationError: void 0
      }[name];
      return e;
    }
    module.exports = function(window2, edgeVersion) {
      function addTrackToStreamAndFireEvent(track, stream) {
        stream.addTrack(track);
        stream.dispatchEvent(new window2.MediaStreamTrackEvent("addtrack", { track }));
      }
      function removeTrackFromStreamAndFireEvent(track, stream) {
        stream.removeTrack(track);
        stream.dispatchEvent(new window2.MediaStreamTrackEvent("removetrack", { track }));
      }
      function fireAddTrack(pc, track, receiver, streams) {
        var trackEvent = new Event("track");
        trackEvent.track = track;
        trackEvent.receiver = receiver;
        trackEvent.transceiver = { receiver };
        trackEvent.streams = streams;
        window2.setTimeout(function() {
          pc._dispatchEvent("track", trackEvent);
        });
      }
      var RTCPeerConnection = function(config) {
        var pc = this;
        var _eventTarget = document.createDocumentFragment();
        ["addEventListener", "removeEventListener", "dispatchEvent"].forEach(function(method) {
          pc[method] = _eventTarget[method].bind(_eventTarget);
        });
        this.canTrickleIceCandidates = null;
        this.needNegotiation = false;
        this.localStreams = [];
        this.remoteStreams = [];
        this._localDescription = null;
        this._remoteDescription = null;
        this.signalingState = "stable";
        this.iceConnectionState = "new";
        this.connectionState = "new";
        this.iceGatheringState = "new";
        config = JSON.parse(JSON.stringify(config || {}));
        this.usingBundle = config.bundlePolicy === "max-bundle";
        if (config.rtcpMuxPolicy === "negotiate") {
          throw makeError("NotSupportedError", "rtcpMuxPolicy 'negotiate' is not supported");
        } else if (!config.rtcpMuxPolicy) {
          config.rtcpMuxPolicy = "require";
        }
        switch (config.iceTransportPolicy) {
          case "all":
          case "relay":
            break;
          default:
            config.iceTransportPolicy = "all";
            break;
        }
        switch (config.bundlePolicy) {
          case "balanced":
          case "max-compat":
          case "max-bundle":
            break;
          default:
            config.bundlePolicy = "balanced";
            break;
        }
        config.iceServers = filterIceServers2(config.iceServers || [], edgeVersion);
        this._iceGatherers = [];
        if (config.iceCandidatePoolSize) {
          for (var i = config.iceCandidatePoolSize; i > 0; i--) {
            this._iceGatherers.push(new window2.RTCIceGatherer({
              iceServers: config.iceServers,
              gatherPolicy: config.iceTransportPolicy
            }));
          }
        } else {
          config.iceCandidatePoolSize = 0;
        }
        this._config = config;
        this.transceivers = [];
        this._sdpSessionId = SDPUtils2.generateSessionId();
        this._sdpSessionVersion = 0;
        this._dtlsRole = void 0;
        this._isClosed = false;
      };
      Object.defineProperty(RTCPeerConnection.prototype, "localDescription", {
        configurable: true,
        get: function() {
          return this._localDescription;
        }
      });
      Object.defineProperty(RTCPeerConnection.prototype, "remoteDescription", {
        configurable: true,
        get: function() {
          return this._remoteDescription;
        }
      });
      RTCPeerConnection.prototype.onicecandidate = null;
      RTCPeerConnection.prototype.onaddstream = null;
      RTCPeerConnection.prototype.ontrack = null;
      RTCPeerConnection.prototype.onremovestream = null;
      RTCPeerConnection.prototype.onsignalingstatechange = null;
      RTCPeerConnection.prototype.oniceconnectionstatechange = null;
      RTCPeerConnection.prototype.onconnectionstatechange = null;
      RTCPeerConnection.prototype.onicegatheringstatechange = null;
      RTCPeerConnection.prototype.onnegotiationneeded = null;
      RTCPeerConnection.prototype.ondatachannel = null;
      RTCPeerConnection.prototype._dispatchEvent = function(name, event) {
        if (this._isClosed) {
          return;
        }
        this.dispatchEvent(event);
        if (typeof this["on" + name] === "function") {
          this["on" + name](event);
        }
      };
      RTCPeerConnection.prototype._emitGatheringStateChange = function() {
        var event = new Event("icegatheringstatechange");
        this._dispatchEvent("icegatheringstatechange", event);
      };
      RTCPeerConnection.prototype.getConfiguration = function() {
        return this._config;
      };
      RTCPeerConnection.prototype.getLocalStreams = function() {
        return this.localStreams;
      };
      RTCPeerConnection.prototype.getRemoteStreams = function() {
        return this.remoteStreams;
      };
      RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {
        var hasBundleTransport = this.transceivers.length > 0;
        var transceiver = {
          track: null,
          iceGatherer: null,
          iceTransport: null,
          dtlsTransport: null,
          localCapabilities: null,
          remoteCapabilities: null,
          rtpSender: null,
          rtpReceiver: null,
          kind,
          mid: null,
          sendEncodingParameters: null,
          recvEncodingParameters: null,
          stream: null,
          associatedRemoteMediaStreams: [],
          wantReceive: true
        };
        if (this.usingBundle && hasBundleTransport) {
          transceiver.iceTransport = this.transceivers[0].iceTransport;
          transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;
        } else {
          var transports = this._createIceAndDtlsTransports();
          transceiver.iceTransport = transports.iceTransport;
          transceiver.dtlsTransport = transports.dtlsTransport;
        }
        if (!doNotAdd) {
          this.transceivers.push(transceiver);
        }
        return transceiver;
      };
      RTCPeerConnection.prototype.addTrack = function(track, stream) {
        if (this._isClosed) {
          throw makeError("InvalidStateError", "Attempted to call addTrack on a closed peerconnection.");
        }
        var alreadyExists = this.transceivers.find(function(s) {
          return s.track === track;
        });
        if (alreadyExists) {
          throw makeError("InvalidAccessError", "Track already exists.");
        }
        var transceiver;
        for (var i = 0; i < this.transceivers.length; i++) {
          if (!this.transceivers[i].track && this.transceivers[i].kind === track.kind) {
            transceiver = this.transceivers[i];
          }
        }
        if (!transceiver) {
          transceiver = this._createTransceiver(track.kind);
        }
        this._maybeFireNegotiationNeeded();
        if (this.localStreams.indexOf(stream) === -1) {
          this.localStreams.push(stream);
        }
        transceiver.track = track;
        transceiver.stream = stream;
        transceiver.rtpSender = new window2.RTCRtpSender(track, transceiver.dtlsTransport);
        return transceiver.rtpSender;
      };
      RTCPeerConnection.prototype.addStream = function(stream) {
        var pc = this;
        if (edgeVersion >= 15025) {
          stream.getTracks().forEach(function(track) {
            pc.addTrack(track, stream);
          });
        } else {
          var clonedStream = stream.clone();
          stream.getTracks().forEach(function(track, idx) {
            var clonedTrack = clonedStream.getTracks()[idx];
            track.addEventListener("enabled", function(event) {
              clonedTrack.enabled = event.enabled;
            });
          });
          clonedStream.getTracks().forEach(function(track) {
            pc.addTrack(track, clonedStream);
          });
        }
      };
      RTCPeerConnection.prototype.removeTrack = function(sender) {
        if (this._isClosed) {
          throw makeError("InvalidStateError", "Attempted to call removeTrack on a closed peerconnection.");
        }
        if (!(sender instanceof window2.RTCRtpSender)) {
          throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");
        }
        var transceiver = this.transceivers.find(function(t) {
          return t.rtpSender === sender;
        });
        if (!transceiver) {
          throw makeError("InvalidAccessError", "Sender was not created by this connection.");
        }
        var stream = transceiver.stream;
        transceiver.rtpSender.stop();
        transceiver.rtpSender = null;
        transceiver.track = null;
        transceiver.stream = null;
        var localStreams = this.transceivers.map(function(t) {
          return t.stream;
        });
        if (localStreams.indexOf(stream) === -1 && this.localStreams.indexOf(stream) > -1) {
          this.localStreams.splice(this.localStreams.indexOf(stream), 1);
        }
        this._maybeFireNegotiationNeeded();
      };
      RTCPeerConnection.prototype.removeStream = function(stream) {
        var pc = this;
        stream.getTracks().forEach(function(track) {
          var sender = pc.getSenders().find(function(s) {
            return s.track === track;
          });
          if (sender) {
            pc.removeTrack(sender);
          }
        });
      };
      RTCPeerConnection.prototype.getSenders = function() {
        return this.transceivers.filter(function(transceiver) {
          return !!transceiver.rtpSender;
        }).map(function(transceiver) {
          return transceiver.rtpSender;
        });
      };
      RTCPeerConnection.prototype.getReceivers = function() {
        return this.transceivers.filter(function(transceiver) {
          return !!transceiver.rtpReceiver;
        }).map(function(transceiver) {
          return transceiver.rtpReceiver;
        });
      };
      RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex, usingBundle) {
        var pc = this;
        if (usingBundle && sdpMLineIndex > 0) {
          return this.transceivers[0].iceGatherer;
        } else if (this._iceGatherers.length) {
          return this._iceGatherers.shift();
        }
        var iceGatherer = new window2.RTCIceGatherer({
          iceServers: this._config.iceServers,
          gatherPolicy: this._config.iceTransportPolicy
        });
        Object.defineProperty(iceGatherer, "state", { value: "new", writable: true });
        this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];
        this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {
          var end = !event.candidate || Object.keys(event.candidate).length === 0;
          iceGatherer.state = end ? "completed" : "gathering";
          if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {
            pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);
          }
        };
        iceGatherer.addEventListener("localcandidate", this.transceivers[sdpMLineIndex].bufferCandidates);
        return iceGatherer;
      };
      RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {
        var pc = this;
        var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
        if (iceGatherer.onlocalcandidate) {
          return;
        }
        var bufferedCandidateEvents = this.transceivers[sdpMLineIndex].bufferedCandidateEvents;
        this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;
        iceGatherer.removeEventListener("localcandidate", this.transceivers[sdpMLineIndex].bufferCandidates);
        iceGatherer.onlocalcandidate = function(evt) {
          if (pc.usingBundle && sdpMLineIndex > 0) {
            return;
          }
          var event = new Event("icecandidate");
          event.candidate = { sdpMid: mid, sdpMLineIndex };
          var cand = evt.candidate;
          var end = !cand || Object.keys(cand).length === 0;
          if (end) {
            if (iceGatherer.state === "new" || iceGatherer.state === "gathering") {
              iceGatherer.state = "completed";
            }
          } else {
            if (iceGatherer.state === "new") {
              iceGatherer.state = "gathering";
            }
            cand.component = 1;
            cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;
            var serializedCandidate = SDPUtils2.writeCandidate(cand);
            event.candidate = Object.assign(event.candidate, SDPUtils2.parseCandidate(serializedCandidate));
            event.candidate.candidate = serializedCandidate;
            event.candidate.toJSON = function() {
              return {
                candidate: event.candidate.candidate,
                sdpMid: event.candidate.sdpMid,
                sdpMLineIndex: event.candidate.sdpMLineIndex,
                usernameFragment: event.candidate.usernameFragment
              };
            };
          }
          var sections = SDPUtils2.getMediaSections(pc._localDescription.sdp);
          if (!end) {
            sections[event.candidate.sdpMLineIndex] += "a=" + event.candidate.candidate + "\r\n";
          } else {
            sections[event.candidate.sdpMLineIndex] += "a=end-of-candidates\r\n";
          }
          pc._localDescription.sdp = SDPUtils2.getDescription(pc._localDescription.sdp) + sections.join("");
          var complete = pc.transceivers.every(function(transceiver) {
            return transceiver.iceGatherer && transceiver.iceGatherer.state === "completed";
          });
          if (pc.iceGatheringState !== "gathering") {
            pc.iceGatheringState = "gathering";
            pc._emitGatheringStateChange();
          }
          if (!end) {
            pc._dispatchEvent("icecandidate", event);
          }
          if (complete) {
            pc._dispatchEvent("icecandidate", new Event("icecandidate"));
            pc.iceGatheringState = "complete";
            pc._emitGatheringStateChange();
          }
        };
        window2.setTimeout(function() {
          bufferedCandidateEvents.forEach(function(e) {
            iceGatherer.onlocalcandidate(e);
          });
        }, 0);
      };
      RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {
        var pc = this;
        var iceTransport = new window2.RTCIceTransport(null);
        iceTransport.onicestatechange = function() {
          pc._updateIceConnectionState();
          pc._updateConnectionState();
        };
        var dtlsTransport = new window2.RTCDtlsTransport(iceTransport);
        dtlsTransport.ondtlsstatechange = function() {
          pc._updateConnectionState();
        };
        dtlsTransport.onerror = function() {
          Object.defineProperty(dtlsTransport, "state", { value: "failed", writable: true });
          pc._updateConnectionState();
        };
        return {
          iceTransport,
          dtlsTransport
        };
      };
      RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(sdpMLineIndex) {
        var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
        if (iceGatherer) {
          delete iceGatherer.onlocalcandidate;
          delete this.transceivers[sdpMLineIndex].iceGatherer;
        }
        var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;
        if (iceTransport) {
          delete iceTransport.onicestatechange;
          delete this.transceivers[sdpMLineIndex].iceTransport;
        }
        var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;
        if (dtlsTransport) {
          delete dtlsTransport.ondtlsstatechange;
          delete dtlsTransport.onerror;
          delete this.transceivers[sdpMLineIndex].dtlsTransport;
        }
      };
      RTCPeerConnection.prototype._transceive = function(transceiver, send, recv) {
        var params = getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);
        if (send && transceiver.rtpSender) {
          params.encodings = transceiver.sendEncodingParameters;
          params.rtcp = {
            cname: SDPUtils2.localCName,
            compound: transceiver.rtcpParameters.compound
          };
          if (transceiver.recvEncodingParameters.length) {
            params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;
          }
          transceiver.rtpSender.send(params);
        }
        if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {
          if (transceiver.kind === "video" && transceiver.recvEncodingParameters && edgeVersion < 15019) {
            transceiver.recvEncodingParameters.forEach(function(p) {
              delete p.rtx;
            });
          }
          if (transceiver.recvEncodingParameters.length) {
            params.encodings = transceiver.recvEncodingParameters;
          } else {
            params.encodings = [{}];
          }
          params.rtcp = {
            compound: transceiver.rtcpParameters.compound
          };
          if (transceiver.rtcpParameters.cname) {
            params.rtcp.cname = transceiver.rtcpParameters.cname;
          }
          if (transceiver.sendEncodingParameters.length) {
            params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;
          }
          transceiver.rtpReceiver.receive(params);
        }
      };
      RTCPeerConnection.prototype.setLocalDescription = function(description) {
        var pc = this;
        if (["offer", "answer"].indexOf(description.type) === -1) {
          return Promise.reject(makeError("TypeError", 'Unsupported type "' + description.type + '"'));
        }
        if (!isActionAllowedInSignalingState("setLocalDescription", description.type, pc.signalingState) || pc._isClosed) {
          return Promise.reject(makeError("InvalidStateError", "Can not set local " + description.type + " in state " + pc.signalingState));
        }
        var sections;
        var sessionpart;
        if (description.type === "offer") {
          sections = SDPUtils2.splitSections(description.sdp);
          sessionpart = sections.shift();
          sections.forEach(function(mediaSection, sdpMLineIndex) {
            var caps = SDPUtils2.parseRtpParameters(mediaSection);
            pc.transceivers[sdpMLineIndex].localCapabilities = caps;
          });
          pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
            pc._gather(transceiver.mid, sdpMLineIndex);
          });
        } else if (description.type === "answer") {
          sections = SDPUtils2.splitSections(pc._remoteDescription.sdp);
          sessionpart = sections.shift();
          var isIceLite = SDPUtils2.matchPrefix(sessionpart, "a=ice-lite").length > 0;
          sections.forEach(function(mediaSection, sdpMLineIndex) {
            var transceiver = pc.transceivers[sdpMLineIndex];
            var iceGatherer = transceiver.iceGatherer;
            var iceTransport = transceiver.iceTransport;
            var dtlsTransport = transceiver.dtlsTransport;
            var localCapabilities = transceiver.localCapabilities;
            var remoteCapabilities = transceiver.remoteCapabilities;
            var rejected = SDPUtils2.isRejected(mediaSection) && SDPUtils2.matchPrefix(mediaSection, "a=bundle-only").length === 0;
            if (!rejected && !transceiver.rejected) {
              var remoteIceParameters = SDPUtils2.getIceParameters(mediaSection, sessionpart);
              var remoteDtlsParameters = SDPUtils2.getDtlsParameters(mediaSection, sessionpart);
              if (isIceLite) {
                remoteDtlsParameters.role = "server";
              }
              if (!pc.usingBundle || sdpMLineIndex === 0) {
                pc._gather(transceiver.mid, sdpMLineIndex);
                if (iceTransport.state === "new") {
                  iceTransport.start(iceGatherer, remoteIceParameters, isIceLite ? "controlling" : "controlled");
                }
                if (dtlsTransport.state === "new") {
                  dtlsTransport.start(remoteDtlsParameters);
                }
              }
              var params = getCommonCapabilities(localCapabilities, remoteCapabilities);
              pc._transceive(transceiver, params.codecs.length > 0, false);
            }
          });
        }
        pc._localDescription = {
          type: description.type,
          sdp: description.sdp
        };
        if (description.type === "offer") {
          pc._updateSignalingState("have-local-offer");
        } else {
          pc._updateSignalingState("stable");
        }
        return Promise.resolve();
      };
      RTCPeerConnection.prototype.setRemoteDescription = function(description) {
        var pc = this;
        if (["offer", "answer"].indexOf(description.type) === -1) {
          return Promise.reject(makeError("TypeError", 'Unsupported type "' + description.type + '"'));
        }
        if (!isActionAllowedInSignalingState("setRemoteDescription", description.type, pc.signalingState) || pc._isClosed) {
          return Promise.reject(makeError("InvalidStateError", "Can not set remote " + description.type + " in state " + pc.signalingState));
        }
        var streams = {};
        pc.remoteStreams.forEach(function(stream) {
          streams[stream.id] = stream;
        });
        var receiverList = [];
        var sections = SDPUtils2.splitSections(description.sdp);
        var sessionpart = sections.shift();
        var isIceLite = SDPUtils2.matchPrefix(sessionpart, "a=ice-lite").length > 0;
        var usingBundle = SDPUtils2.matchPrefix(sessionpart, "a=group:BUNDLE ").length > 0;
        pc.usingBundle = usingBundle;
        var iceOptions = SDPUtils2.matchPrefix(sessionpart, "a=ice-options:")[0];
        if (iceOptions) {
          pc.canTrickleIceCandidates = iceOptions.substr(14).split(" ").indexOf("trickle") >= 0;
        } else {
          pc.canTrickleIceCandidates = false;
        }
        sections.forEach(function(mediaSection, sdpMLineIndex) {
          var lines = SDPUtils2.splitLines(mediaSection);
          var kind = SDPUtils2.getKind(mediaSection);
          var rejected = SDPUtils2.isRejected(mediaSection) && SDPUtils2.matchPrefix(mediaSection, "a=bundle-only").length === 0;
          var protocol = lines[0].substr(2).split(" ")[2];
          var direction = SDPUtils2.getDirection(mediaSection, sessionpart);
          var remoteMsid = SDPUtils2.parseMsid(mediaSection);
          var mid = SDPUtils2.getMid(mediaSection) || SDPUtils2.generateIdentifier();
          if (rejected || kind === "application" && (protocol === "DTLS/SCTP" || protocol === "UDP/DTLS/SCTP")) {
            pc.transceivers[sdpMLineIndex] = {
              mid,
              kind,
              protocol,
              rejected: true
            };
            return;
          }
          if (!rejected && pc.transceivers[sdpMLineIndex] && pc.transceivers[sdpMLineIndex].rejected) {
            pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);
          }
          var transceiver;
          var iceGatherer;
          var iceTransport;
          var dtlsTransport;
          var rtpReceiver;
          var sendEncodingParameters;
          var recvEncodingParameters;
          var localCapabilities;
          var track;
          var remoteCapabilities = SDPUtils2.parseRtpParameters(mediaSection);
          var remoteIceParameters;
          var remoteDtlsParameters;
          if (!rejected) {
            remoteIceParameters = SDPUtils2.getIceParameters(mediaSection, sessionpart);
            remoteDtlsParameters = SDPUtils2.getDtlsParameters(mediaSection, sessionpart);
            remoteDtlsParameters.role = "client";
          }
          recvEncodingParameters = SDPUtils2.parseRtpEncodingParameters(mediaSection);
          var rtcpParameters = SDPUtils2.parseRtcpParameters(mediaSection);
          var isComplete = SDPUtils2.matchPrefix(mediaSection, "a=end-of-candidates", sessionpart).length > 0;
          var cands = SDPUtils2.matchPrefix(mediaSection, "a=candidate:").map(function(cand) {
            return SDPUtils2.parseCandidate(cand);
          }).filter(function(cand) {
            return cand.component === 1;
          });
          if ((description.type === "offer" || description.type === "answer") && !rejected && usingBundle && sdpMLineIndex > 0 && pc.transceivers[sdpMLineIndex]) {
            pc._disposeIceAndDtlsTransports(sdpMLineIndex);
            pc.transceivers[sdpMLineIndex].iceGatherer = pc.transceivers[0].iceGatherer;
            pc.transceivers[sdpMLineIndex].iceTransport = pc.transceivers[0].iceTransport;
            pc.transceivers[sdpMLineIndex].dtlsTransport = pc.transceivers[0].dtlsTransport;
            if (pc.transceivers[sdpMLineIndex].rtpSender) {
              pc.transceivers[sdpMLineIndex].rtpSender.setTransport(pc.transceivers[0].dtlsTransport);
            }
            if (pc.transceivers[sdpMLineIndex].rtpReceiver) {
              pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(pc.transceivers[0].dtlsTransport);
            }
          }
          if (description.type === "offer" && !rejected) {
            transceiver = pc.transceivers[sdpMLineIndex] || pc._createTransceiver(kind);
            transceiver.mid = mid;
            if (!transceiver.iceGatherer) {
              transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex, usingBundle);
            }
            if (cands.length && transceiver.iceTransport.state === "new") {
              if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {
                transceiver.iceTransport.setRemoteCandidates(cands);
              } else {
                cands.forEach(function(candidate) {
                  maybeAddCandidate(transceiver.iceTransport, candidate);
                });
              }
            }
            localCapabilities = window2.RTCRtpReceiver.getCapabilities(kind);
            if (edgeVersion < 15019) {
              localCapabilities.codecs = localCapabilities.codecs.filter(function(codec) {
                return codec.name !== "rtx";
              });
            }
            sendEncodingParameters = transceiver.sendEncodingParameters || [{
              ssrc: (2 * sdpMLineIndex + 2) * 1001
            }];
            var isNewTrack = false;
            if (direction === "sendrecv" || direction === "sendonly") {
              isNewTrack = !transceiver.rtpReceiver;
              rtpReceiver = transceiver.rtpReceiver || new window2.RTCRtpReceiver(transceiver.dtlsTransport, kind);
              if (isNewTrack) {
                var stream;
                track = rtpReceiver.track;
                if (remoteMsid && remoteMsid.stream === "-") {
                } else if (remoteMsid) {
                  if (!streams[remoteMsid.stream]) {
                    streams[remoteMsid.stream] = new window2.MediaStream();
                    Object.defineProperty(streams[remoteMsid.stream], "id", {
                      get: function() {
                        return remoteMsid.stream;
                      }
                    });
                  }
                  Object.defineProperty(track, "id", {
                    get: function() {
                      return remoteMsid.track;
                    }
                  });
                  stream = streams[remoteMsid.stream];
                } else {
                  if (!streams.default) {
                    streams.default = new window2.MediaStream();
                  }
                  stream = streams.default;
                }
                if (stream) {
                  addTrackToStreamAndFireEvent(track, stream);
                  transceiver.associatedRemoteMediaStreams.push(stream);
                }
                receiverList.push([track, rtpReceiver, stream]);
              }
            } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {
              transceiver.associatedRemoteMediaStreams.forEach(function(s) {
                var nativeTrack = s.getTracks().find(function(t) {
                  return t.id === transceiver.rtpReceiver.track.id;
                });
                if (nativeTrack) {
                  removeTrackFromStreamAndFireEvent(nativeTrack, s);
                }
              });
              transceiver.associatedRemoteMediaStreams = [];
            }
            transceiver.localCapabilities = localCapabilities;
            transceiver.remoteCapabilities = remoteCapabilities;
            transceiver.rtpReceiver = rtpReceiver;
            transceiver.rtcpParameters = rtcpParameters;
            transceiver.sendEncodingParameters = sendEncodingParameters;
            transceiver.recvEncodingParameters = recvEncodingParameters;
            pc._transceive(pc.transceivers[sdpMLineIndex], false, isNewTrack);
          } else if (description.type === "answer" && !rejected) {
            transceiver = pc.transceivers[sdpMLineIndex];
            iceGatherer = transceiver.iceGatherer;
            iceTransport = transceiver.iceTransport;
            dtlsTransport = transceiver.dtlsTransport;
            rtpReceiver = transceiver.rtpReceiver;
            sendEncodingParameters = transceiver.sendEncodingParameters;
            localCapabilities = transceiver.localCapabilities;
            pc.transceivers[sdpMLineIndex].recvEncodingParameters = recvEncodingParameters;
            pc.transceivers[sdpMLineIndex].remoteCapabilities = remoteCapabilities;
            pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;
            if (cands.length && iceTransport.state === "new") {
              if ((isIceLite || isComplete) && (!usingBundle || sdpMLineIndex === 0)) {
                iceTransport.setRemoteCandidates(cands);
              } else {
                cands.forEach(function(candidate) {
                  maybeAddCandidate(transceiver.iceTransport, candidate);
                });
              }
            }
            if (!usingBundle || sdpMLineIndex === 0) {
              if (iceTransport.state === "new") {
                iceTransport.start(iceGatherer, remoteIceParameters, "controlling");
              }
              if (dtlsTransport.state === "new") {
                dtlsTransport.start(remoteDtlsParameters);
              }
            }
            var commonCapabilities = getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);
            var hasRtx = commonCapabilities.codecs.filter(function(c) {
              return c.name.toLowerCase() === "rtx";
            }).length;
            if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
              delete transceiver.sendEncodingParameters[0].rtx;
            }
            pc._transceive(transceiver, direction === "sendrecv" || direction === "recvonly", direction === "sendrecv" || direction === "sendonly");
            if (rtpReceiver && (direction === "sendrecv" || direction === "sendonly")) {
              track = rtpReceiver.track;
              if (remoteMsid) {
                if (!streams[remoteMsid.stream]) {
                  streams[remoteMsid.stream] = new window2.MediaStream();
                }
                addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);
                receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);
              } else {
                if (!streams.default) {
                  streams.default = new window2.MediaStream();
                }
                addTrackToStreamAndFireEvent(track, streams.default);
                receiverList.push([track, rtpReceiver, streams.default]);
              }
            } else {
              delete transceiver.rtpReceiver;
            }
          }
        });
        if (pc._dtlsRole === void 0) {
          pc._dtlsRole = description.type === "offer" ? "active" : "passive";
        }
        pc._remoteDescription = {
          type: description.type,
          sdp: description.sdp
        };
        if (description.type === "offer") {
          pc._updateSignalingState("have-remote-offer");
        } else {
          pc._updateSignalingState("stable");
        }
        Object.keys(streams).forEach(function(sid) {
          var stream = streams[sid];
          if (stream.getTracks().length) {
            if (pc.remoteStreams.indexOf(stream) === -1) {
              pc.remoteStreams.push(stream);
              var event = new Event("addstream");
              event.stream = stream;
              window2.setTimeout(function() {
                pc._dispatchEvent("addstream", event);
              });
            }
            receiverList.forEach(function(item) {
              var track = item[0];
              var receiver = item[1];
              if (stream.id !== item[2].id) {
                return;
              }
              fireAddTrack(pc, track, receiver, [stream]);
            });
          }
        });
        receiverList.forEach(function(item) {
          if (item[2]) {
            return;
          }
          fireAddTrack(pc, item[0], item[1], []);
        });
        window2.setTimeout(function() {
          if (!(pc && pc.transceivers)) {
            return;
          }
          pc.transceivers.forEach(function(transceiver) {
            if (transceiver.iceTransport && transceiver.iceTransport.state === "new" && transceiver.iceTransport.getRemoteCandidates().length > 0) {
              console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification");
              transceiver.iceTransport.addRemoteCandidate({});
            }
          });
        }, 4e3);
        return Promise.resolve();
      };
      RTCPeerConnection.prototype.close = function() {
        this.transceivers.forEach(function(transceiver) {
          if (transceiver.iceTransport) {
            transceiver.iceTransport.stop();
          }
          if (transceiver.dtlsTransport) {
            transceiver.dtlsTransport.stop();
          }
          if (transceiver.rtpSender) {
            transceiver.rtpSender.stop();
          }
          if (transceiver.rtpReceiver) {
            transceiver.rtpReceiver.stop();
          }
        });
        this._isClosed = true;
        this._updateSignalingState("closed");
      };
      RTCPeerConnection.prototype._updateSignalingState = function(newState) {
        this.signalingState = newState;
        var event = new Event("signalingstatechange");
        this._dispatchEvent("signalingstatechange", event);
      };
      RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {
        var pc = this;
        if (this.signalingState !== "stable" || this.needNegotiation === true) {
          return;
        }
        this.needNegotiation = true;
        window2.setTimeout(function() {
          if (pc.needNegotiation) {
            pc.needNegotiation = false;
            var event = new Event("negotiationneeded");
            pc._dispatchEvent("negotiationneeded", event);
          }
        }, 0);
      };
      RTCPeerConnection.prototype._updateIceConnectionState = function() {
        var newState;
        var states = {
          "new": 0,
          closed: 0,
          checking: 0,
          connected: 0,
          completed: 0,
          disconnected: 0,
          failed: 0
        };
        this.transceivers.forEach(function(transceiver) {
          if (transceiver.iceTransport && !transceiver.rejected) {
            states[transceiver.iceTransport.state]++;
          }
        });
        newState = "new";
        if (states.failed > 0) {
          newState = "failed";
        } else if (states.checking > 0) {
          newState = "checking";
        } else if (states.disconnected > 0) {
          newState = "disconnected";
        } else if (states.new > 0) {
          newState = "new";
        } else if (states.connected > 0) {
          newState = "connected";
        } else if (states.completed > 0) {
          newState = "completed";
        }
        if (newState !== this.iceConnectionState) {
          this.iceConnectionState = newState;
          var event = new Event("iceconnectionstatechange");
          this._dispatchEvent("iceconnectionstatechange", event);
        }
      };
      RTCPeerConnection.prototype._updateConnectionState = function() {
        var newState;
        var states = {
          "new": 0,
          closed: 0,
          connecting: 0,
          connected: 0,
          completed: 0,
          disconnected: 0,
          failed: 0
        };
        this.transceivers.forEach(function(transceiver) {
          if (transceiver.iceTransport && transceiver.dtlsTransport && !transceiver.rejected) {
            states[transceiver.iceTransport.state]++;
            states[transceiver.dtlsTransport.state]++;
          }
        });
        states.connected += states.completed;
        newState = "new";
        if (states.failed > 0) {
          newState = "failed";
        } else if (states.connecting > 0) {
          newState = "connecting";
        } else if (states.disconnected > 0) {
          newState = "disconnected";
        } else if (states.new > 0) {
          newState = "new";
        } else if (states.connected > 0) {
          newState = "connected";
        }
        if (newState !== this.connectionState) {
          this.connectionState = newState;
          var event = new Event("connectionstatechange");
          this._dispatchEvent("connectionstatechange", event);
        }
      };
      RTCPeerConnection.prototype.createOffer = function() {
        var pc = this;
        if (pc._isClosed) {
          return Promise.reject(makeError("InvalidStateError", "Can not call createOffer after close"));
        }
        var numAudioTracks = pc.transceivers.filter(function(t) {
          return t.kind === "audio";
        }).length;
        var numVideoTracks = pc.transceivers.filter(function(t) {
          return t.kind === "video";
        }).length;
        var offerOptions = arguments[0];
        if (offerOptions) {
          if (offerOptions.mandatory || offerOptions.optional) {
            throw new TypeError("Legacy mandatory/optional constraints not supported.");
          }
          if (offerOptions.offerToReceiveAudio !== void 0) {
            if (offerOptions.offerToReceiveAudio === true) {
              numAudioTracks = 1;
            } else if (offerOptions.offerToReceiveAudio === false) {
              numAudioTracks = 0;
            } else {
              numAudioTracks = offerOptions.offerToReceiveAudio;
            }
          }
          if (offerOptions.offerToReceiveVideo !== void 0) {
            if (offerOptions.offerToReceiveVideo === true) {
              numVideoTracks = 1;
            } else if (offerOptions.offerToReceiveVideo === false) {
              numVideoTracks = 0;
            } else {
              numVideoTracks = offerOptions.offerToReceiveVideo;
            }
          }
        }
        pc.transceivers.forEach(function(transceiver) {
          if (transceiver.kind === "audio") {
            numAudioTracks--;
            if (numAudioTracks < 0) {
              transceiver.wantReceive = false;
            }
          } else if (transceiver.kind === "video") {
            numVideoTracks--;
            if (numVideoTracks < 0) {
              transceiver.wantReceive = false;
            }
          }
        });
        while (numAudioTracks > 0 || numVideoTracks > 0) {
          if (numAudioTracks > 0) {
            pc._createTransceiver("audio");
            numAudioTracks--;
          }
          if (numVideoTracks > 0) {
            pc._createTransceiver("video");
            numVideoTracks--;
          }
        }
        var sdp = SDPUtils2.writeSessionBoilerplate(pc._sdpSessionId, pc._sdpSessionVersion++);
        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
          var track = transceiver.track;
          var kind = transceiver.kind;
          var mid = transceiver.mid || SDPUtils2.generateIdentifier();
          transceiver.mid = mid;
          if (!transceiver.iceGatherer) {
            transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex, pc.usingBundle);
          }
          var localCapabilities = window2.RTCRtpSender.getCapabilities(kind);
          if (edgeVersion < 15019) {
            localCapabilities.codecs = localCapabilities.codecs.filter(function(codec) {
              return codec.name !== "rtx";
            });
          }
          localCapabilities.codecs.forEach(function(codec) {
            if (codec.name === "H264" && codec.parameters["level-asymmetry-allowed"] === void 0) {
              codec.parameters["level-asymmetry-allowed"] = "1";
            }
            if (transceiver.remoteCapabilities && transceiver.remoteCapabilities.codecs) {
              transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {
                if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() && codec.clockRate === remoteCodec.clockRate) {
                  codec.preferredPayloadType = remoteCodec.payloadType;
                }
              });
            }
          });
          localCapabilities.headerExtensions.forEach(function(hdrExt) {
            var remoteExtensions = transceiver.remoteCapabilities && transceiver.remoteCapabilities.headerExtensions || [];
            remoteExtensions.forEach(function(rHdrExt) {
              if (hdrExt.uri === rHdrExt.uri) {
                hdrExt.id = rHdrExt.id;
              }
            });
          });
          var sendEncodingParameters = transceiver.sendEncodingParameters || [{
            ssrc: (2 * sdpMLineIndex + 1) * 1001
          }];
          if (track) {
            if (edgeVersion >= 15019 && kind === "video" && !sendEncodingParameters[0].rtx) {
              sendEncodingParameters[0].rtx = {
                ssrc: sendEncodingParameters[0].ssrc + 1
              };
            }
          }
          if (transceiver.wantReceive) {
            transceiver.rtpReceiver = new window2.RTCRtpReceiver(transceiver.dtlsTransport, kind);
          }
          transceiver.localCapabilities = localCapabilities;
          transceiver.sendEncodingParameters = sendEncodingParameters;
        });
        if (pc._config.bundlePolicy !== "max-compat") {
          sdp += "a=group:BUNDLE " + pc.transceivers.map(function(t) {
            return t.mid;
          }).join(" ") + "\r\n";
        }
        sdp += "a=ice-options:trickle\r\n";
        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
          sdp += writeMediaSection(transceiver, transceiver.localCapabilities, "offer", transceiver.stream, pc._dtlsRole);
          sdp += "a=rtcp-rsize\r\n";
          if (transceiver.iceGatherer && pc.iceGatheringState !== "new" && (sdpMLineIndex === 0 || !pc.usingBundle)) {
            transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {
              cand.component = 1;
              sdp += "a=" + SDPUtils2.writeCandidate(cand) + "\r\n";
            });
            if (transceiver.iceGatherer.state === "completed") {
              sdp += "a=end-of-candidates\r\n";
            }
          }
        });
        var desc = new window2.RTCSessionDescription({
          type: "offer",
          sdp
        });
        return Promise.resolve(desc);
      };
      RTCPeerConnection.prototype.createAnswer = function() {
        var pc = this;
        if (pc._isClosed) {
          return Promise.reject(makeError("InvalidStateError", "Can not call createAnswer after close"));
        }
        if (!(pc.signalingState === "have-remote-offer" || pc.signalingState === "have-local-pranswer")) {
          return Promise.reject(makeError("InvalidStateError", "Can not call createAnswer in signalingState " + pc.signalingState));
        }
        var sdp = SDPUtils2.writeSessionBoilerplate(pc._sdpSessionId, pc._sdpSessionVersion++);
        if (pc.usingBundle) {
          sdp += "a=group:BUNDLE " + pc.transceivers.map(function(t) {
            return t.mid;
          }).join(" ") + "\r\n";
        }
        sdp += "a=ice-options:trickle\r\n";
        var mediaSectionsInOffer = SDPUtils2.getMediaSections(pc._remoteDescription.sdp).length;
        pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
          if (sdpMLineIndex + 1 > mediaSectionsInOffer) {
            return;
          }
          if (transceiver.rejected) {
            if (transceiver.kind === "application") {
              if (transceiver.protocol === "DTLS/SCTP") {
                sdp += "m=application 0 DTLS/SCTP 5000\r\n";
              } else {
                sdp += "m=application 0 " + transceiver.protocol + " webrtc-datachannel\r\n";
              }
            } else if (transceiver.kind === "audio") {
              sdp += "m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n";
            } else if (transceiver.kind === "video") {
              sdp += "m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n";
            }
            sdp += "c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:" + transceiver.mid + "\r\n";
            return;
          }
          if (transceiver.stream) {
            var localTrack;
            if (transceiver.kind === "audio") {
              localTrack = transceiver.stream.getAudioTracks()[0];
            } else if (transceiver.kind === "video") {
              localTrack = transceiver.stream.getVideoTracks()[0];
            }
            if (localTrack) {
              if (edgeVersion >= 15019 && transceiver.kind === "video" && !transceiver.sendEncodingParameters[0].rtx) {
                transceiver.sendEncodingParameters[0].rtx = {
                  ssrc: transceiver.sendEncodingParameters[0].ssrc + 1
                };
              }
            }
          }
          var commonCapabilities = getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);
          var hasRtx = commonCapabilities.codecs.filter(function(c) {
            return c.name.toLowerCase() === "rtx";
          }).length;
          if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
            delete transceiver.sendEncodingParameters[0].rtx;
          }
          sdp += writeMediaSection(transceiver, commonCapabilities, "answer", transceiver.stream, pc._dtlsRole);
          if (transceiver.rtcpParameters && transceiver.rtcpParameters.reducedSize) {
            sdp += "a=rtcp-rsize\r\n";
          }
        });
        var desc = new window2.RTCSessionDescription({
          type: "answer",
          sdp
        });
        return Promise.resolve(desc);
      };
      RTCPeerConnection.prototype.addIceCandidate = function(candidate) {
        var pc = this;
        var sections;
        if (candidate && !(candidate.sdpMLineIndex !== void 0 || candidate.sdpMid)) {
          return Promise.reject(new TypeError("sdpMLineIndex or sdpMid required"));
        }
        return new Promise(function(resolve, reject) {
          if (!pc._remoteDescription) {
            return reject(makeError("InvalidStateError", "Can not add ICE candidate without a remote description"));
          } else if (!candidate || candidate.candidate === "") {
            for (var j = 0; j < pc.transceivers.length; j++) {
              if (pc.transceivers[j].rejected) {
                continue;
              }
              pc.transceivers[j].iceTransport.addRemoteCandidate({});
              sections = SDPUtils2.getMediaSections(pc._remoteDescription.sdp);
              sections[j] += "a=end-of-candidates\r\n";
              pc._remoteDescription.sdp = SDPUtils2.getDescription(pc._remoteDescription.sdp) + sections.join("");
              if (pc.usingBundle) {
                break;
              }
            }
          } else {
            var sdpMLineIndex = candidate.sdpMLineIndex;
            if (candidate.sdpMid) {
              for (var i = 0; i < pc.transceivers.length; i++) {
                if (pc.transceivers[i].mid === candidate.sdpMid) {
                  sdpMLineIndex = i;
                  break;
                }
              }
            }
            var transceiver = pc.transceivers[sdpMLineIndex];
            if (transceiver) {
              if (transceiver.rejected) {
                return resolve();
              }
              var cand = Object.keys(candidate.candidate).length > 0 ? SDPUtils2.parseCandidate(candidate.candidate) : {};
              if (cand.protocol === "tcp" && (cand.port === 0 || cand.port === 9)) {
                return resolve();
              }
              if (cand.component && cand.component !== 1) {
                return resolve();
              }
              if (sdpMLineIndex === 0 || sdpMLineIndex > 0 && transceiver.iceTransport !== pc.transceivers[0].iceTransport) {
                if (!maybeAddCandidate(transceiver.iceTransport, cand)) {
                  return reject(makeError("OperationError", "Can not add ICE candidate"));
                }
              }
              var candidateString = candidate.candidate.trim();
              if (candidateString.indexOf("a=") === 0) {
                candidateString = candidateString.substr(2);
              }
              sections = SDPUtils2.getMediaSections(pc._remoteDescription.sdp);
              sections[sdpMLineIndex] += "a=" + (cand.type ? candidateString : "end-of-candidates") + "\r\n";
              pc._remoteDescription.sdp = SDPUtils2.getDescription(pc._remoteDescription.sdp) + sections.join("");
            } else {
              return reject(makeError("OperationError", "Can not add ICE candidate"));
            }
          }
          resolve();
        });
      };
      RTCPeerConnection.prototype.getStats = function(selector) {
        if (selector && selector instanceof window2.MediaStreamTrack) {
          var senderOrReceiver = null;
          this.transceivers.forEach(function(transceiver) {
            if (transceiver.rtpSender && transceiver.rtpSender.track === selector) {
              senderOrReceiver = transceiver.rtpSender;
            } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track === selector) {
              senderOrReceiver = transceiver.rtpReceiver;
            }
          });
          if (!senderOrReceiver) {
            throw makeError("InvalidAccessError", "Invalid selector.");
          }
          return senderOrReceiver.getStats();
        }
        var promises = [];
        this.transceivers.forEach(function(transceiver) {
          [
            "rtpSender",
            "rtpReceiver",
            "iceGatherer",
            "iceTransport",
            "dtlsTransport"
          ].forEach(function(method) {
            if (transceiver[method]) {
              promises.push(transceiver[method].getStats());
            }
          });
        });
        return Promise.all(promises).then(function(allStats) {
          var results = /* @__PURE__ */ new Map();
          allStats.forEach(function(stats) {
            stats.forEach(function(stat) {
              results.set(stat.id, stat);
            });
          });
          return results;
        });
      };
      var ortcObjects = [
        "RTCRtpSender",
        "RTCRtpReceiver",
        "RTCIceGatherer",
        "RTCIceTransport",
        "RTCDtlsTransport"
      ];
      ortcObjects.forEach(function(ortcObjectName) {
        var obj = window2[ortcObjectName];
        if (obj && obj.prototype && obj.prototype.getStats) {
          var nativeGetstats = obj.prototype.getStats;
          obj.prototype.getStats = function() {
            return nativeGetstats.apply(this).then(function(nativeStats) {
              var mapStats = /* @__PURE__ */ new Map();
              Object.keys(nativeStats).forEach(function(id) {
                nativeStats[id].type = fixStatsType(nativeStats[id]);
                mapStats.set(id, nativeStats[id]);
              });
              return mapStats;
            });
          };
        }
      });
      var methods = ["createOffer", "createAnswer"];
      methods.forEach(function(method) {
        var nativeMethod = RTCPeerConnection.prototype[method];
        RTCPeerConnection.prototype[method] = function() {
          var args = arguments;
          if (typeof args[0] === "function" || typeof args[1] === "function") {
            return nativeMethod.apply(this, [arguments[2]]).then(function(description) {
              if (typeof args[0] === "function") {
                args[0].apply(null, [description]);
              }
            }, function(error) {
              if (typeof args[1] === "function") {
                args[1].apply(null, [error]);
              }
            });
          }
          return nativeMethod.apply(this, arguments);
        };
      });
      methods = ["setLocalDescription", "setRemoteDescription", "addIceCandidate"];
      methods.forEach(function(method) {
        var nativeMethod = RTCPeerConnection.prototype[method];
        RTCPeerConnection.prototype[method] = function() {
          var args = arguments;
          if (typeof args[1] === "function" || typeof args[2] === "function") {
            return nativeMethod.apply(this, arguments).then(function() {
              if (typeof args[1] === "function") {
                args[1].apply(null);
              }
            }, function(error) {
              if (typeof args[2] === "function") {
                args[2].apply(null, [error]);
              }
            });
          }
          return nativeMethod.apply(this, arguments);
        };
      });
      ["getStats"].forEach(function(method) {
        var nativeMethod = RTCPeerConnection.prototype[method];
        RTCPeerConnection.prototype[method] = function() {
          var args = arguments;
          if (typeof args[1] === "function") {
            return nativeMethod.apply(this, arguments).then(function() {
              if (typeof args[1] === "function") {
                args[1].apply(null);
              }
            });
          }
          return nativeMethod.apply(this, arguments);
        };
      });
      return RTCPeerConnection;
    };
  }
});

// node_modules/webrtc-adapter/src/js/edge/getusermedia.js
function shimGetUserMedia2(window2) {
  const navigator2 = window2 && window2.navigator;
  const shimError_ = function(e) {
    return {
      name: { PermissionDeniedError: "NotAllowedError" }[e.name] || e.name,
      message: e.message,
      constraint: e.constraint,
      toString() {
        return this.name;
      }
    };
  };
  const origGetUserMedia = navigator2.mediaDevices.getUserMedia.bind(navigator2.mediaDevices);
  navigator2.mediaDevices.getUserMedia = function(c) {
    return origGetUserMedia(c).catch((e) => Promise.reject(shimError_(e)));
  };
}
var init_getusermedia2 = __esm({
  "node_modules/webrtc-adapter/src/js/edge/getusermedia.js"() {
    "use strict";
    init_define_process_env();
  }
});

// node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js
function shimGetDisplayMedia2(window2) {
  if (!("getDisplayMedia" in window2.navigator)) {
    return;
  }
  if (!window2.navigator.mediaDevices) {
    return;
  }
  if (window2.navigator.mediaDevices && "getDisplayMedia" in window2.navigator.mediaDevices) {
    return;
  }
  window2.navigator.mediaDevices.getDisplayMedia = window2.navigator.getDisplayMedia.bind(window2.navigator);
}
var init_getdisplaymedia2 = __esm({
  "node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js"() {
    "use strict";
    init_define_process_env();
  }
});

// node_modules/webrtc-adapter/src/js/edge/edge_shim.js
var edge_shim_exports = {};
__export(edge_shim_exports, {
  shimGetDisplayMedia: () => shimGetDisplayMedia2,
  shimGetUserMedia: () => shimGetUserMedia2,
  shimPeerConnection: () => shimPeerConnection2,
  shimReplaceTrack: () => shimReplaceTrack
});
function shimPeerConnection2(window2, browserDetails) {
  if (window2.RTCIceGatherer) {
    if (!window2.RTCIceCandidate) {
      window2.RTCIceCandidate = function RTCIceCandidate(args) {
        return args;
      };
    }
    if (!window2.RTCSessionDescription) {
      window2.RTCSessionDescription = function RTCSessionDescription2(args) {
        return args;
      };
    }
    if (browserDetails.version < 15025) {
      const origMSTEnabled = Object.getOwnPropertyDescriptor(window2.MediaStreamTrack.prototype, "enabled");
      Object.defineProperty(window2.MediaStreamTrack.prototype, "enabled", {
        set(value) {
          origMSTEnabled.set.call(this, value);
          const ev = new Event("enabled");
          ev.enabled = value;
          this.dispatchEvent(ev);
        }
      });
    }
  }
  if (window2.RTCRtpSender && !("dtmf" in window2.RTCRtpSender.prototype)) {
    Object.defineProperty(window2.RTCRtpSender.prototype, "dtmf", {
      get() {
        if (this._dtmf === void 0) {
          if (this.track.kind === "audio") {
            this._dtmf = new window2.RTCDtmfSender(this);
          } else if (this.track.kind === "video") {
            this._dtmf = null;
          }
        }
        return this._dtmf;
      }
    });
  }
  if (window2.RTCDtmfSender && !window2.RTCDTMFSender) {
    window2.RTCDTMFSender = window2.RTCDtmfSender;
  }
  const RTCPeerConnectionShim = (0, import_rtcpeerconnection_shim.default)(window2, browserDetails.version);
  window2.RTCPeerConnection = function RTCPeerConnection(config) {
    if (config && config.iceServers) {
      config.iceServers = filterIceServers(config.iceServers, browserDetails.version);
      log("ICE servers after filtering:", config.iceServers);
    }
    return new RTCPeerConnectionShim(config);
  };
  window2.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;
}
function shimReplaceTrack(window2) {
  if (window2.RTCRtpSender && !("replaceTrack" in window2.RTCRtpSender.prototype)) {
    window2.RTCRtpSender.prototype.replaceTrack = window2.RTCRtpSender.prototype.setTrack;
  }
}
var import_rtcpeerconnection_shim;
var init_edge_shim = __esm({
  "node_modules/webrtc-adapter/src/js/edge/edge_shim.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
    init_filtericeservers();
    import_rtcpeerconnection_shim = __toESM(require_rtcpeerconnection());
    init_getusermedia2();
    init_getdisplaymedia2();
  }
});

// node_modules/webrtc-adapter/src/js/firefox/getusermedia.js
function shimGetUserMedia3(window2, browserDetails) {
  const navigator2 = window2 && window2.navigator;
  const MediaStreamTrack = window2 && window2.MediaStreamTrack;
  navigator2.getUserMedia = function(constraints, onSuccess, onError) {
    deprecated("navigator.getUserMedia", "navigator.mediaDevices.getUserMedia");
    navigator2.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);
  };
  if (!(browserDetails.version > 55 && "autoGainControl" in navigator2.mediaDevices.getSupportedConstraints())) {
    const remap = function(obj, a, b) {
      if (a in obj && !(b in obj)) {
        obj[b] = obj[a];
        delete obj[a];
      }
    };
    const nativeGetUserMedia = navigator2.mediaDevices.getUserMedia.bind(navigator2.mediaDevices);
    navigator2.mediaDevices.getUserMedia = function(c) {
      if (typeof c === "object" && typeof c.audio === "object") {
        c = JSON.parse(JSON.stringify(c));
        remap(c.audio, "autoGainControl", "mozAutoGainControl");
        remap(c.audio, "noiseSuppression", "mozNoiseSuppression");
      }
      return nativeGetUserMedia(c);
    };
    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {
      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;
      MediaStreamTrack.prototype.getSettings = function() {
        const obj = nativeGetSettings.apply(this, arguments);
        remap(obj, "mozAutoGainControl", "autoGainControl");
        remap(obj, "mozNoiseSuppression", "noiseSuppression");
        return obj;
      };
    }
    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {
      const nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;
      MediaStreamTrack.prototype.applyConstraints = function(c) {
        if (this.kind === "audio" && typeof c === "object") {
          c = JSON.parse(JSON.stringify(c));
          remap(c, "autoGainControl", "mozAutoGainControl");
          remap(c, "noiseSuppression", "mozNoiseSuppression");
        }
        return nativeApplyConstraints.apply(this, [c]);
      };
    }
  }
}
var init_getusermedia3 = __esm({
  "node_modules/webrtc-adapter/src/js/firefox/getusermedia.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
  }
});

// node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js
function shimGetDisplayMedia3(window2, preferredMediaSource) {
  if (window2.navigator.mediaDevices && "getDisplayMedia" in window2.navigator.mediaDevices) {
    return;
  }
  if (!window2.navigator.mediaDevices) {
    return;
  }
  window2.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {
    if (!(constraints && constraints.video)) {
      const err = new DOMException("getDisplayMedia without video constraints is undefined");
      err.name = "NotFoundError";
      err.code = 8;
      return Promise.reject(err);
    }
    if (constraints.video === true) {
      constraints.video = { mediaSource: preferredMediaSource };
    } else {
      constraints.video.mediaSource = preferredMediaSource;
    }
    return window2.navigator.mediaDevices.getUserMedia(constraints);
  };
}
var init_getdisplaymedia3 = __esm({
  "node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js"() {
    "use strict";
    init_define_process_env();
  }
});

// node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js
var firefox_shim_exports = {};
__export(firefox_shim_exports, {
  shimAddTransceiver: () => shimAddTransceiver,
  shimCreateAnswer: () => shimCreateAnswer,
  shimCreateOffer: () => shimCreateOffer,
  shimGetDisplayMedia: () => shimGetDisplayMedia3,
  shimGetParameters: () => shimGetParameters,
  shimGetUserMedia: () => shimGetUserMedia3,
  shimOnTrack: () => shimOnTrack2,
  shimPeerConnection: () => shimPeerConnection3,
  shimRTCDataChannel: () => shimRTCDataChannel,
  shimReceiverGetStats: () => shimReceiverGetStats,
  shimRemoveStream: () => shimRemoveStream,
  shimSenderGetStats: () => shimSenderGetStats
});
function shimOnTrack2(window2) {
  if (typeof window2 === "object" && window2.RTCTrackEvent && "receiver" in window2.RTCTrackEvent.prototype && !("transceiver" in window2.RTCTrackEvent.prototype)) {
    Object.defineProperty(window2.RTCTrackEvent.prototype, "transceiver", {
      get() {
        return { receiver: this.receiver };
      }
    });
  }
}
function shimPeerConnection3(window2, browserDetails) {
  if (typeof window2 !== "object" || !(window2.RTCPeerConnection || window2.mozRTCPeerConnection)) {
    return;
  }
  if (!window2.RTCPeerConnection && window2.mozRTCPeerConnection) {
    window2.RTCPeerConnection = window2.mozRTCPeerConnection;
  }
  if (browserDetails.version < 53) {
    ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function(method) {
      const nativeMethod = window2.RTCPeerConnection.prototype[method];
      const methodObj = { [method]() {
        arguments[0] = new (method === "addIceCandidate" ? window2.RTCIceCandidate : window2.RTCSessionDescription)(arguments[0]);
        return nativeMethod.apply(this, arguments);
      } };
      window2.RTCPeerConnection.prototype[method] = methodObj[method];
    });
  }
  const modernStatsTypes = {
    inboundrtp: "inbound-rtp",
    outboundrtp: "outbound-rtp",
    candidatepair: "candidate-pair",
    localcandidate: "local-candidate",
    remotecandidate: "remote-candidate"
  };
  const nativeGetStats = window2.RTCPeerConnection.prototype.getStats;
  window2.RTCPeerConnection.prototype.getStats = function getStats() {
    const [selector, onSucc, onErr] = arguments;
    return nativeGetStats.apply(this, [selector || null]).then((stats) => {
      if (browserDetails.version < 53 && !onSucc) {
        try {
          stats.forEach((stat) => {
            stat.type = modernStatsTypes[stat.type] || stat.type;
          });
        } catch (e) {
          if (e.name !== "TypeError") {
            throw e;
          }
          stats.forEach((stat, i) => {
            stats.set(i, Object.assign({}, stat, {
              type: modernStatsTypes[stat.type] || stat.type
            }));
          });
        }
      }
      return stats;
    }).then(onSucc, onErr);
  };
}
function shimSenderGetStats(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection && window2.RTCRtpSender)) {
    return;
  }
  if (window2.RTCRtpSender && "getStats" in window2.RTCRtpSender.prototype) {
    return;
  }
  const origGetSenders = window2.RTCPeerConnection.prototype.getSenders;
  if (origGetSenders) {
    window2.RTCPeerConnection.prototype.getSenders = function getSenders() {
      const senders = origGetSenders.apply(this, []);
      senders.forEach((sender) => sender._pc = this);
      return senders;
    };
  }
  const origAddTrack = window2.RTCPeerConnection.prototype.addTrack;
  if (origAddTrack) {
    window2.RTCPeerConnection.prototype.addTrack = function addTrack() {
      const sender = origAddTrack.apply(this, arguments);
      sender._pc = this;
      return sender;
    };
  }
  window2.RTCRtpSender.prototype.getStats = function getStats() {
    return this.track ? this._pc.getStats(this.track) : Promise.resolve(/* @__PURE__ */ new Map());
  };
}
function shimReceiverGetStats(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection && window2.RTCRtpSender)) {
    return;
  }
  if (window2.RTCRtpSender && "getStats" in window2.RTCRtpReceiver.prototype) {
    return;
  }
  const origGetReceivers = window2.RTCPeerConnection.prototype.getReceivers;
  if (origGetReceivers) {
    window2.RTCPeerConnection.prototype.getReceivers = function getReceivers() {
      const receivers = origGetReceivers.apply(this, []);
      receivers.forEach((receiver) => receiver._pc = this);
      return receivers;
    };
  }
  wrapPeerConnectionEvent(window2, "track", (e) => {
    e.receiver._pc = e.srcElement;
    return e;
  });
  window2.RTCRtpReceiver.prototype.getStats = function getStats() {
    return this._pc.getStats(this.track);
  };
}
function shimRemoveStream(window2) {
  if (!window2.RTCPeerConnection || "removeStream" in window2.RTCPeerConnection.prototype) {
    return;
  }
  window2.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {
    deprecated("removeStream", "removeTrack");
    this.getSenders().forEach((sender) => {
      if (sender.track && stream.getTracks().includes(sender.track)) {
        this.removeTrack(sender);
      }
    });
  };
}
function shimRTCDataChannel(window2) {
  if (window2.DataChannel && !window2.RTCDataChannel) {
    window2.RTCDataChannel = window2.DataChannel;
  }
}
function shimAddTransceiver(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection)) {
    return;
  }
  const origAddTransceiver = window2.RTCPeerConnection.prototype.addTransceiver;
  if (origAddTransceiver) {
    window2.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {
      this.setParametersPromises = [];
      const initParameters = arguments[1];
      const shouldPerformCheck = initParameters && "sendEncodings" in initParameters;
      if (shouldPerformCheck) {
        initParameters.sendEncodings.forEach((encodingParam) => {
          if ("rid" in encodingParam) {
            const ridRegex = /^[a-z0-9]{0,16}$/i;
            if (!ridRegex.test(encodingParam.rid)) {
              throw new TypeError("Invalid RID value provided.");
            }
          }
          if ("scaleResolutionDownBy" in encodingParam) {
            if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1)) {
              throw new RangeError("scale_resolution_down_by must be >= 1.0");
            }
          }
          if ("maxFramerate" in encodingParam) {
            if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {
              throw new RangeError("max_framerate must be >= 0.0");
            }
          }
        });
      }
      const transceiver = origAddTransceiver.apply(this, arguments);
      if (shouldPerformCheck) {
        const { sender } = transceiver;
        const params = sender.getParameters();
        if (!("encodings" in params) || params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {
          params.encodings = initParameters.sendEncodings;
          sender.sendEncodings = initParameters.sendEncodings;
          this.setParametersPromises.push(sender.setParameters(params).then(() => {
            delete sender.sendEncodings;
          }).catch(() => {
            delete sender.sendEncodings;
          }));
        }
      }
      return transceiver;
    };
  }
}
function shimGetParameters(window2) {
  if (!(typeof window2 === "object" && window2.RTCRtpSender)) {
    return;
  }
  const origGetParameters = window2.RTCRtpSender.prototype.getParameters;
  if (origGetParameters) {
    window2.RTCRtpSender.prototype.getParameters = function getParameters() {
      const params = origGetParameters.apply(this, arguments);
      if (!("encodings" in params)) {
        params.encodings = [].concat(this.sendEncodings || [{}]);
      }
      return params;
    };
  }
}
function shimCreateOffer(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection)) {
    return;
  }
  const origCreateOffer = window2.RTCPeerConnection.prototype.createOffer;
  window2.RTCPeerConnection.prototype.createOffer = function createOffer() {
    if (this.setParametersPromises && this.setParametersPromises.length) {
      return Promise.all(this.setParametersPromises).then(() => {
        return origCreateOffer.apply(this, arguments);
      }).finally(() => {
        this.setParametersPromises = [];
      });
    }
    return origCreateOffer.apply(this, arguments);
  };
}
function shimCreateAnswer(window2) {
  if (!(typeof window2 === "object" && window2.RTCPeerConnection)) {
    return;
  }
  const origCreateAnswer = window2.RTCPeerConnection.prototype.createAnswer;
  window2.RTCPeerConnection.prototype.createAnswer = function createAnswer() {
    if (this.setParametersPromises && this.setParametersPromises.length) {
      return Promise.all(this.setParametersPromises).then(() => {
        return origCreateAnswer.apply(this, arguments);
      }).finally(() => {
        this.setParametersPromises = [];
      });
    }
    return origCreateAnswer.apply(this, arguments);
  };
}
var init_firefox_shim = __esm({
  "node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
    init_getusermedia3();
    init_getdisplaymedia3();
  }
});

// node_modules/webrtc-adapter/src/js/safari/safari_shim.js
var safari_shim_exports = {};
__export(safari_shim_exports, {
  shimAudioContext: () => shimAudioContext,
  shimCallbacksAPI: () => shimCallbacksAPI,
  shimConstraints: () => shimConstraints,
  shimCreateOfferLegacy: () => shimCreateOfferLegacy,
  shimGetUserMedia: () => shimGetUserMedia4,
  shimLocalStreamsAPI: () => shimLocalStreamsAPI,
  shimRTCIceServerUrls: () => shimRTCIceServerUrls,
  shimRemoteStreamsAPI: () => shimRemoteStreamsAPI,
  shimTrackEventTransceiver: () => shimTrackEventTransceiver
});
function shimLocalStreamsAPI(window2) {
  if (typeof window2 !== "object" || !window2.RTCPeerConnection) {
    return;
  }
  if (!("getLocalStreams" in window2.RTCPeerConnection.prototype)) {
    window2.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {
      if (!this._localStreams) {
        this._localStreams = [];
      }
      return this._localStreams;
    };
  }
  if (!("addStream" in window2.RTCPeerConnection.prototype)) {
    const _addTrack = window2.RTCPeerConnection.prototype.addTrack;
    window2.RTCPeerConnection.prototype.addStream = function addStream(stream) {
      if (!this._localStreams) {
        this._localStreams = [];
      }
      if (!this._localStreams.includes(stream)) {
        this._localStreams.push(stream);
      }
      stream.getAudioTracks().forEach((track) => _addTrack.call(this, track, stream));
      stream.getVideoTracks().forEach((track) => _addTrack.call(this, track, stream));
    };
    window2.RTCPeerConnection.prototype.addTrack = function addTrack(track, ...streams) {
      if (streams) {
        streams.forEach((stream) => {
          if (!this._localStreams) {
            this._localStreams = [stream];
          } else if (!this._localStreams.includes(stream)) {
            this._localStreams.push(stream);
          }
        });
      }
      return _addTrack.apply(this, arguments);
    };
  }
  if (!("removeStream" in window2.RTCPeerConnection.prototype)) {
    window2.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {
      if (!this._localStreams) {
        this._localStreams = [];
      }
      const index = this._localStreams.indexOf(stream);
      if (index === -1) {
        return;
      }
      this._localStreams.splice(index, 1);
      const tracks = stream.getTracks();
      this.getSenders().forEach((sender) => {
        if (tracks.includes(sender.track)) {
          this.removeTrack(sender);
        }
      });
    };
  }
}
function shimRemoteStreamsAPI(window2) {
  if (typeof window2 !== "object" || !window2.RTCPeerConnection) {
    return;
  }
  if (!("getRemoteStreams" in window2.RTCPeerConnection.prototype)) {
    window2.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {
      return this._remoteStreams ? this._remoteStreams : [];
    };
  }
  if (!("onaddstream" in window2.RTCPeerConnection.prototype)) {
    Object.defineProperty(window2.RTCPeerConnection.prototype, "onaddstream", {
      get() {
        return this._onaddstream;
      },
      set(f2) {
        if (this._onaddstream) {
          this.removeEventListener("addstream", this._onaddstream);
          this.removeEventListener("track", this._onaddstreampoly);
        }
        this.addEventListener("addstream", this._onaddstream = f2);
        this.addEventListener("track", this._onaddstreampoly = (e) => {
          e.streams.forEach((stream) => {
            if (!this._remoteStreams) {
              this._remoteStreams = [];
            }
            if (this._remoteStreams.includes(stream)) {
              return;
            }
            this._remoteStreams.push(stream);
            const event = new Event("addstream");
            event.stream = stream;
            this.dispatchEvent(event);
          });
        });
      }
    });
    const origSetRemoteDescription = window2.RTCPeerConnection.prototype.setRemoteDescription;
    window2.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {
      const pc = this;
      if (!this._onaddstreampoly) {
        this.addEventListener("track", this._onaddstreampoly = function(e) {
          e.streams.forEach((stream) => {
            if (!pc._remoteStreams) {
              pc._remoteStreams = [];
            }
            if (pc._remoteStreams.indexOf(stream) >= 0) {
              return;
            }
            pc._remoteStreams.push(stream);
            const event = new Event("addstream");
            event.stream = stream;
            pc.dispatchEvent(event);
          });
        });
      }
      return origSetRemoteDescription.apply(pc, arguments);
    };
  }
}
function shimCallbacksAPI(window2) {
  if (typeof window2 !== "object" || !window2.RTCPeerConnection) {
    return;
  }
  const prototype = window2.RTCPeerConnection.prototype;
  const origCreateOffer = prototype.createOffer;
  const origCreateAnswer = prototype.createAnswer;
  const setLocalDescription = prototype.setLocalDescription;
  const setRemoteDescription = prototype.setRemoteDescription;
  const addIceCandidate = prototype.addIceCandidate;
  prototype.createOffer = function createOffer(successCallback, failureCallback) {
    const options = arguments.length >= 2 ? arguments[2] : arguments[0];
    const promise = origCreateOffer.apply(this, [options]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.createAnswer = function createAnswer(successCallback, failureCallback) {
    const options = arguments.length >= 2 ? arguments[2] : arguments[0];
    const promise = origCreateAnswer.apply(this, [options]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  let withCallback = function(description, successCallback, failureCallback) {
    const promise = setLocalDescription.apply(this, [description]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.setLocalDescription = withCallback;
  withCallback = function(description, successCallback, failureCallback) {
    const promise = setRemoteDescription.apply(this, [description]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.setRemoteDescription = withCallback;
  withCallback = function(candidate, successCallback, failureCallback) {
    const promise = addIceCandidate.apply(this, [candidate]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.addIceCandidate = withCallback;
}
function shimGetUserMedia4(window2) {
  const navigator2 = window2 && window2.navigator;
  if (navigator2.mediaDevices && navigator2.mediaDevices.getUserMedia) {
    const mediaDevices = navigator2.mediaDevices;
    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);
    navigator2.mediaDevices.getUserMedia = (constraints) => {
      return _getUserMedia(shimConstraints(constraints));
    };
  }
  if (!navigator2.getUserMedia && navigator2.mediaDevices && navigator2.mediaDevices.getUserMedia) {
    navigator2.getUserMedia = function getUserMedia(constraints, cb, errcb) {
      navigator2.mediaDevices.getUserMedia(constraints).then(cb, errcb);
    }.bind(navigator2);
  }
}
function shimConstraints(constraints) {
  if (constraints && constraints.video !== void 0) {
    return Object.assign({}, constraints, { video: compactObject(constraints.video) });
  }
  return constraints;
}
function shimRTCIceServerUrls(window2) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  const OrigPeerConnection = window2.RTCPeerConnection;
  window2.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {
    if (pcConfig && pcConfig.iceServers) {
      const newIceServers = [];
      for (let i = 0; i < pcConfig.iceServers.length; i++) {
        let server = pcConfig.iceServers[i];
        if (!server.hasOwnProperty("urls") && server.hasOwnProperty("url")) {
          deprecated("RTCIceServer.url", "RTCIceServer.urls");
          server = JSON.parse(JSON.stringify(server));
          server.urls = server.url;
          delete server.url;
          newIceServers.push(server);
        } else {
          newIceServers.push(pcConfig.iceServers[i]);
        }
      }
      pcConfig.iceServers = newIceServers;
    }
    return new OrigPeerConnection(pcConfig, pcConstraints);
  };
  window2.RTCPeerConnection.prototype = OrigPeerConnection.prototype;
  if ("generateCertificate" in OrigPeerConnection) {
    Object.defineProperty(window2.RTCPeerConnection, "generateCertificate", {
      get() {
        return OrigPeerConnection.generateCertificate;
      }
    });
  }
}
function shimTrackEventTransceiver(window2) {
  if (typeof window2 === "object" && window2.RTCTrackEvent && "receiver" in window2.RTCTrackEvent.prototype && !("transceiver" in window2.RTCTrackEvent.prototype)) {
    Object.defineProperty(window2.RTCTrackEvent.prototype, "transceiver", {
      get() {
        return { receiver: this.receiver };
      }
    });
  }
}
function shimCreateOfferLegacy(window2) {
  const origCreateOffer = window2.RTCPeerConnection.prototype.createOffer;
  window2.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {
    if (offerOptions) {
      if (typeof offerOptions.offerToReceiveAudio !== "undefined") {
        offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;
      }
      const audioTransceiver = this.getTransceivers().find((transceiver) => transceiver.receiver.track.kind === "audio");
      if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {
        if (audioTransceiver.direction === "sendrecv") {
          if (audioTransceiver.setDirection) {
            audioTransceiver.setDirection("sendonly");
          } else {
            audioTransceiver.direction = "sendonly";
          }
        } else if (audioTransceiver.direction === "recvonly") {
          if (audioTransceiver.setDirection) {
            audioTransceiver.setDirection("inactive");
          } else {
            audioTransceiver.direction = "inactive";
          }
        }
      } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) {
        this.addTransceiver("audio");
      }
      if (typeof offerOptions.offerToReceiveVideo !== "undefined") {
        offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;
      }
      const videoTransceiver = this.getTransceivers().find((transceiver) => transceiver.receiver.track.kind === "video");
      if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {
        if (videoTransceiver.direction === "sendrecv") {
          if (videoTransceiver.setDirection) {
            videoTransceiver.setDirection("sendonly");
          } else {
            videoTransceiver.direction = "sendonly";
          }
        } else if (videoTransceiver.direction === "recvonly") {
          if (videoTransceiver.setDirection) {
            videoTransceiver.setDirection("inactive");
          } else {
            videoTransceiver.direction = "inactive";
          }
        }
      } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) {
        this.addTransceiver("video");
      }
    }
    return origCreateOffer.apply(this, arguments);
  };
}
function shimAudioContext(window2) {
  if (typeof window2 !== "object" || window2.AudioContext) {
    return;
  }
  window2.AudioContext = window2.webkitAudioContext;
}
var init_safari_shim = __esm({
  "node_modules/webrtc-adapter/src/js/safari/safari_shim.js"() {
    "use strict";
    init_define_process_env();
    init_utils();
  }
});

// node_modules/webrtc-adapter/src/js/common_shim.js
var common_shim_exports = {};
__export(common_shim_exports, {
  removeExtmapAllowMixed: () => removeExtmapAllowMixed,
  shimAddIceCandidateNullOrEmpty: () => shimAddIceCandidateNullOrEmpty,
  shimConnectionState: () => shimConnectionState,
  shimMaxMessageSize: () => shimMaxMessageSize,
  shimRTCIceCandidate: () => shimRTCIceCandidate,
  shimSendThrowTypeError: () => shimSendThrowTypeError
});
function shimRTCIceCandidate(window2) {
  if (!window2.RTCIceCandidate || window2.RTCIceCandidate && "foundation" in window2.RTCIceCandidate.prototype) {
    return;
  }
  const NativeRTCIceCandidate = window2.RTCIceCandidate;
  window2.RTCIceCandidate = function RTCIceCandidate(args) {
    if (typeof args === "object" && args.candidate && args.candidate.indexOf("a=") === 0) {
      args = JSON.parse(JSON.stringify(args));
      args.candidate = args.candidate.substr(2);
    }
    if (args.candidate && args.candidate.length) {
      const nativeCandidate = new NativeRTCIceCandidate(args);
      const parsedCandidate = import_sdp.default.parseCandidate(args.candidate);
      const augmentedCandidate = Object.assign(nativeCandidate, parsedCandidate);
      augmentedCandidate.toJSON = function toJSON() {
        return {
          candidate: augmentedCandidate.candidate,
          sdpMid: augmentedCandidate.sdpMid,
          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,
          usernameFragment: augmentedCandidate.usernameFragment
        };
      };
      return augmentedCandidate;
    }
    return new NativeRTCIceCandidate(args);
  };
  window2.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;
  wrapPeerConnectionEvent(window2, "icecandidate", (e) => {
    if (e.candidate) {
      Object.defineProperty(e, "candidate", {
        value: new window2.RTCIceCandidate(e.candidate),
        writable: "false"
      });
    }
    return e;
  });
}
function shimMaxMessageSize(window2, browserDetails) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  if (!("sctp" in window2.RTCPeerConnection.prototype)) {
    Object.defineProperty(window2.RTCPeerConnection.prototype, "sctp", {
      get() {
        return typeof this._sctp === "undefined" ? null : this._sctp;
      }
    });
  }
  const sctpInDescription = function(description) {
    if (!description || !description.sdp) {
      return false;
    }
    const sections = import_sdp.default.splitSections(description.sdp);
    sections.shift();
    return sections.some((mediaSection) => {
      const mLine = import_sdp.default.parseMLine(mediaSection);
      return mLine && mLine.kind === "application" && mLine.protocol.indexOf("SCTP") !== -1;
    });
  };
  const getRemoteFirefoxVersion = function(description) {
    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
    if (match === null || match.length < 2) {
      return -1;
    }
    const version2 = parseInt(match[1], 10);
    return version2 !== version2 ? -1 : version2;
  };
  const getCanSendMaxMessageSize = function(remoteIsFirefox) {
    let canSendMaxMessageSize = 65536;
    if (browserDetails.browser === "firefox") {
      if (browserDetails.version < 57) {
        if (remoteIsFirefox === -1) {
          canSendMaxMessageSize = 16384;
        } else {
          canSendMaxMessageSize = 2147483637;
        }
      } else if (browserDetails.version < 60) {
        canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;
      } else {
        canSendMaxMessageSize = 2147483637;
      }
    }
    return canSendMaxMessageSize;
  };
  const getMaxMessageSize = function(description, remoteIsFirefox) {
    let maxMessageSize = 65536;
    if (browserDetails.browser === "firefox" && browserDetails.version === 57) {
      maxMessageSize = 65535;
    }
    const match = import_sdp.default.matchPrefix(description.sdp, "a=max-message-size:");
    if (match.length > 0) {
      maxMessageSize = parseInt(match[0].substr(19), 10);
    } else if (browserDetails.browser === "firefox" && remoteIsFirefox !== -1) {
      maxMessageSize = 2147483637;
    }
    return maxMessageSize;
  };
  const origSetRemoteDescription = window2.RTCPeerConnection.prototype.setRemoteDescription;
  window2.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {
    this._sctp = null;
    if (browserDetails.browser === "chrome" && browserDetails.version >= 76) {
      const { sdpSemantics } = this.getConfiguration();
      if (sdpSemantics === "plan-b") {
        Object.defineProperty(this, "sctp", {
          get() {
            return typeof this._sctp === "undefined" ? null : this._sctp;
          },
          enumerable: true,
          configurable: true
        });
      }
    }
    if (sctpInDescription(arguments[0])) {
      const isFirefox = getRemoteFirefoxVersion(arguments[0]);
      const canSendMMS = getCanSendMaxMessageSize(isFirefox);
      const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);
      let maxMessageSize;
      if (canSendMMS === 0 && remoteMMS === 0) {
        maxMessageSize = Number.POSITIVE_INFINITY;
      } else if (canSendMMS === 0 || remoteMMS === 0) {
        maxMessageSize = Math.max(canSendMMS, remoteMMS);
      } else {
        maxMessageSize = Math.min(canSendMMS, remoteMMS);
      }
      const sctp = {};
      Object.defineProperty(sctp, "maxMessageSize", {
        get() {
          return maxMessageSize;
        }
      });
      this._sctp = sctp;
    }
    return origSetRemoteDescription.apply(this, arguments);
  };
}
function shimSendThrowTypeError(window2) {
  if (!(window2.RTCPeerConnection && "createDataChannel" in window2.RTCPeerConnection.prototype)) {
    return;
  }
  function wrapDcSend(dc, pc) {
    const origDataChannelSend = dc.send;
    dc.send = function send() {
      const data = arguments[0];
      const length = data.length || data.size || data.byteLength;
      if (dc.readyState === "open" && pc.sctp && length > pc.sctp.maxMessageSize) {
        throw new TypeError("Message too large (can send a maximum of " + pc.sctp.maxMessageSize + " bytes)");
      }
      return origDataChannelSend.apply(dc, arguments);
    };
  }
  const origCreateDataChannel = window2.RTCPeerConnection.prototype.createDataChannel;
  window2.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {
    const dataChannel = origCreateDataChannel.apply(this, arguments);
    wrapDcSend(dataChannel, this);
    return dataChannel;
  };
  wrapPeerConnectionEvent(window2, "datachannel", (e) => {
    wrapDcSend(e.channel, e.target);
    return e;
  });
}
function shimConnectionState(window2) {
  if (!window2.RTCPeerConnection || "connectionState" in window2.RTCPeerConnection.prototype) {
    return;
  }
  const proto = window2.RTCPeerConnection.prototype;
  Object.defineProperty(proto, "connectionState", {
    get() {
      return {
        completed: "connected",
        checking: "connecting"
      }[this.iceConnectionState] || this.iceConnectionState;
    },
    enumerable: true,
    configurable: true
  });
  Object.defineProperty(proto, "onconnectionstatechange", {
    get() {
      return this._onconnectionstatechange || null;
    },
    set(cb) {
      if (this._onconnectionstatechange) {
        this.removeEventListener("connectionstatechange", this._onconnectionstatechange);
        delete this._onconnectionstatechange;
      }
      if (cb) {
        this.addEventListener("connectionstatechange", this._onconnectionstatechange = cb);
      }
    },
    enumerable: true,
    configurable: true
  });
  ["setLocalDescription", "setRemoteDescription"].forEach((method) => {
    const origMethod = proto[method];
    proto[method] = function() {
      if (!this._connectionstatechangepoly) {
        this._connectionstatechangepoly = (e) => {
          const pc = e.target;
          if (pc._lastConnectionState !== pc.connectionState) {
            pc._lastConnectionState = pc.connectionState;
            const newEvent = new Event("connectionstatechange", e);
            pc.dispatchEvent(newEvent);
          }
          return e;
        };
        this.addEventListener("iceconnectionstatechange", this._connectionstatechangepoly);
      }
      return origMethod.apply(this, arguments);
    };
  });
}
function removeExtmapAllowMixed(window2, browserDetails) {
  if (!window2.RTCPeerConnection) {
    return;
  }
  if (browserDetails.browser === "chrome" && browserDetails.version >= 71) {
    return;
  }
  if (browserDetails.browser === "safari" && browserDetails.version >= 605) {
    return;
  }
  const nativeSRD = window2.RTCPeerConnection.prototype.setRemoteDescription;
  window2.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {
    if (desc && desc.sdp && desc.sdp.indexOf("\na=extmap-allow-mixed") !== -1) {
      const sdp = desc.sdp.split("\n").filter((line) => {
        return line.trim() !== "a=extmap-allow-mixed";
      }).join("\n");
      if (window2.RTCSessionDescription && desc instanceof window2.RTCSessionDescription) {
        arguments[0] = new window2.RTCSessionDescription({
          type: desc.type,
          sdp
        });
      } else {
        desc.sdp = sdp;
      }
    }
    return nativeSRD.apply(this, arguments);
  };
}
function shimAddIceCandidateNullOrEmpty(window2, browserDetails) {
  if (!(window2.RTCPeerConnection && window2.RTCPeerConnection.prototype)) {
    return;
  }
  const nativeAddIceCandidate = window2.RTCPeerConnection.prototype.addIceCandidate;
  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {
    return;
  }
  window2.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {
    if (!arguments[0]) {
      if (arguments[1]) {
        arguments[1].apply(null);
      }
      return Promise.resolve();
    }
    if ((browserDetails.browser === "chrome" && browserDetails.version < 78 || browserDetails.browser === "firefox" && browserDetails.version < 68 || browserDetails.browser === "safari") && arguments[0] && arguments[0].candidate === "") {
      return Promise.resolve();
    }
    return nativeAddIceCandidate.apply(this, arguments);
  };
}
var import_sdp;
var init_common_shim = __esm({
  "node_modules/webrtc-adapter/src/js/common_shim.js"() {
    "use strict";
    init_define_process_env();
    import_sdp = __toESM(require_sdp());
    init_utils();
  }
});

// node_modules/webrtc-adapter/src/js/adapter_factory.js
function adapterFactory({ window: window2 } = {}, options = {
  shimChrome: true,
  shimFirefox: true,
  shimEdge: true,
  shimSafari: true
}) {
  const logging2 = log;
  const browserDetails = detectBrowser(window2);
  const adapter2 = {
    browserDetails,
    commonShim: common_shim_exports,
    extractVersion,
    disableLog,
    disableWarnings
  };
  switch (browserDetails.browser) {
    case "chrome":
      if (!chrome_shim_exports || !shimPeerConnection || !options.shimChrome) {
        logging2("Chrome shim is not included in this adapter release.");
        return adapter2;
      }
      if (browserDetails.version === null) {
        logging2("Chrome shim can not determine version, not shimming.");
        return adapter2;
      }
      logging2("adapter.js shimming chrome.");
      adapter2.browserShim = chrome_shim_exports;
      shimAddIceCandidateNullOrEmpty(window2, browserDetails);
      shimGetUserMedia(window2, browserDetails);
      shimMediaStream(window2, browserDetails);
      shimPeerConnection(window2, browserDetails);
      shimOnTrack(window2, browserDetails);
      shimAddTrackRemoveTrack(window2, browserDetails);
      shimGetSendersWithDtmf(window2, browserDetails);
      shimGetStats(window2, browserDetails);
      shimSenderReceiverGetStats(window2, browserDetails);
      fixNegotiationNeeded(window2, browserDetails);
      shimRTCIceCandidate(window2, browserDetails);
      shimConnectionState(window2, browserDetails);
      shimMaxMessageSize(window2, browserDetails);
      shimSendThrowTypeError(window2, browserDetails);
      removeExtmapAllowMixed(window2, browserDetails);
      break;
    case "firefox":
      if (!firefox_shim_exports || !shimPeerConnection3 || !options.shimFirefox) {
        logging2("Firefox shim is not included in this adapter release.");
        return adapter2;
      }
      logging2("adapter.js shimming firefox.");
      adapter2.browserShim = firefox_shim_exports;
      shimAddIceCandidateNullOrEmpty(window2, browserDetails);
      shimGetUserMedia3(window2, browserDetails);
      shimPeerConnection3(window2, browserDetails);
      shimOnTrack2(window2, browserDetails);
      shimRemoveStream(window2, browserDetails);
      shimSenderGetStats(window2, browserDetails);
      shimReceiverGetStats(window2, browserDetails);
      shimRTCDataChannel(window2, browserDetails);
      shimAddTransceiver(window2, browserDetails);
      shimGetParameters(window2, browserDetails);
      shimCreateOffer(window2, browserDetails);
      shimCreateAnswer(window2, browserDetails);
      shimRTCIceCandidate(window2, browserDetails);
      shimConnectionState(window2, browserDetails);
      shimMaxMessageSize(window2, browserDetails);
      shimSendThrowTypeError(window2, browserDetails);
      break;
    case "edge":
      if (!edge_shim_exports || !shimPeerConnection2 || !options.shimEdge) {
        logging2("MS edge shim is not included in this adapter release.");
        return adapter2;
      }
      logging2("adapter.js shimming edge.");
      adapter2.browserShim = edge_shim_exports;
      shimGetUserMedia2(window2, browserDetails);
      shimGetDisplayMedia2(window2, browserDetails);
      shimPeerConnection2(window2, browserDetails);
      shimReplaceTrack(window2, browserDetails);
      shimMaxMessageSize(window2, browserDetails);
      shimSendThrowTypeError(window2, browserDetails);
      break;
    case "safari":
      if (!safari_shim_exports || !options.shimSafari) {
        logging2("Safari shim is not included in this adapter release.");
        return adapter2;
      }
      logging2("adapter.js shimming safari.");
      adapter2.browserShim = safari_shim_exports;
      shimAddIceCandidateNullOrEmpty(window2, browserDetails);
      shimRTCIceServerUrls(window2, browserDetails);
      shimCreateOfferLegacy(window2, browserDetails);
      shimCallbacksAPI(window2, browserDetails);
      shimLocalStreamsAPI(window2, browserDetails);
      shimRemoteStreamsAPI(window2, browserDetails);
      shimTrackEventTransceiver(window2, browserDetails);
      shimGetUserMedia4(window2, browserDetails);
      shimAudioContext(window2, browserDetails);
      shimRTCIceCandidate(window2, browserDetails);
      shimMaxMessageSize(window2, browserDetails);
      shimSendThrowTypeError(window2, browserDetails);
      removeExtmapAllowMixed(window2, browserDetails);
      break;
    default:
      logging2("Unsupported browser!");
      break;
  }
  return adapter2;
}
var init_adapter_factory = __esm({
  "node_modules/webrtc-adapter/src/js/adapter_factory.js"() {
    init_define_process_env();
    init_utils();
    init_chrome_shim();
    init_edge_shim();
    init_firefox_shim();
    init_safari_shim();
    init_common_shim();
  }
});

// node_modules/webrtc-adapter/src/js/adapter_core.js
var adapter_core_exports = {};
__export(adapter_core_exports, {
  default: () => adapter_core_default
});
var adapter, adapter_core_default;
var init_adapter_core = __esm({
  "node_modules/webrtc-adapter/src/js/adapter_core.js"() {
    "use strict";
    init_define_process_env();
    init_adapter_factory();
    adapter = adapterFactory({ window: typeof window === "undefined" ? void 0 : window });
    adapter_core_default = adapter;
  }
});

// node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/index.js
var require_lib4 = __commonJS({
  "node_modules/@keystonehq/sdk/node_modules/react-qr-reader/lib/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var _createClass = function() {
      function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      return function(Constructor, protoProps, staticProps) {
        if (protoProps)
          defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          defineProperties(Constructor, staticProps);
        return Constructor;
      };
    }();
    var _class;
    var _temp;
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var React = require_react();
    var Component = React.Component;
    var PropTypes = require_prop_types();
    var _require = require_getDeviceId();
    var getDeviceId = _require.getDeviceId;
    var getFacingModePattern = _require.getFacingModePattern;
    var havePropsChanged = require_havePropsChanged();
    var createBlob = require_createBlob();
    init_adapter_core();
    var workerBlob = createBlob([`!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsQR=e():o.jsQR=e()}("undefined"!=typeof self?self:this,function(){return function(o){function e(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return o[t].call(c.exports,c,c.exports,e),c.l=!0,c.exports}var r={};return e.m=o,e.c=r,e.d=function(o,r,t){e.o(o,r)||Object.defineProperty(o,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(r,"a",r),r},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=3)}([function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(o,e){this.width=e,this.height=o.length/e,this.data=o}return o.createEmpty=function(e,r){return new o(new Uint8ClampedArray(e*r),e)},o.prototype.get=function(o,e){return!(o<0||o>=this.width||e<0||e>=this.height)&&!!this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r?1:0},o.prototype.setRegion=function(o,e,r,t,c){for(var s=e;s<e+t;s++)for(var a=o;a<o+r;a++)this.set(a,s,!!c)},o}();e.BitMatrix=t},function(o,e,r){"use strict";function t(o,e){return o^e}Object.defineProperty(e,"__esModule",{value:!0});var c=r(2);e.addOrSubtractGF=t;var s=function(){function o(o,e,r){this.primitive=o,this.size=e,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var t=1,s=0;s<this.size;s++)this.expTable[s]=t,(t*=2)>=this.size&&(t=(t^this.primitive)&this.size-1);for(var s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new c.default(this,Uint8ClampedArray.from([0])),this.one=new c.default(this,Uint8ClampedArray.from([1]))}return o.prototype.multiply=function(o,e){return 0===o||0===e?0:this.expTable[(this.logTable[o]+this.logTable[e])%(this.size-1)]},o.prototype.inverse=function(o){if(0===o)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[o]-1]},o.prototype.buildMonomial=function(o,e){if(o<0)throw new Error("Invalid monomial degree less than 0");if(0===e)return this.zero;var r=new Uint8ClampedArray(o+1);return r[0]=e,new c.default(this,r)},o.prototype.log=function(o){if(0===o)throw new Error("Can't take log(0)");return this.logTable[o]},o.prototype.exp=function(o){return this.expTable[o]},o}();e.default=s},function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(1),c=function(){function o(o,e){if(0===e.length)throw new Error("No coefficients.");this.field=o;var r=e.length;if(r>1&&0===e[0]){for(var t=1;t<r&&0===e[t];)t++;if(t===r)this.coefficients=o.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-t);for(var c=0;c<this.coefficients.length;c++)this.coefficients[c]=e[t+c]}}else this.coefficients=e}return o.prototype.degree=function(){return this.coefficients.length-1},o.prototype.isZero=function(){return 0===this.coefficients[0]},o.prototype.getCoefficient=function(o){return this.coefficients[this.coefficients.length-1-o]},o.prototype.addOrSubtract=function(e){if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,c=e.coefficients;r.length>c.length&&(n=[c,r],r=n[0],c=n[1]);for(var s=new Uint8ClampedArray(c.length),a=c.length-r.length,d=0;d<a;d++)s[d]=c[d];for(var d=a;d<c.length;d++)s[d]=t.addOrSubtractGF(r[d-a],c[d]);return new o(this.field,s);var n},o.prototype.multiply=function(e){if(0===e)return this.field.zero;if(1===e)return this;for(var r=this.coefficients.length,t=new Uint8ClampedArray(r),c=0;c<r;c++)t[c]=this.field.multiply(this.coefficients[c],e);return new o(this.field,t)},o.prototype.multiplyPoly=function(e){if(this.isZero()||e.isZero())return this.field.zero;for(var r=this.coefficients,c=r.length,s=e.coefficients,a=s.length,d=new Uint8ClampedArray(c+a-1),n=0;n<c;n++)for(var l=r[n],i=0;i<a;i++)d[n+i]=t.addOrSubtractGF(d[n+i],this.field.multiply(l,s[i]));return new o(this.field,d)},o.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Error("Invalid degree less than 0");if(0===r)return this.field.zero;for(var t=this.coefficients.length,c=new Uint8ClampedArray(t+e),s=0;s<t;s++)c[s]=this.field.multiply(this.coefficients[s],r);return new o(this.field,c)},o.prototype.evaluateAt=function(o){var e=0;if(0===o)return this.getCoefficient(0);var r=this.coefficients.length;if(1===o)return this.coefficients.forEach(function(o){e=t.addOrSubtractGF(e,o)}),e;e=this.coefficients[0];for(var c=1;c<r;c++)e=t.addOrSubtractGF(this.field.multiply(o,e),this.coefficients[c]);return e},o}();e.default=c},function(o,e,r){"use strict";function t(o){var e=n.locate(o);if(!e)return null;var r=d.extract(o,e),t=a.decode(r.matrix);return t?{binaryData:t.bytes,data:t.text,chunks:t.chunks,location:{topRightCorner:r.mappingFunction(e.dimension,0),topLeftCorner:r.mappingFunction(0,0),bottomRightCorner:r.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:r.mappingFunction(0,e.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern}}:null}function c(o,e,r,c){void 0===c&&(c={});var a=l;Object.keys(a||{}).forEach(function(o){a[o]=c[o]||a[o]});var d="attemptBoth"===a.inversionAttempts||"invertFirst"===a.inversionAttempts,n="onlyInvert"===a.inversionAttempts||"invertFirst"===a.inversionAttempts,i=s.binarize(o,e,r,d),B=i.binarized,k=i.inverted,u=t(n?k:B);return u||"attemptBoth"!==a.inversionAttempts&&"invertFirst"!==a.inversionAttempts||(u=t(n?B:k)),u}Object.defineProperty(e,"__esModule",{value:!0});var s=r(4),a=r(5),d=r(11),n=r(12),l={inversionAttempts:"attemptBoth"};c.default=c,e.default=c},function(o,e,r){"use strict";function t(o,e,r){return o<e?e:o>r?r:o}function c(o,e,r,c){if(o.length!==e*r*4)throw new Error("Malformed data passed to binarizer.");for(var l=new n(e,r),i=0;i<e;i++)for(var B=0;B<r;B++){var k=o[4*(B*e+i)+0],u=o[4*(B*e+i)+1],C=o[4*(B*e+i)+2];l.set(i,B,.2126*k+.7152*u+.0722*C)}for(var m=Math.ceil(e/a),f=Math.ceil(r/a),w=new n(m,f),P=0;P<f;P++)for(var v=0;v<m;v++){for(var h=0,p=1/0,y=0,B=0;B<a;B++)for(var i=0;i<a;i++){var b=l.get(v*a+i,P*a+B);h+=b,p=Math.min(p,b),y=Math.max(y,b)}var g=h/Math.pow(a,2);if(y-p<=d&&(g=p/2,P>0&&v>0)){var x=(w.get(v,P-1)+2*w.get(v-1,P)+w.get(v-1,P-1))/4;p<x&&(g=x)}w.set(v,P,g)}var M=s.BitMatrix.createEmpty(e,r),L=null;c&&(L=s.BitMatrix.createEmpty(e,r));for(var P=0;P<f;P++)for(var v=0;v<m;v++){for(var N=t(v,2,m-3),I=t(P,2,f-3),h=0,O=-2;O<=2;O++)for(var z=-2;z<=2;z++)h+=w.get(N+O,I+z);for(var S=h/25,O=0;O<a;O++)for(var z=0;z<a;z++){var i=v*a+O,B=P*a+z,X=l.get(i,B);M.set(i,B,X<=S),c&&L.set(i,B,!(X<=S))}}return c?{binarized:M,inverted:L}:{binarized:M}}Object.defineProperty(e,"__esModule",{value:!0});var s=r(0),a=8,d=24,n=function(){function o(o,e){this.width=o,this.data=new Uint8ClampedArray(o*e)}return o.prototype.get=function(o,e){return this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r},o}();e.binarize=c},function(o,e,r){"use strict";function t(o,e){for(var r=o^e,t=0;r;)t++,r&=r-1;return t}function c(o,e){return e<<1|o}function s(o){var e=17+4*o.versionNumber,r=k.BitMatrix.createEmpty(e,e);r.setRegion(0,0,9,9,!0),r.setRegion(e-8,0,8,9,!0),r.setRegion(0,e-8,9,8,!0);for(var t=0,c=o.alignmentPatternCenters;t<c.length;t++)for(var s=c[t],a=0,d=o.alignmentPatternCenters;a<d.length;a++){var n=d[a];6===s&&6===n||6===s&&n===e-7||s===e-7&&6===n||r.setRegion(s-2,n-2,5,5,!0)}return r.setRegion(6,9,1,e-17,!0),r.setRegion(9,6,e-17,1,!0),o.versionNumber>6&&(r.setRegion(e-11,0,3,6,!0),r.setRegion(0,e-11,6,3,!0)),r}function a(o,e,r){for(var t=w[r.dataMask],a=o.height,d=s(e),n=[],l=0,i=0,B=!0,k=a-1;k>0;k-=2){6===k&&k--;for(var u=0;u<a;u++)for(var C=B?a-1-u:u,m=0;m<2;m++){var f=k-m;if(!d.get(f,C)){i++;var P=o.get(f,C);t({y:C,x:f})&&(P=!P),l=c(P,l),8===i&&(n.push(l),i=0,l=0)}}B=!B}return n}function d(o){var e=o.height,r=Math.floor((e-17)/4);if(r<=6)return m.VERSIONS[r-1];for(var s=0,a=5;a>=0;a--)for(var d=e-9;d>=e-11;d--)s=c(o.get(d,a),s);for(var n=0,d=5;d>=0;d--)for(var a=e-9;a>=e-11;a--)n=c(o.get(d,a),n);for(var l,i=1/0,B=0,k=m.VERSIONS;B<k.length;B++){var u=k[B];if(u.infoBits===s||u.infoBits===n)return u;var C=t(s,u.infoBits);C<i&&(l=u,i=C),C=t(n,u.infoBits),C<i&&(l=u,i=C)}return i<=3?l:void 0}function n(o){for(var e=0,r=0;r<=8;r++)6!==r&&(e=c(o.get(r,8),e));for(var s=7;s>=0;s--)6!==s&&(e=c(o.get(8,s),e));for(var a=o.height,d=0,s=a-1;s>=a-7;s--)d=c(o.get(8,s),d);for(var r=a-8;r<a;r++)d=c(o.get(r,8),d);for(var n=1/0,l=null,i=0,B=f;i<B.length;i++){var k=B[i],u=k.bits,C=k.formatInfo;if(u===e||u===d)return C;var m=t(e,u);m<n&&(l=C,n=m),e!==d&&(m=t(d,u))<n&&(l=C,n=m)}return n<=3?l:null}function l(o,e,r){var t=e.errorCorrectionLevels[r],c=[],s=0;if(t.ecBlocks.forEach(function(o){for(var e=0;e<o.numBlocks;e++)c.push({numDataCodewords:o.dataCodewordsPerBlock,codewords:[]}),s+=o.dataCodewordsPerBlock+t.ecCodewordsPerBlock}),o.length<s)return null;o=o.slice(0,s);for(var a=t.ecBlocks[0].dataCodewordsPerBlock,d=0;d<a;d++)for(var n=0,l=c;n<l.length;n++){var i=l[n];i.codewords.push(o.shift())}if(t.ecBlocks.length>1)for(var B=t.ecBlocks[0].numBlocks,k=t.ecBlocks[1].numBlocks,d=0;d<k;d++)c[B+d].codewords.push(o.shift());for(;o.length>0;)for(var u=0,C=c;u<C.length;u++){var i=C[u];i.codewords.push(o.shift())}return c}function i(o){var e=d(o);if(!e)return null;var r=n(o);if(!r)return null;var t=a(o,e,r),c=l(t,e,r.errorCorrectionLevel);if(!c)return null;for(var s=c.reduce(function(o,e){return o+e.numDataCodewords},0),i=new Uint8ClampedArray(s),B=0,k=0,m=c;k<m.length;k++){var f=m[k],w=C.decode(f.codewords,f.codewords.length-f.numDataCodewords);if(!w)return null;for(var P=0;P<f.numDataCodewords;P++)i[B++]=w[P]}try{return u.decode(i,e.versionNumber)}catch(o){return null}}function B(o){if(null==o)return null;var e=i(o);if(e)return e;for(var r=0;r<o.width;r++)for(var t=r+1;t<o.height;t++)o.get(r,t)!==o.get(t,r)&&(o.set(r,t,!o.get(r,t)),o.set(t,r,!o.get(t,r)));return i(o)}Object.defineProperty(e,"__esModule",{value:!0});var k=r(0),u=r(6),C=r(9),m=r(10),f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],w=[function(o){return(o.y+o.x)%2==0},function(o){return o.y%2==0},function(o){return o.x%3==0},function(o){return(o.y+o.x)%3==0},function(o){return(Math.floor(o.y/2)+Math.floor(o.x/3))%2==0},function(o){return o.x*o.y%2+o.x*o.y%3==0},function(o){return(o.y*o.x%2+o.y*o.x%3)%2==0},function(o){return((o.y+o.x)%2+o.y*o.x%3)%2==0}];e.decode=B},function(o,e,r){"use strict";function t(o,e){for(var r=[],t="",c=[10,12,14][e],s=o.readBits(c);s>=3;){var a=o.readBits(10);if(a>=1e3)throw new Error("Invalid numeric value above 999");var d=Math.floor(a/100),n=Math.floor(a/10)%10,l=a%10;r.push(48+d,48+n,48+l),t+=d.toString()+n.toString()+l.toString(),s-=3}if(2===s){var a=o.readBits(7);if(a>=100)throw new Error("Invalid numeric value above 99");var d=Math.floor(a/10),n=a%10;r.push(48+d,48+n),t+=d.toString()+n.toString()}else if(1===s){var a=o.readBits(4);if(a>=10)throw new Error("Invalid numeric value above 9");r.push(48+a),t+=a.toString()}return{bytes:r,text:t}}function c(o,e){for(var r=[],t="",c=[9,11,13][e],s=o.readBits(c);s>=2;){var a=o.readBits(11),d=Math.floor(a/45),n=a%45;r.push(k[d].charCodeAt(0),k[n].charCodeAt(0)),t+=k[d]+k[n],s-=2}if(1===s){var d=o.readBits(6);r.push(k[d].charCodeAt(0)),t+=k[d]}return{bytes:r,text:t}}function s(o,e){for(var r=[],t="",c=[8,16,16][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(8);r.push(d)}try{t+=decodeURIComponent(r.map(function(o){return"%"+("0"+o.toString(16)).substr(-2)}).join(""))}catch(o){}return{bytes:r,text:t}}function a(o,e){for(var r=[],t="",c=[8,10,12][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(13),n=Math.floor(d/192)<<8|d%192;n+=n<7936?33088:49472,r.push(n>>8,255&n),t+=String.fromCharCode(i.shiftJISTable[n])}return{bytes:r,text:t}}function d(o,e){for(var r=new l.BitStream(o),d=e<=9?0:e<=26?1:2,i={text:"",bytes:[],chunks:[]};r.available()>=4;){var k=r.readBits(4);if(k===B.Terminator)return i;if(k===B.ECI)0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(21)}):i.chunks.push({type:n.ECI,assignmentNumber:-1});else if(k===B.Numeric){var u=t(r,d);i.text+=u.text,(w=i.bytes).push.apply(w,u.bytes),i.chunks.push({type:n.Numeric,text:u.text})}else if(k===B.Alphanumeric){var C=c(r,d);i.text+=C.text,(P=i.bytes).push.apply(P,C.bytes),i.chunks.push({type:n.Alphanumeric,text:C.text})}else if(k===B.Byte){var m=s(r,d);i.text+=m.text,(v=i.bytes).push.apply(v,m.bytes),i.chunks.push({type:n.Byte,bytes:m.bytes,text:m.text})}else if(k===B.Kanji){var f=a(r,d);i.text+=f.text,(h=i.bytes).push.apply(h,f.bytes),i.chunks.push({type:n.Kanji,bytes:f.bytes,text:f.text})}}var w,P,v,h}Object.defineProperty(e,"__esModule",{value:!0});var n,l=r(7),i=r(8);!function(o){o.Numeric="numeric",o.Alphanumeric="alphanumeric",o.Byte="byte",o.Kanji="kanji",o.ECI="eci"}(n=e.Mode||(e.Mode={}));var B;!function(o){o[o.Terminator=0]="Terminator",o[o.Numeric=1]="Numeric",o[o.Alphanumeric=2]="Alphanumeric",o[o.Byte=4]="Byte",o[o.Kanji=8]="Kanji",o[o.ECI=7]="ECI"}(B||(B={}));var k=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];e.decode=d},function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(o){this.byteOffset=0,this.bitOffset=0,this.bytes=o}return o.prototype.readBits=function(o){if(o<1||o>32||o>this.available())throw new Error("Cannot read "+o.toString()+" bits");var e=0;if(this.bitOffset>0){var r=8-this.bitOffset,t=o<r?o:r,c=r-t,s=255>>8-t<<c;e=(this.bytes[this.byteOffset]&s)>>c,o-=t,this.bitOffset+=t,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(o>0){for(;o>=8;)e=e<<8|255&this.bytes[this.byteOffset],this.byteOffset++,o-=8;if(o>0){var c=8-o,s=255>>c<<c;e=e<<o|(this.bytes[this.byteOffset]&s)>>c,this.bitOffset+=o}}return e},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();e.BitStream=t},function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,
36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,
39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,
59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(o,e,r){"use strict";function t(o,e,r,t){e.degree()<r.degree()&&(w=[r,e],e=w[0],r=w[1]);for(var c=e,s=r,a=o.zero,d=o.one;s.degree()>=t/2;){var n=c,l=a;if(c=s,a=d,c.isZero())return null;s=n;for(var i=o.zero,B=c.getCoefficient(c.degree()),k=o.inverse(B);s.degree()>=c.degree()&&!s.isZero();){var u=s.degree()-c.degree(),C=o.multiply(s.getCoefficient(s.degree()),k);i=i.addOrSubtract(o.buildMonomial(u,C)),s=s.addOrSubtract(c.multiplyByMonomial(u,C))}if(d=i.multiplyPoly(a).addOrSubtract(l),s.degree()>=c.degree())return null}var m=d.getCoefficient(0);if(0===m)return null;var f=o.inverse(m);return[d.multiply(f),s.multiply(f)];var w}function c(o,e){var r=e.degree();if(1===r)return[e.getCoefficient(1)];for(var t=new Array(r),c=0,s=1;s<o.size&&c<r;s++)0===e.evaluateAt(s)&&(t[c]=o.inverse(s),c++);return c!==r?null:t}function s(o,e,r){for(var t=r.length,c=new Array(t),s=0;s<t;s++){for(var a=o.inverse(r[s]),n=1,l=0;l<t;l++)s!==l&&(n=o.multiply(n,d.addOrSubtractGF(1,o.multiply(r[l],a))));c[s]=o.multiply(e.evaluateAt(a),o.inverse(n)),0!==o.generatorBase&&(c[s]=o.multiply(c[s],a))}return c}function a(o,e){var r=new Uint8ClampedArray(o.length);r.set(o);for(var a=new d.default(285,256,0),l=new n.default(a,r),i=new Uint8ClampedArray(e),B=!1,k=0;k<e;k++){var u=l.evaluateAt(a.exp(k+a.generatorBase));i[i.length-1-k]=u,0!==u&&(B=!0)}if(!B)return r;var C=new n.default(a,i),m=t(a,a.buildMonomial(e,1),C,e);if(null===m)return null;var f=c(a,m[0]);if(null==f)return null;for(var w=s(a,m[1],f),P=0;P<f.length;P++){var v=r.length-1-a.log(f[P]);if(v<0)return null;r[v]=d.addOrSubtractGF(r[v],w[P])}return r}Object.defineProperty(e,"__esModule",{value:!0});var d=r(1),n=r(2);e.decode=a},function(o,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(o,e,r){"use strict";function t(o,e,r,t){var c=o.x-e.x+r.x-t.x,s=o.y-e.y+r.y-t.y;if(0===c&&0===s)return{a11:e.x-o.x,a12:e.y-o.y,a13:0,a21:r.x-e.x,a22:r.y-e.y,a23:0,a31:o.x,a32:o.y,a33:1};var a=e.x-r.x,d=t.x-r.x,n=e.y-r.y,l=t.y-r.y,i=a*l-d*n,B=(c*l-d*s)/i,k=(a*s-c*n)/i;return{a11:e.x-o.x+B*e.x,a12:e.y-o.y+B*e.y,a13:B,a21:t.x-o.x+k*t.x,a22:t.y-o.y+k*t.y,a23:k,a31:o.x,a32:o.y,a33:1}}function c(o,e,r,c){var s=t(o,e,r,c);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}function s(o,e){return{a11:o.a11*e.a11+o.a21*e.a12+o.a31*e.a13,a12:o.a12*e.a11+o.a22*e.a12+o.a32*e.a13,a13:o.a13*e.a11+o.a23*e.a12+o.a33*e.a13,a21:o.a11*e.a21+o.a21*e.a22+o.a31*e.a23,a22:o.a12*e.a21+o.a22*e.a22+o.a32*e.a23,a23:o.a13*e.a21+o.a23*e.a22+o.a33*e.a23,a31:o.a11*e.a31+o.a21*e.a32+o.a31*e.a33,a32:o.a12*e.a31+o.a22*e.a32+o.a32*e.a33,a33:o.a13*e.a31+o.a23*e.a32+o.a33*e.a33}}function a(o,e){for(var r=c({x:3.5,y:3.5},{x:e.dimension-3.5,y:3.5},{x:e.dimension-6.5,y:e.dimension-6.5},{x:3.5,y:e.dimension-3.5}),a=t(e.topLeft,e.topRight,e.alignmentPattern,e.bottomLeft),n=s(a,r),l=d.BitMatrix.createEmpty(e.dimension,e.dimension),i=function(o,e){var r=n.a13*o+n.a23*e+n.a33;return{x:(n.a11*o+n.a21*e+n.a31)/r,y:(n.a12*o+n.a22*e+n.a32)/r}},B=0;B<e.dimension;B++)for(var k=0;k<e.dimension;k++){var u=k+.5,C=B+.5,m=i(u,C);l.set(k,B,o.get(Math.floor(m.x),Math.floor(m.y)))}return{matrix:l,mappingFunction:i}}Object.defineProperty(e,"__esModule",{value:!0});var d=r(0);e.extract=a},function(o,e,r){"use strict";function t(o){return o.reduce(function(o,e){return o+e})}function c(o,e,r){var t,c,s,a=C(o,e),d=C(e,r),n=C(o,r);return d>=a&&d>=n?(l=[e,o,r],t=l[0],c=l[1],s=l[2]):n>=d&&n>=a?(i=[o,e,r],t=i[0],c=i[1],s=i[2]):(B=[o,r,e],t=B[0],c=B[1],s=B[2]),(s.x-c.x)*(t.y-c.y)-(s.y-c.y)*(t.x-c.x)<0&&(k=[s,t],t=k[0],s=k[1]),{bottomLeft:t,topLeft:c,topRight:s};var l,i,B,k}function s(o,e,r,c){var s=(t(d(o,r,c,5))/7+t(d(o,e,c,5))/7+t(d(r,o,c,5))/7+t(d(e,o,c,5))/7)/4;if(s<1)throw new Error("Invalid module size");var a=Math.round(C(o,e)/s),n=Math.round(C(o,r)/s),l=Math.floor((a+n)/2)+7;switch(l%4){case 0:l++;break;case 2:l--}return{dimension:l,moduleSize:s}}function a(o,e,r,t){var c,s,a,d,n=[{x:Math.floor(o.x),y:Math.floor(o.y)}],l=Math.abs(e.y-o.y)>Math.abs(e.x-o.x);l?(c=Math.floor(o.y),s=Math.floor(o.x),a=Math.floor(e.y),d=Math.floor(e.x)):(c=Math.floor(o.x),s=Math.floor(o.y),a=Math.floor(e.x),d=Math.floor(e.y));for(var i=Math.abs(a-c),B=Math.abs(d-s),k=Math.floor(-i/2),u=c<a?1:-1,m=s<d?1:-1,f=!0,w=c,P=s;w!==a+u;w+=u){var v=l?P:w,h=l?w:P;if(r.get(v,h)!==f&&(f=!f,n.push({x:v,y:h}),n.length===t+1))break;if((k+=B)>0){if(P===d)break;P+=m,k-=i}}for(var p=[],y=0;y<t;y++)n[y]&&n[y+1]?p.push(C(n[y],n[y+1])):p.push(0);return p}function d(o,e,r,t){var c=e.y-o.y,s=e.x-o.x,d=a(o,e,r,Math.ceil(t/2)),n=a(o,{x:o.x-s,y:o.y-c},r,Math.ceil(t/2)),l=d.shift()+n.shift()-1;return(i=n.concat(l)).concat.apply(i,d);var i}function n(o,e){var r=t(o)/t(e),c=0;return e.forEach(function(e,t){c+=Math.pow(o[t]-e*r,2)}),{averageSize:r,error:c}}function l(o,e,r){try{var t=d(o,{x:-1,y:o.y},r,e.length),c=d(o,{x:o.x,y:-1},r,e.length),s={x:Math.max(0,o.x-o.y)-1,y:Math.max(0,o.y-o.x)-1},a=d(o,s,r,e.length),l={x:Math.min(r.width,o.x+o.y)+1,y:Math.min(r.height,o.y+o.x)+1},i=d(o,l,r,e.length),B=n(t,e),k=n(c,e),u=n(a,e),C=n(i,e),m=Math.sqrt(B.error*B.error+k.error*k.error+u.error*u.error+C.error*C.error),f=(B.averageSize+k.averageSize+u.averageSize+C.averageSize)/4;return m+(Math.pow(B.averageSize-f,2)+Math.pow(k.averageSize-f,2)+Math.pow(u.averageSize-f,2)+Math.pow(C.averageSize-f,2))/f}catch(o){return 1/0}}function i(o){for(var e=[],r=[],a=[],d=[],n=0;n<=o.height;n++)!function(c){for(var s=0,n=!1,l=[0,0,0,0,0],i=-1;i<=o.width;i++)!function(e){var a=o.get(e,c);if(a===n)s++;else{l=[l[1],l[2],l[3],l[4],s],s=1,n=a;var i=t(l)/7,B=Math.abs(l[0]-i)<i&&Math.abs(l[1]-i)<i&&Math.abs(l[2]-3*i)<3*i&&Math.abs(l[3]-i)<i&&Math.abs(l[4]-i)<i&&!a,C=t(l.slice(-3))/3,m=Math.abs(l[2]-C)<C&&Math.abs(l[3]-C)<C&&Math.abs(l[4]-C)<C&&a;if(B){var f=e-l[3]-l[4],w=f-l[2],P={startX:w,endX:f,y:c},v=r.filter(function(o){return w>=o.bottom.startX&&w<=o.bottom.endX||f>=o.bottom.startX&&w<=o.bottom.endX||w<=o.bottom.startX&&f>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:r.push({top:P,bottom:P})}if(m){var h=e-l[4],p=h-l[3],P={startX:p,y:c,endX:h},v=d.filter(function(o){return p>=o.bottom.startX&&p<=o.bottom.endX||h>=o.bottom.startX&&p<=o.bottom.endX||p<=o.bottom.startX&&h>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:d.push({top:P,bottom:P})}}}(i);e.push.apply(e,r.filter(function(o){return o.bottom.y!==c&&o.bottom.y-o.top.y>=2})),r=r.filter(function(o){return o.bottom.y===c}),a.push.apply(a,d.filter(function(o){return o.bottom.y!==c})),d=d.filter(function(o){return o.bottom.y===c})}(n);e.push.apply(e,r.filter(function(o){return o.bottom.y-o.top.y>=2})),a.push.apply(a,d);var i=e.filter(function(o){return o.bottom.y-o.top.y>=2}).map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.round(r),Math.round(c))){
var s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1],a=t(s)/s.length;return{score:l({x:Math.round(r),y:Math.round(c)},[1,1,3,1,1],o),x:r,y:c,size:a}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}).map(function(o,e,r){if(e>B)return null;var t=r.filter(function(o,r){return e!==r}).map(function(e){return{x:e.x,y:e.y,score:e.score+Math.pow(e.size-o.size,2)/o.size,size:e.size}}).sort(function(o,e){return o.score-e.score});if(t.length<2)return null;var c=o.score+t[0].score+t[1].score;return{points:[o].concat(t.slice(0,2)),score:c}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score});if(0===i.length)return null;var m,f,w=c(i[0].points[0],i[0].points[1],i[0].points[2]),P=w.topRight,v=w.topLeft,h=w.bottomLeft;try{L=s(v,P,h,o),m=L.dimension,f=L.moduleSize}catch(o){return null}var p={x:P.x-v.x+h.x,y:P.y-v.y+h.y},y=(C(v,h)+C(v,P))/2/f,b=1-3/y,g={x:v.x+b*(p.x-v.x),y:v.y+b*(p.y-v.y)},x=a.map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.floor(r),Math.floor(c))){var s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1];t(s);return{x:r,y:c,score:l({x:Math.floor(r),y:Math.floor(c)},[1,1,1],o)+C({x:r,y:c},g)}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}),M=y>=15&&x.length?x[0]:g;return{alignmentPattern:{x:M.x,y:M.y},bottomLeft:{x:h.x,y:h.y},dimension:m,topLeft:{x:v.x,y:v.y},topRight:{x:P.x,y:P.y}};var L}Object.defineProperty(e,"__esModule",{value:!0});var B=4,k=.5,u=1.5,C=function(o,e){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))};e.locate=i}]).default}),self.addEventListener("message",function(o){var e=jsQR(o.data.data,o.data.width,o.data.height);e?postMessage(e.data):postMessage(null)});`], {
      type: "application/javascript"
    });
    var propsKeys = ["delay", "legacyMode", "facingMode"];
    module.exports = (_temp = _class = function(_Component) {
      _inherits(Reader, _Component);
      function Reader(props) {
        _classCallCheck(this, Reader);
        var _this = _possibleConstructorReturn(this, (Reader.__proto__ || Object.getPrototypeOf(Reader)).call(this, props));
        _this.els = {};
        _this.state = {
          mirrorVideo: false
        };
        _this.initiate = _this.initiate.bind(_this);
        _this.initiateLegacyMode = _this.initiateLegacyMode.bind(_this);
        _this.check = _this.check.bind(_this);
        _this.handleVideo = _this.handleVideo.bind(_this);
        _this.handleLoadStart = _this.handleLoadStart.bind(_this);
        _this.handleInputChange = _this.handleInputChange.bind(_this);
        _this.clearComponent = _this.clearComponent.bind(_this);
        _this.handleReaderLoad = _this.handleReaderLoad.bind(_this);
        _this.openImageDialog = _this.openImageDialog.bind(_this);
        _this.handleWorkerMessage = _this.handleWorkerMessage.bind(_this);
        _this.setRefFactory = _this.setRefFactory.bind(_this);
        return _this;
      }
      _createClass(Reader, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          this.worker = new Worker(URL.createObjectURL(workerBlob));
          this.worker.onmessage = this.handleWorkerMessage;
          if (!this.props.legacyMode) {
            this.initiate();
          } else {
            this.initiateLegacyMode();
          }
        }
      }, {
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps2(nextProps) {
          var changedProps = havePropsChanged(this.props, nextProps, propsKeys);
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = void 0;
          try {
            for (var _iterator = changedProps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var prop = _step.value;
              if (prop == "facingMode") {
                this.clearComponent();
                this.initiate(nextProps);
                break;
              } else if (prop == "delay") {
                if (this.props.delay == false && !nextProps.legacyMode) {
                  this.timeout = setTimeout(this.check, nextProps.delay);
                }
                if (nextProps.delay == false) {
                  clearTimeout(this.timeout);
                }
              } else if (prop == "legacyMode") {
                if (this.props.legacyMode && !nextProps.legacyMode) {
                  this.clearComponent();
                  this.initiate(nextProps);
                } else {
                  this.clearComponent();
                  this.componentDidUpdate = this.initiateLegacyMode;
                }
                break;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }, {
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps, nextState) {
          if (nextState !== this.state) {
            return true;
          }
          var changedProps = havePropsChanged(this.props, nextProps, propsKeys);
          return changedProps.length > 0;
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          if (this.worker) {
            this.worker.terminate();
            this.worker = void 0;
          }
          this.clearComponent();
        }
      }, {
        key: "clearComponent",
        value: function clearComponent() {
          if (this.timeout) {
            clearTimeout(this.timeout);
            this.timeout = void 0;
          }
          if (this.stopCamera) {
            this.stopCamera();
          }
          if (this.reader) {
            this.reader.removeEventListener("load", this.handleReaderLoad);
          }
          if (this.els.img) {
            this.els.img.removeEventListener("load", this.check);
          }
        }
      }, {
        key: "initiate",
        value: function initiate() {
          var props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.props;
          var onError = props.onError, facingMode = props.facingMode;
          var isFirefox = /firefox/i.test(navigator.userAgent);
          var supported = {};
          if (navigator.mediaDevices && typeof navigator.mediaDevices.getSupportedConstraints === "function") {
            supported = navigator.mediaDevices.getSupportedConstraints();
          }
          var constraints = {};
          if (supported.facingMode) {
            constraints.facingMode = { ideal: facingMode };
          }
          if (supported.frameRate) {
            constraints.frameRate = { ideal: 25, min: 10 };
          }
          var vConstraintsPromise = supported.facingMode || isFirefox ? Promise.resolve(props.constraints || constraints) : getDeviceId(facingMode).then(function(deviceId) {
            return Object.assign({}, { deviceId }, props.constraints);
          });
          vConstraintsPromise.then(function(video) {
            return navigator.mediaDevices.getUserMedia({ video });
          }).then(this.handleVideo).catch(onError);
        }
      }, {
        key: "handleVideo",
        value: function handleVideo(stream) {
          var preview = this.els.preview;
          var facingMode = this.props.facingMode;
          if (!preview) {
            return setTimeout(this.handleVideo, 200, stream);
          }
          if ((preview || {}).srcObject !== void 0) {
            preview.srcObject = stream;
          } else if (preview.mozSrcObject !== void 0) {
            preview.mozSrcObject = stream;
          } else if (window.URL.createObjectURL) {
            preview.src = window.URL.createObjectURL(stream);
          } else if (window.webkitURL) {
            preview.src = window.webkitURL.createObjectURL(stream);
          } else {
            preview.src = stream;
          }
          preview.playsInline = true;
          var streamTrack = stream.getTracks()[0];
          this.stopCamera = streamTrack.stop.bind(streamTrack);
          preview.addEventListener("loadstart", this.handleLoadStart);
          this.setState({ mirrorVideo: facingMode == "user", streamLabel: streamTrack.label });
        }
      }, {
        key: "handleLoadStart",
        value: function handleLoadStart() {
          var _props = this.props, delay = _props.delay, onLoad = _props.onLoad;
          var _state = this.state, mirrorVideo = _state.mirrorVideo, streamLabel = _state.streamLabel;
          var preview = this.els.preview;
          preview.play();
          if (typeof onLoad == "function") {
            onLoad({ mirrorVideo, streamLabel });
          }
          if (typeof delay == "number") {
            this.timeout = setTimeout(this.check, delay);
          }
          preview.removeEventListener("loadstart", this.handleLoadStart);
        }
      }, {
        key: "check",
        value: function check() {
          var _props2 = this.props, legacyMode = _props2.legacyMode, resolution = _props2.resolution, delay = _props2.delay;
          var _els = this.els, preview = _els.preview, canvas = _els.canvas, img = _els.img;
          var width = Math.floor(legacyMode ? img.naturalWidth : preview.videoWidth);
          var height = Math.floor(legacyMode ? img.naturalHeight : preview.videoHeight);
          var hozOffset = 0;
          var vertOffset = 0;
          if (legacyMode) {
            var greatestSize = width > height ? width : height;
            var ratio = resolution / greatestSize;
            height = ratio * height;
            width = ratio * width;
            canvas.width = width;
            canvas.height = height;
          } else {
            var smallestSize = width < height ? width : height;
            var _ratio = resolution / smallestSize;
            height = _ratio * height;
            width = _ratio * width;
            vertOffset = (height - resolution) / 2 * -1;
            hozOffset = (width - resolution) / 2 * -1;
            canvas.width = resolution;
            canvas.height = resolution;
          }
          var previewIsPlaying = preview && preview.readyState === preview.HAVE_ENOUGH_DATA;
          if (legacyMode || previewIsPlaying) {
            var ctx = canvas.getContext("2d");
            ctx.drawImage(legacyMode ? img : preview, hozOffset, vertOffset, width, height);
            var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            this.worker.postMessage(imageData);
          } else {
            this.timeout = setTimeout(this.check, delay);
          }
        }
      }, {
        key: "handleWorkerMessage",
        value: function handleWorkerMessage(e) {
          var _props3 = this.props, onScan = _props3.onScan, legacyMode = _props3.legacyMode, delay = _props3.delay;
          var decoded = e.data;
          onScan(decoded || null);
          if (!legacyMode && typeof delay == "number" && this.worker) {
            this.timeout = setTimeout(this.check, delay);
          }
        }
      }, {
        key: "initiateLegacyMode",
        value: function initiateLegacyMode() {
          this.reader = new FileReader();
          this.reader.addEventListener("load", this.handleReaderLoad);
          this.els.img.addEventListener("load", this.check, false);
          this.componentDidUpdate = void 0;
          if (typeof this.props.onLoad == "function") {
            this.props.onLoad();
          }
        }
      }, {
        key: "handleInputChange",
        value: function handleInputChange(e) {
          var selectedImg = e.target.files[0];
          this.reader.readAsDataURL(selectedImg);
        }
      }, {
        key: "handleReaderLoad",
        value: function handleReaderLoad(e) {
          this.els.img.src = e.target.result;
        }
      }, {
        key: "openImageDialog",
        value: function openImageDialog() {
          this.els.input.click();
        }
      }, {
        key: "setRefFactory",
        value: function setRefFactory(key) {
          var _this2 = this;
          return function(element) {
            _this2.els[key] = element;
          };
        }
      }, {
        key: "render",
        value: function render() {
          var _props4 = this.props, style = _props4.style, className = _props4.className, onImageLoad = _props4.onImageLoad, legacyMode = _props4.legacyMode, showViewFinder = _props4.showViewFinder, facingMode = _props4.facingMode;
          var containerStyle = {
            overflow: "hidden",
            position: "relative",
            width: "100%",
            paddingTop: "100%"
          };
          var hiddenStyle = { display: "none" };
          var previewStyle = {
            top: 0,
            left: 0,
            display: "block",
            position: "absolute",
            overflow: "hidden",
            width: "100%",
            height: "100%"
          };
          var videoPreviewStyle = _extends({}, previewStyle, {
            objectFit: "cover",
            transform: this.state.mirrorVideo ? "scaleX(-1)" : void 0
          });
          var imgPreviewStyle = _extends({}, previewStyle, {
            objectFit: "scale-down"
          });
          var viewFinderStyle = {
            top: 0,
            left: 0,
            zIndex: 1,
            boxSizing: "border-box",
            border: "50px solid rgba(0, 0, 0, 0.3)",
            boxShadow: "inset 0 0 0 5px rgba(255, 0, 0, 0.5)",
            position: "absolute",
            width: "100%",
            height: "100%"
          };
          return React.createElement("section", { className, style }, React.createElement("section", { style: containerStyle }, !legacyMode && showViewFinder ? React.createElement("div", { style: viewFinderStyle }) : null, legacyMode ? React.createElement("input", {
            style: hiddenStyle,
            type: "file",
            accept: "image/*",
            ref: this.setRefFactory("input"),
            onChange: this.handleInputChange
          }) : null, legacyMode ? React.createElement("img", { style: imgPreviewStyle, ref: this.setRefFactory("img"), onLoad: onImageLoad }) : React.createElement("video", { style: videoPreviewStyle, ref: this.setRefFactory("preview") }), React.createElement("canvas", { style: hiddenStyle, ref: this.setRefFactory("canvas") })));
        }
      }]);
      return Reader;
    }(Component), _class.propTypes = {
      onScan: PropTypes.func.isRequired,
      onError: PropTypes.func.isRequired,
      onLoad: PropTypes.func,
      onImageLoad: PropTypes.func,
      delay: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),
      facingMode: PropTypes.oneOf(["user", "environment"]),
      legacyMode: PropTypes.bool,
      resolution: PropTypes.number,
      showViewFinder: PropTypes.bool,
      style: PropTypes.any,
      className: PropTypes.string,
      constraints: PropTypes.object
    }, _class.defaultProps = {
      delay: 500,
      resolution: 600,
      facingMode: "environment",
      showViewFinder: true,
      constraints: null
    }, _temp);
  }
});

// node_modules/@keystonehq/sdk/dist/sdk.cjs.development.js
var require_sdk_cjs_development = __commonJS({
  "node_modules/@keystonehq/sdk/dist/sdk.cjs.development.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    function _interopNamespace(e) {
      if (e && e.__esModule) {
        return e;
      } else {
        var n = {};
        if (e) {
          Object.keys(e).forEach(function(k) {
            var d = Object.getOwnPropertyDescriptor(e, k);
            Object.defineProperty(n, k, d.get ? d : {
              enumerable: true,
              get: function() {
                return e[k];
              }
            });
          });
        }
        n["default"] = e;
        return n;
      }
    }
    var ReactDOM = _interopDefault(require_react_dom());
    var React = require_react();
    var React__default = _interopDefault(React);
    var Modal = _interopDefault(require_lib2());
    var events = require_events();
    var rxjs = (init_esm5(), __toCommonJS(esm5_exports));
    var QRCode = _interopDefault(require_lib3());
    var bcUr = require_dist3();
    var BaseQRCode = ({
      size = 200,
      data = "",
      ecl = "L"
    }) => {
      return React__default.createElement(QRCode, {
        value: data,
        size,
        level: ecl
      });
    };
    (function(ReadStatus) {
      ReadStatus["canceled"] = "canceled";
      ReadStatus["success"] = "success";
    })(exports.ReadStatus || (exports.ReadStatus = {}));
    (function(PlayStatus) {
      PlayStatus["canceled"] = "canceled";
      PlayStatus["success"] = "success";
    })(exports.PlayStatus || (exports.PlayStatus = {}));
    (function(SupportedResult) {
      SupportedResult["UR_BYTES"] = "bytes";
      SupportedResult["UR_CRYPTO_HDKEY"] = "crypto-hdkey";
      SupportedResult["UR_CRYPTO_ACCOUNT"] = "crypto-account";
      SupportedResult["UR_ETH_SIGN_REQUEST"] = "eth-sign-request";
      SupportedResult["UR_ETH_SIGNATURE"] = "eth-signature";
    })(exports.SupportedResult || (exports.SupportedResult = {}));
    var styleBase = {
      minWidth: "16rem",
      height: "3rem",
      background: "#784FFE",
      borderColor: "grey",
      borderRadius: "8px",
      borderWidth: 1,
      color: "white",
      outline: "none",
      margin: 2
    };
    var Button = (props) => {
      const {
        onClick,
        children
      } = props;
      return React__default.createElement("button", {
        onClick,
        style: styleBase
      }, children);
    };
    var ButtonGroup = (props) => {
      return React__default.createElement("div", {
        style: {
          width: "100%",
          marginTop: "1rem",
          display: "flex",
          flexDirection: "row-reverse",
          alignItems: "center",
          justifyContent: "center"
        }
      }, props.children);
    };
    var DEFAULT_SPEED = 100;
    var DEFAULT_UR = new bcUr.UR(Buffer.from("NO DATA", "utf-8"));
    var useAnimatedQRCodePlayer = () => {
      const [data, setData] = React.useState(DEFAULT_UR);
      const [shouldShow, setShouldShow] = React.useState(false);
      const [refreshSpeed, setRefreshSpeed] = React.useState(DEFAULT_SPEED);
      const [hasNext, setHasNext] = React.useState(false);
      const [title, setTitle] = React.useState(null);
      const [description, setDescription] = React.useState(null);
      const urEncoder = React.useMemo(() => new bcUr.UREncoder(data), [data]);
      const [qr, setQR] = React.useState(urEncoder.nextPart());
      const ee = React.useMemo(() => new events.EventEmitter(), []);
      const reset = () => {
        setData(DEFAULT_UR);
        setShouldShow(false);
        setRefreshSpeed(DEFAULT_SPEED);
      };
      React.useEffect(() => {
        if (urEncoder.cbor.toString("hex") !== DEFAULT_UR.cbor.toString("hex")) {
          setShouldShow(true);
        }
      }, [urEncoder]);
      React.useEffect(() => {
        const subscribe = rxjs.interval(refreshSpeed).subscribe(() => {
          setQR(urEncoder.nextPart());
        });
        return () => {
          subscribe.unsubscribe();
        };
      }, [refreshSpeed, urEncoder]);
      const finish = () => {
        ee.emit("finish", true);
      };
      const element = shouldShow ? React__default.createElement("div", {
        style: {
          display: "flex",
          flexDirection: "column",
          alignItems: "center"
        }
      }, title && React__default.createElement("p", {
        style: {
          fontSize: "1.25rem",
          fontWeight: "bold"
        }
      }, title), React__default.createElement(BaseQRCode, {
        size: 288,
        data: qr
      }), description && React__default.createElement("p", {
        style: {
          fontSize: "1rem",
          textAlign: "center"
        }
      }, description), React__default.createElement(ButtonGroup, null, React__default.createElement(Button, {
        onClick: finish
      }, hasNext ? "Scan Keystone" : "Finish"))) : React__default.createElement("div", null);
      return [element, {
        play: (data2, options) => {
          return new Promise((resolve) => {
            setData(data2);
            if (options) {
              options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);
              options.hasNext && setHasNext(options.hasNext);
              options.title && setTitle(options.title);
              options.description && setDescription(options.description);
            }
            ee.once("finish", () => {
              reset();
              resolve(exports.PlayStatus.success);
            });
          });
        }
      }];
    };
    var URTypeError = class extends Error {
      constructor(msg) {
        super(msg);
        Object.setPrototypeOf(this, URTypeError.prototype);
      }
    };
    var LoadingSpinner = () => {
      return React__default.createElement("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        style: {
          margin: "auto",
          display: "block",
          shapeRendering: "auto",
          animationPlayState: "running",
          animationDelay: "0s"
        },
        width: "200px",
        height: "200px",
        viewBox: "0 0 100 100",
        preserveAspectRatio: "xMidYMid"
      }, React__default.createElement("circle", {
        cx: "50",
        cy: "50",
        fill: "none",
        stroke: "#9b9b9b",
        strokeWidth: "7",
        r: "35",
        strokeDasharray: "164.93361431346415 56.97787143782138",
        style: {
          animationPlayState: "running",
          animationDelay: "0s"
        }
      }, React__default.createElement("animateTransform", {
        attributeName: "transform",
        type: "rotate",
        repeatCount: "indefinite",
        dur: "1s",
        values: "0 50 50;360 50 50",
        keyTimes: "0;1",
        style: {
          animationPlayState: "running",
          animationDelay: "0s"
        }
      })));
    };
    var QrReader = React__default.lazy(() => new Promise(function(resolve) {
      resolve(_interopNamespace(require_lib4()));
    }));
    var URTypeErrorMessage = "";
    var useAnimatedQRCodeReader = () => {
      const [cameraReady2, setCameraReady] = React.useState(false);
      const [expectTypes, setExpectTypes] = React.useState([]);
      const [urDecoder, setURDecoder] = React.useState(new bcUr.URDecoder());
      const [error, setError] = React.useState("");
      const ee = React.useMemo(() => new events.EventEmitter(), []);
      const [title, setTitle] = React.useState(null);
      const [progress, setProgress] = React.useState(0);
      const [description, setDescription] = React.useState(null);
      const reset = () => {
        setURDecoder(new bcUr.URDecoder());
        setError("");
      };
      const processQRCode = (qr, errorMessgeOnURType) => {
        processUR(qr, errorMessgeOnURType);
      };
      const handleStop = () => {
        ee.emit("read", {
          status: "canceled"
        });
      };
      const handleRetry = () => {
        reset();
      };
      const processUR = (ur, errorMessgeOnURType) => {
        try {
          if (!urDecoder.isComplete()) {
            urDecoder.receivePart(ur);
            setProgress(urDecoder.getProgress());
          } else {
            const result = urDecoder.resultUR();
            let foundExpected = false;
            expectTypes.forEach((et) => {
              if (et === result.type) {
                foundExpected = true;
                ee.emit("read", {
                  result,
                  status: "success"
                });
                return;
              }
            });
            if (!foundExpected)
              throw new URTypeError(`received ur type ${result.type}, but expected [${expectTypes.join(",")}]`);
          }
        } catch (e) {
          if (e instanceof URTypeError) {
            setError(errorMessgeOnURType);
          } else {
            setError(e.message);
          }
        }
      };
      const element = React__default.createElement("div", {
        style: {
          display: "flex",
          flexDirection: "column",
          alignItems: "center"
        }
      }, title && React__default.createElement("p", {
        style: {
          fontSize: "1.25rem",
          fontWeight: "bold"
        }
      }, title), description && React__default.createElement("p", {
        style: {
          fontSize: "1rem",
          textAlign: "center"
        }
      }, description), React__default.createElement(React.Suspense, {
        fallback: React__default.createElement("div", null)
      }, React__default.createElement("div", {
        style: {
          position: "relative",
          width: "100%"
        }
      }, !cameraReady2 ? React__default.createElement("div", {
        style: {
          position: "absolute",
          top: "50%",
          left: "50%",
          transform: "translate(-50%, -50%)"
        }
      }, React__default.createElement(LoadingSpinner, null)) : null, React__default.createElement(QrReader, {
        onScan: (data) => {
          if (data) {
            setCameraReady(true);
            processQRCode(data, URTypeErrorMessage);
          }
        },
        delay: 100,
        style: {
          width: "100%"
        },
        onError: (e) => {
          setError(e.message);
        }
      }))), React__default.createElement("p", null, (progress * 100).toFixed(0), " %"), error && React__default.createElement("p", {
        style: {
          color: "red",
          fontSize: "1rem"
        }
      }, error), React__default.createElement(ButtonGroup, null, React__default.createElement(Button, {
        onClick: handleStop
      }, "Close"), error && React__default.createElement(Button, {
        onClick: handleRetry
      }, "Retry")));
      return [element, {
        read: (expect, options) => {
          return new Promise((resolve) => {
            setExpectTypes(expect);
            if (options) {
              options.title && setTitle(options.title);
              options.description && setDescription(options.description);
              URTypeErrorMessage = options.URTypeErrorMessage ? options.URTypeErrorMessage : "";
            }
            ee.once("read", (result) => {
              reset();
              resolve(result);
            });
          });
        },
        cameraReady: cameraReady2
      }];
    };
    var InitialPage = (props) => {
      return React__default.createElement("div", {
        style: {
          paddingLeft: "1rem"
        }
      }, React__default.createElement("div", {
        style: {
          display: "flex",
          alignItems: "center",
          padding: 0
        }
      }, React__default.createElement("img", {
        style: {
          display: "inline-block"
        },
        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=",
        alt: ""
      }), React__default.createElement("div", {
        style: {
          fontSize: "1.25rem",
          fontWeight: "bold",
          marginLeft: "1rem"
        }
      }, "Sync Keystone")), React__default.createElement("ul", {
        style: {
          marginTop: "2rem",
          listStyleType: "none",
          padding: 0,
          fontSize: "1rem"
        }
      }, React__default.createElement("li", {
        style: {
          marginBottom: "0.75rem"
        }
      }, "1. Turn on your Keystone hardware device"), React__default.createElement("li", {
        style: {
          marginBottom: "0.75rem"
        }
      }, `2. Select your "${props.walletMode}" as your Watch-only wallet(Companion App)`), React__default.createElement("li", {
        style: {
          marginBottom: "0.75rem"
        }
      }, " ", '3. Press the "Scan Keystone" button and scan the QR Code displayed on your Keystone hardware wallet'), React__default.createElement("li", {
        style: {
          marginBottom: "0.75rem"
        }
      }, " 4. Select account and check your watch-only wallet")), React__default.createElement("div", {
        style: {
          marginBottom: "1rem"
        }
      }, React__default.createElement("a", {
        style: {
          marginTop: "1.25rem",
          color: "#784FFE",
          textDecoration: "none"
        },
        href: props.link,
        target: "_blank"
      }, "Click here to view detailed tutorial")), React__default.createElement(Button, {
        onClick: props.onButtonClick
      }, "Sync Keystone"));
    };
    var customStyles = {
      overlay: {
        zIndex: 999
      },
      content: {
        top: "50%",
        left: "50%",
        right: "auto",
        bottom: "auto",
        borderRadius: "10px",
        width: "37rem",
        marginRight: "-50%",
        transform: "translate(-50%, -50%)",
        postion: "relative"
      }
    };
    var useController = () => {
      const ee = React.useMemo(() => new events.EventEmitter(), []);
      const [visible, setVisible] = React.useState(false);
      const [walletMode, setWalltMode] = React.useState("");
      const [link, setLink] = React.useState("");
      const [mode, setMode] = React.useState(null);
      const [AnimatedQRCodePlayer, {
        play: play2
      }] = useAnimatedQRCodePlayer();
      const [AnimatedQRCodeReader, {
        read: read2,
        cameraReady: cameraReady2
      }] = useAnimatedQRCodeReader();
      const close = () => {
        ee.emit("close");
        reset();
      };
      const reset = () => {
        setMode(null);
        setLink("");
        setWalltMode("");
        setVisible(false);
      };
      const goToRead = () => {
        setMode("read");
      };
      const renderPannel = (pageMode) => {
        if (pageMode === "initial") {
          return React__default.createElement(InitialPage, {
            walletMode,
            link,
            onButtonClick: goToRead
          });
        } else if (pageMode === "read") {
          return AnimatedQRCodeReader;
        } else if (pageMode === "play") {
          return AnimatedQRCodePlayer;
        } else {
          return null;
        }
      };
      const element = React__default.createElement(Modal, {
        isOpen: visible,
        style: customStyles
      }, React__default.createElement("div", {
        onClick: close
      }, React__default.createElement("img", {
        style: {
          position: "absolute",
          top: "1rem",
          right: "1rem"
        },
        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg=="
      })), React__default.createElement("div", {
        style: {
          width: "35rem",
          padding: 18,
          flex: 1,
          flexDirection: "column",
          alignItems: "center",
          justifyContent: "center",
          color: "#002237"
        }
      }, renderPannel(mode)));
      return [element, {
        play: (data, options) => {
          return new Promise(async (resolve) => {
            ee.once("close", () => {
              resolve(exports.PlayStatus.canceled);
            });
            setVisible(true);
            setMode("play");
            await play2(data, options);
            reset();
            resolve(exports.PlayStatus.success);
          });
        },
        read: async (expect, options) => {
          if (options.renderInitial) {
            setWalltMode(options.renderInitial.walletMode);
            setLink(options.renderInitial.link);
            setMode("initial");
            setVisible(true);
            const result = await read2(expect, options);
            reset();
            return result;
          } else {
            setMode("read");
            setVisible(true);
            const result = await read2(expect, options);
            reset();
            return result;
          }
        },
        cameraReady: cameraReady2
      }];
    };
    var Root = () => {
      const [Controller, {
        read: read2,
        play: play2,
        cameraReady: cameraReady2
      }] = useController();
      setupSdk(read2, play2, cameraReady2);
      return Controller;
    };
    var initialized = false;
    var read;
    var play;
    var cameraReady;
    var bootstrap = () => {
      const htmlBody = document.getElementsByTagName("body").item(0);
      const sdkDiv = document.createElement("div");
      sdkDiv.id = "kv_sdk_container";
      htmlBody.appendChild(sdkDiv);
      Modal.setAppElement("#kv_sdk_container");
      ReactDOM.render(React__default.createElement(Root), sdkDiv);
    };
    var setupSdk = (r, p, status) => {
      initialized = true;
      read = r;
      play = p;
      cameraReady = status;
    };
    var sdk = {
      bootstrap,
      getSdk: () => {
        if (initialized) {
          return {
            read,
            play,
            cameraReady
          };
        } else {
          throw new Error("SDK is not initialized");
        }
      }
    };
    exports.default = sdk;
  }
});

// node_modules/@keystonehq/sdk/dist/index.js
var require_dist6 = __commonJS({
  "node_modules/@keystonehq/sdk/dist/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_sdk_cjs_development();
    }
  }
});

// node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/transaction.js
var require_transaction = __commonJS({
  "node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/transaction.js"(exports) {
    "use strict";
    init_define_process_env();
    var __values = exports && exports.__values || function(o) {
      var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
      if (m)
        return m.call(o);
      if (o && typeof o.length === "number")
        return {
          next: function() {
            if (o && i >= o.length)
              o = void 0;
            return { value: o && o[i++], done: !o };
          }
        };
      throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    };
    var __read = exports && exports.__read || function(o, n) {
      var m = typeof Symbol === "function" && o[Symbol.iterator];
      if (!m)
        return o;
      var i = m.call(o), r, ar = [], e;
      try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
          ar.push(r.value);
      } catch (error) {
        e = { error };
      } finally {
        try {
          if (r && !r.done && (m = i["return"]))
            m.call(i);
        } finally {
          if (e)
            throw e.error;
        }
      }
      return ar;
    };
    var __importDefault = exports && exports.__importDefault || function(mod) {
      return mod && mod.__esModule ? mod : { "default": mod };
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var buffer_1 = require_buffer();
    var ethereumjs_util_1 = require_dist();
    var common_1 = __importDefault(require_dist2());
    var N_DIV_2 = new ethereumjs_util_1.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0", 16);
    var Transaction = function() {
      function Transaction2(txData, opts) {
        var e_1, _a;
        var _b;
        var nonce = txData.nonce, gasPrice = txData.gasPrice, gasLimit = txData.gasLimit, to = txData.to, value = txData.value, data = txData.data, v = txData.v, r = txData.r, s = txData.s;
        this.nonce = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(nonce));
        this.gasPrice = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(gasPrice));
        this.gasLimit = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(gasLimit));
        this.to = to ? new ethereumjs_util_1.Address(ethereumjs_util_1.toBuffer(to)) : void 0;
        this.value = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(value));
        this.data = ethereumjs_util_1.toBuffer(data);
        this.v = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(v));
        this.r = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(r));
        this.s = new ethereumjs_util_1.BN(ethereumjs_util_1.toBuffer(s));
        var validateCannotExceedMaxInteger = {
          nonce: this.nonce,
          gasPrice: this.gasPrice,
          gasLimit: this.gasLimit,
          value: this.value,
          r: this.r,
          s: this.s
        };
        try {
          for (var _c = __values(Object.entries(validateCannotExceedMaxInteger)), _d = _c.next(); !_d.done; _d = _c.next()) {
            var _e = __read(_d.value, 2), key = _e[0], value_1 = _e[1];
            if (value_1 && value_1.gt(ethereumjs_util_1.MAX_INTEGER)) {
              throw new Error(key + " cannot exceed MAX_INTEGER, given " + value_1);
            }
          }
        } catch (e_1_1) {
          e_1 = { error: e_1_1 };
        } finally {
          try {
            if (_d && !_d.done && (_a = _c.return))
              _a.call(_c);
          } finally {
            if (e_1)
              throw e_1.error;
          }
        }
        if (opts === null || opts === void 0 ? void 0 : opts.common) {
          this.common = opts.common;
        } else {
          var DEFAULT_CHAIN = "mainnet";
          this.common = new common_1.default({ chain: DEFAULT_CHAIN });
        }
        this._validateTxV(this.v);
        var freeze = (_b = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _b !== void 0 ? _b : true;
        if (freeze) {
          Object.freeze(this);
        }
      }
      Transaction2.fromTxData = function(txData, opts) {
        return new Transaction2(txData, opts);
      };
      Transaction2.fromRlpSerializedTx = function(serialized, opts) {
        var values = ethereumjs_util_1.rlp.decode(serialized);
        if (!Array.isArray(values)) {
          throw new Error("Invalid serialized tx input. Must be array");
        }
        return this.fromValuesArray(values, opts);
      };
      Transaction2.fromValuesArray = function(values, opts) {
        if (values.length !== 6 && values.length !== 9) {
          throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");
        }
        var _a = __read(values, 9), nonce = _a[0], gasPrice = _a[1], gasLimit = _a[2], to = _a[3], value = _a[4], data = _a[5], v = _a[6], r = _a[7], s = _a[8];
        return new Transaction2({
          nonce: new ethereumjs_util_1.BN(nonce),
          gasPrice: new ethereumjs_util_1.BN(gasPrice),
          gasLimit: new ethereumjs_util_1.BN(gasLimit),
          to: to && to.length > 0 ? new ethereumjs_util_1.Address(to) : void 0,
          value: new ethereumjs_util_1.BN(value),
          data: data || buffer_1.Buffer.from([]),
          v: v ? new ethereumjs_util_1.BN(v) : void 0,
          r: r ? new ethereumjs_util_1.BN(r) : void 0,
          s: s ? new ethereumjs_util_1.BN(s) : void 0
        }, opts);
      };
      Transaction2.prototype.toCreationAddress = function() {
        return this.to === void 0 || this.to.buf.length === 0;
      };
      Transaction2.prototype.hash = function() {
        var values = [
          ethereumjs_util_1.bnToRlp(this.nonce),
          ethereumjs_util_1.bnToRlp(this.gasPrice),
          ethereumjs_util_1.bnToRlp(this.gasLimit),
          this.to !== void 0 ? this.to.buf : buffer_1.Buffer.from([]),
          ethereumjs_util_1.bnToRlp(this.value),
          this.data,
          this.v ? ethereumjs_util_1.bnToRlp(this.v) : buffer_1.Buffer.from([]),
          this.r ? ethereumjs_util_1.bnToRlp(this.r) : buffer_1.Buffer.from([]),
          this.s ? ethereumjs_util_1.bnToRlp(this.s) : buffer_1.Buffer.from([])
        ];
        return ethereumjs_util_1.rlphash(values);
      };
      Transaction2.prototype.getMessageToSign = function() {
        return this._getMessageToSign(this._unsignedTxImplementsEIP155());
      };
      Transaction2.prototype.getMessageToVerifySignature = function() {
        return this._getMessageToSign(this._signedTxImplementsEIP155());
      };
      Transaction2.prototype.getChainId = function() {
        return this.common.chainId();
      };
      Transaction2.prototype.getSenderAddress = function() {
        return new ethereumjs_util_1.Address(ethereumjs_util_1.publicToAddress(this.getSenderPublicKey()));
      };
      Transaction2.prototype.getSenderPublicKey = function() {
        var msgHash = this.getMessageToVerifySignature();
        if (this.common.gteHardfork("homestead") && this.s && this.s.gt(N_DIV_2)) {
          throw new Error("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");
        }
        var _a = this, v = _a.v, r = _a.r, s = _a.s;
        if (!v || !r || !s) {
          throw new Error("Missing values to derive sender public key from signed tx");
        }
        try {
          return ethereumjs_util_1.ecrecover(msgHash, v.toNumber(), ethereumjs_util_1.bnToRlp(r), ethereumjs_util_1.bnToRlp(s), this._signedTxImplementsEIP155() ? this.getChainId() : void 0);
        } catch (e) {
          throw new Error("Invalid Signature");
        }
      };
      Transaction2.prototype.verifySignature = function() {
        try {
          var publicKey = this.getSenderPublicKey();
          return ethereumjs_util_1.unpadBuffer(publicKey).length !== 0;
        } catch (e) {
          return false;
        }
      };
      Transaction2.prototype.sign = function(privateKey) {
        if (privateKey.length !== 32) {
          throw new Error("Private key must be 32 bytes in length.");
        }
        var msgHash = this.getMessageToSign();
        var _a = ethereumjs_util_1.ecsign(msgHash, privateKey), v = _a.v, r = _a.r, s = _a.s;
        if (this._unsignedTxImplementsEIP155()) {
          v += this.getChainId() * 2 + 8;
        }
        var opts = {
          common: this.common
        };
        return new Transaction2({
          nonce: this.nonce,
          gasPrice: this.gasPrice,
          gasLimit: this.gasLimit,
          to: this.to,
          value: this.value,
          data: this.data,
          v: new ethereumjs_util_1.BN(v),
          r: new ethereumjs_util_1.BN(r),
          s: new ethereumjs_util_1.BN(s)
        }, opts);
      };
      Transaction2.prototype.getDataFee = function() {
        var txDataZero = this.common.param("gasPrices", "txDataZero");
        var txDataNonZero = this.common.param("gasPrices", "txDataNonZero");
        var cost = 0;
        for (var i = 0; i < this.data.length; i++) {
          this.data[i] === 0 ? cost += txDataZero : cost += txDataNonZero;
        }
        return new ethereumjs_util_1.BN(cost);
      };
      Transaction2.prototype.getBaseFee = function() {
        var fee = this.getDataFee().addn(this.common.param("gasPrices", "tx"));
        if (this.common.gteHardfork("homestead") && this.toCreationAddress()) {
          fee.iaddn(this.common.param("gasPrices", "txCreation"));
        }
        return fee;
      };
      Transaction2.prototype.getUpfrontCost = function() {
        return this.gasLimit.mul(this.gasPrice).add(this.value);
      };
      Transaction2.prototype.validate = function(stringError) {
        if (stringError === void 0) {
          stringError = false;
        }
        var errors = [];
        if (!this.verifySignature()) {
          errors.push("Invalid Signature");
        }
        if (this.getBaseFee().gt(this.gasLimit)) {
          errors.push("gasLimit is too low. given " + this.gasLimit + ", need at least " + this.getBaseFee());
        }
        return stringError ? errors : errors.length === 0;
      };
      Transaction2.prototype.raw = function() {
        return [
          ethereumjs_util_1.bnToRlp(this.nonce),
          ethereumjs_util_1.bnToRlp(this.gasPrice),
          ethereumjs_util_1.bnToRlp(this.gasLimit),
          this.to !== void 0 ? this.to.buf : buffer_1.Buffer.from([]),
          ethereumjs_util_1.bnToRlp(this.value),
          this.data,
          this.v !== void 0 ? ethereumjs_util_1.bnToRlp(this.v) : buffer_1.Buffer.from([]),
          this.r !== void 0 ? ethereumjs_util_1.bnToRlp(this.r) : buffer_1.Buffer.from([]),
          this.s !== void 0 ? ethereumjs_util_1.bnToRlp(this.s) : buffer_1.Buffer.from([])
        ];
      };
      Transaction2.prototype.serialize = function() {
        return ethereumjs_util_1.rlp.encode(this.raw());
      };
      Transaction2.prototype.toJSON = function() {
        return {
          nonce: ethereumjs_util_1.bnToHex(this.nonce),
          gasPrice: ethereumjs_util_1.bnToHex(this.gasPrice),
          gasLimit: ethereumjs_util_1.bnToHex(this.gasLimit),
          to: this.to !== void 0 ? this.to.toString() : void 0,
          value: ethereumjs_util_1.bnToHex(this.value),
          data: "0x" + this.data.toString("hex"),
          v: this.v !== void 0 ? ethereumjs_util_1.bnToHex(this.v) : void 0,
          r: this.r !== void 0 ? ethereumjs_util_1.bnToHex(this.r) : void 0,
          s: this.s !== void 0 ? ethereumjs_util_1.bnToHex(this.s) : void 0
        };
      };
      Transaction2.prototype.isSigned = function() {
        var _a = this, v = _a.v, r = _a.r, s = _a.s;
        return !!v && !!r && !!s;
      };
      Transaction2.prototype._unsignedTxImplementsEIP155 = function() {
        return this.common.gteHardfork("spuriousDragon");
      };
      Transaction2.prototype._signedTxImplementsEIP155 = function() {
        var _a;
        if (!this.isSigned()) {
          throw Error("This transaction is not signed");
        }
        var onEIP155BlockOrLater = this.common.gteHardfork("spuriousDragon");
        var v = (_a = this.v) === null || _a === void 0 ? void 0 : _a.toNumber();
        var vAndChainIdMeetEIP155Conditions = v === this.getChainId() * 2 + 35 || v === this.getChainId() * 2 + 36;
        return vAndChainIdMeetEIP155Conditions && onEIP155BlockOrLater;
      };
      Transaction2.prototype._getMessageToSign = function(withEIP155) {
        var values = [
          ethereumjs_util_1.bnToRlp(this.nonce),
          ethereumjs_util_1.bnToRlp(this.gasPrice),
          ethereumjs_util_1.bnToRlp(this.gasLimit),
          this.to !== void 0 ? this.to.buf : buffer_1.Buffer.from([]),
          ethereumjs_util_1.bnToRlp(this.value),
          this.data
        ];
        if (withEIP155) {
          values.push(ethereumjs_util_1.toBuffer(this.getChainId()));
          values.push(ethereumjs_util_1.unpadBuffer(ethereumjs_util_1.toBuffer(0)));
          values.push(ethereumjs_util_1.unpadBuffer(ethereumjs_util_1.toBuffer(0)));
        }
        return ethereumjs_util_1.rlphash(values);
      };
      Transaction2.prototype._validateTxV = function(v) {
        if (v === void 0 || v.toNumber() === 0) {
          return;
        }
        if (!this.common.gteHardfork("spuriousDragon")) {
          return;
        }
        var vInt = v.toNumber();
        if (vInt === 27 || vInt === 28) {
          return;
        }
        var isValidEIP155V = vInt === this.getChainId() * 2 + 35 || vInt === this.getChainId() * 2 + 36;
        if (!isValidEIP155V) {
          throw new Error("Incompatible EIP155-based V " + vInt + " and chain id " + this.getChainId() + ". See the Common parameter of the Transaction constructor to set the chain id.");
        }
      };
      return Transaction2;
    }();
    exports.default = Transaction;
  }
});

// node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/types.js
var require_types = __commonJS({
  "node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/types.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
  }
});

// node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/index.js
var require_dist7 = __commonJS({
  "node_modules/@keystonehq/base-eth-keyring/node_modules/@ethereumjs/tx/dist.browser/index.js"(exports) {
    "use strict";
    init_define_process_env();
    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      Object.defineProperty(o, k2, { enumerable: true, get: function() {
        return m[k];
      } });
    } : function(o, m, k, k2) {
      if (k2 === void 0)
        k2 = k;
      o[k2] = m[k];
    });
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m)
        if (p !== "default" && !exports2.hasOwnProperty(p))
          __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var transaction_1 = require_transaction();
    Object.defineProperty(exports, "Transaction", { enumerable: true, get: function() {
      return transaction_1.default;
    } });
    __exportStar(require_types(), exports);
  }
});

// node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.development.js
var require_base_eth_keyring_cjs_development = __commonJS({
  "node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.development.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    var HDKey = _interopDefault(require_hdkey());
    var ethereumjsUtil = require_dist();
    var tx = require_dist7();
    var bcUrRegistryEth = require_dist5();
    var uuid = (init_esm_browser(), __toCommonJS(esm_browser_exports));
    var keyringType = "QR Hardware Wallet Device";
    var pathBase = "m";
    var MAX_INDEX = 1e3;
    var DEFAULT_CHILDREN_PATH = "0/*";
    var KEYRING_MODE;
    (function(KEYRING_MODE2) {
      KEYRING_MODE2["hd"] = "hd";
      KEYRING_MODE2["pubkey"] = "pubkey";
    })(KEYRING_MODE || (KEYRING_MODE = {}));
    var KEYRING_ACCOUNT;
    (function(KEYRING_ACCOUNT2) {
      KEYRING_ACCOUNT2["standard"] = "account.standard";
      KEYRING_ACCOUNT2["ledger_live"] = "account.ledger_live";
      KEYRING_ACCOUNT2["ledger_legacy"] = "account.ledger_legacy";
    })(KEYRING_ACCOUNT || (KEYRING_ACCOUNT = {}));
    var BaseKeyring = class {
      constructor(opts) {
        this.version = 1;
        this.getInteraction = () => {
          throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.");
        };
        this.type = keyringType;
        this.requestSignature = async (_requestId, signRequest, requestTitle, requestDescription) => {
          const ethSignature = await this.getInteraction().requestSignature(signRequest, requestTitle, requestDescription);
          const requestIdBuffer = ethSignature.getRequestId();
          const signature = ethSignature.getSignature();
          if (requestIdBuffer) {
            const requestId = uuid.stringify(requestIdBuffer);
            if (requestId !== _requestId) {
              throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId");
            }
          }
          const r = signature.slice(0, 32);
          const s = signature.slice(32, 64);
          const v = signature.slice(64);
          return {
            r,
            s,
            v
          };
        };
        this.__readCryptoHDKey = (cryptoHDKey) => {
          var _cryptoHDKey$getOrigi, _cryptoHDKey$getChild;
          const hdPath = `m/${cryptoHDKey.getOrigin().getPath()}`;
          const xfp = (_cryptoHDKey$getOrigi = cryptoHDKey.getOrigin().getSourceFingerprint()) == null ? void 0 : _cryptoHDKey$getOrigi.toString("hex");
          const childrenPath = ((_cryptoHDKey$getChild = cryptoHDKey.getChildren()) == null ? void 0 : _cryptoHDKey$getChild.getPath()) || DEFAULT_CHILDREN_PATH;
          const name = cryptoHDKey.getName();
          if (cryptoHDKey.getNote() === KEYRING_ACCOUNT.standard) {
            this.keyringAccount = KEYRING_ACCOUNT.standard;
          } else if (cryptoHDKey.getNote() === KEYRING_ACCOUNT.ledger_legacy) {
            this.keyringAccount = KEYRING_ACCOUNT.ledger_legacy;
          }
          if (!xfp) {
            throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");
          }
          const xpub = cryptoHDKey.getBip32Key();
          this.xfp = xfp;
          this.xpub = xpub;
          this.hdPath = hdPath;
          this.childrenPath = childrenPath;
          if (name !== void 0 && name !== "") {
            this.name = name;
          }
          this.initialized = true;
        };
        this.__readCryptoAccount = (cryptoAccount) => {
          var _cryptoAccount$getMas, _cryptoAccount$getOut;
          const xfp = (_cryptoAccount$getMas = cryptoAccount.getMasterFingerprint()) == null ? void 0 : _cryptoAccount$getMas.toString("hex");
          if (!xfp) {
            throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");
          }
          this.xfp = xfp;
          this.initialized = true;
          let changed = false;
          const outputs = cryptoAccount.getOutputDescriptors();
          if (!outputs || outputs.length === 0) {
            throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");
          }
          if (outputs.length % 5 !== 0) {
            throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");
          }
          (_cryptoAccount$getOut = cryptoAccount.getOutputDescriptors()) == null ? void 0 : _cryptoAccount$getOut.forEach((od) => {
            try {
              const cryptoHDKey = od.getHDKey();
              if (cryptoHDKey) {
                const key = cryptoHDKey.getKey();
                const path = `M/${cryptoHDKey.getOrigin().getPath()}`;
                const address = "0x" + ethereumjsUtil.publicToAddress(key, true).toString("hex");
                this.name = cryptoHDKey.getName();
                if (cryptoHDKey.getNote() === KEYRING_ACCOUNT.ledger_live) {
                  this.keyringAccount = KEYRING_ACCOUNT.ledger_live;
                }
                if (this.paths[ethereumjsUtil.toChecksumAddress(address)] === void 0) {
                  changed = true;
                }
                this.paths[ethereumjsUtil.toChecksumAddress(address)] = path;
              }
            } catch (e) {
              throw new Error(`KeystoneError#invalid_data: ${e}`);
            }
          });
          return changed;
        };
        this.getName = () => {
          return this.name;
        };
        this.setAccountToUnlock = (index) => {
          this.unlockedAccount = parseInt(index, 10);
        };
        this.__getNormalPage = (increment) => {
          this.page += increment;
          if (this.page <= 0) {
            this.page = 1;
          }
          return new Promise(async (resolve, reject) => {
            try {
              const from = (this.page - 1) * this.perPage;
              const to = from + this.perPage;
              const accounts = [];
              for (let i = from; i < to; i++) {
                const address = await this.__addressFromIndex(pathBase, i);
                accounts.push({
                  address,
                  balance: null,
                  index: i
                });
                this.indexes[ethereumjsUtil.toChecksumAddress(address)] = i;
              }
              resolve(accounts);
            } catch (e) {
              reject(e);
            }
          });
        };
        this.__getLedgerLivePage = (increment) => {
          const nextPage = this.page + increment;
          return new Promise(async (resolve, reject) => {
            try {
              const from = (nextPage - 1) * this.perPage;
              const to = from + this.perPage;
              const accounts = [];
              for (let i = from; i < to; i++) {
                const address = await this.__addressFromIndex(pathBase, i);
                accounts.push({
                  address,
                  balance: null,
                  index: i
                });
              }
              this.page += increment;
              resolve(accounts);
            } catch (e) {
              reject(e);
            }
          });
        };
        this.__addressFromIndex = async (pb, i) => {
          if (this.keyringMode === KEYRING_MODE.hd) {
            this.checkKeyring();
            if (!this.hdk) {
              this.hdk = HDKey.fromExtendedKey(this.xpub);
            }
            const childrenPath = this.childrenPath.replace("*", String(i)).replace(/\*/g, "0");
            const dkey = this.hdk.derive(`${pb}/${childrenPath}`);
            const address = "0x" + ethereumjsUtil.publicToAddress(dkey.publicKey, true).toString("hex");
            return ethereumjsUtil.toChecksumAddress(address);
          } else {
            const result = Object.keys(this.paths)[i];
            if (result) {
              return ethereumjsUtil.toChecksumAddress(result);
            } else {
              throw new Error(`KeystoneError#pubkey_account.no_expected_account`);
            }
          }
        };
        this.page = 0;
        this.perPage = 5;
        this.accounts = [];
        this.currentAccount = 0;
        this.unlockedAccount = 0;
        this.name = "QR Hardware";
        this.keyringMode = KEYRING_MODE.hd;
        this.keyringAccount = KEYRING_ACCOUNT.standard;
        this.initialized = false;
        this.xfp = "";
        this.xpub = "";
        this.hdPath = "";
        this.childrenPath = DEFAULT_CHILDREN_PATH;
        this.indexes = {};
        this.paths = {};
        this.deserialize(opts);
      }
      async readKeyring() {
        const result = await this.getInteraction().readCryptoHDKeyOrCryptoAccount();
        this.syncKeyring(result);
      }
      syncKeyring(data) {
        if (data.getRegistryType() === bcUrRegistryEth.extend.RegistryTypes.CRYPTO_HDKEY) {
          this.keyringMode = KEYRING_MODE.hd;
          this.__readCryptoHDKey(data);
        } else {
          this.keyringMode = KEYRING_MODE.pubkey;
          this.__readCryptoAccount(data);
        }
      }
      checkKeyring() {
        if (!this.xfp || !this.xpub || !this.hdPath) {
          throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly");
        }
      }
      serialize() {
        return Promise.resolve({
          initialized: this.initialized,
          accounts: this.accounts,
          currentAccount: this.currentAccount,
          page: this.page,
          perPage: this.perPage,
          keyringAccount: this.keyringAccount,
          keyringMode: this.keyringMode,
          name: this.name,
          version: this.version,
          xfp: this.xfp,
          xpub: this.xpub,
          hdPath: this.hdPath,
          childrenPath: this.childrenPath,
          indexes: this.indexes,
          paths: this.paths
        });
      }
      deserialize(opts) {
        if (opts) {
          this.accounts = opts.accounts;
          this.currentAccount = opts.currentAccount;
          this.page = opts.page;
          this.perPage = opts.perPage;
          this.name = opts.name;
          this.initialized = opts.initialized;
          this.keyringMode = opts.keyringMode || KEYRING_MODE.hd;
          this.keyringAccount = opts.keyringAccount || KEYRING_ACCOUNT.standard;
          this.xfp = opts.xfp;
          this.xpub = opts.xpub;
          this.hdPath = opts.hdPath;
          this.indexes = opts.indexes;
          this.paths = opts.paths;
          this.childrenPath = opts.childrenPath || DEFAULT_CHILDREN_PATH;
        }
      }
      setCurrentAccount(index) {
        this.currentAccount = index;
      }
      getCurrentAccount() {
        return this.currentAccount;
      }
      getCurrentAddress() {
        return this.accounts[this.currentAccount];
      }
      addAccounts(n = 1) {
        return new Promise(async (resolve, reject) => {
          try {
            const from = this.unlockedAccount;
            const to = from + n;
            const newAccounts = [];
            for (let i = from; i < to; i++) {
              const address = await this.__addressFromIndex(pathBase, i);
              newAccounts.push(address);
              this.page = 0;
              this.unlockedAccount++;
            }
            this.accounts = this.accounts.concat(newAccounts);
            resolve(this.accounts);
          } catch (e) {
            reject(e);
          }
        });
      }
      getFirstPage() {
        this.page = 0;
        return this.__getPage(1);
      }
      getNextPage() {
        return this.__getPage(1);
      }
      getPreviousPage() {
        return this.__getPage(-1);
      }
      async __getPage(increment) {
        if (!this.initialized) {
          await this.readKeyring();
        }
        if (this.keyringMode === KEYRING_MODE.hd) {
          return this.__getNormalPage(increment);
        } else {
          return this.__getLedgerLivePage(increment);
        }
      }
      getAccounts() {
        return Promise.resolve(this.accounts);
      }
      removeAccount(address) {
        if (!this.accounts.map((a) => a.toLowerCase()).includes(address.toLowerCase())) {
          throw new Error(`Address ${address} not found in this keyring`);
        }
        this.accounts = this.accounts.filter((a) => a.toLowerCase() !== address.toLowerCase());
      }
      static serializeTx(tx2) {
        tx2.v = new ethereumjsUtil.BN(tx2.common.chainId());
        tx2.r = new ethereumjsUtil.BN(0);
        tx2.s = new ethereumjsUtil.BN(0);
        return tx2.serialize();
      }
      async signTransaction(address, tx$1) {
        const hdPath = await this._pathFromAddress(address);
        const chainId = tx$1.common.chainId();
        const requestId = uuid.v4();
        const ethSignRequest = bcUrRegistryEth.EthSignRequest.constructETHRequest(BaseKeyring.serializeTx(tx$1), bcUrRegistryEth.DataType.transaction, hdPath, this.xfp, requestId, chainId);
        const {
          r,
          s,
          v
        } = await this.requestSignature(requestId, ethSignRequest, "Scan with your Keystone", 'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature');
        const txJson = tx$1.toJSON();
        return tx.Transaction.fromTxData({
          to: txJson["to"],
          gasLimit: txJson["gasLimit"],
          gasPrice: txJson["gasPrice"],
          data: txJson["data"],
          nonce: txJson["nonce"],
          value: txJson["value"],
          r,
          s,
          v
        }, {
          common: tx$1.common
        });
      }
      signMessage(withAccount, data) {
        return this.signPersonalMessage(withAccount, data);
      }
      async signPersonalMessage(withAccount, messageHex) {
        const usignedHex = ethereumjsUtil.stripHexPrefix(messageHex);
        const hdPath = await this._pathFromAddress(withAccount);
        const requestId = uuid.v4();
        const ethSignRequest = bcUrRegistryEth.EthSignRequest.constructETHRequest(Buffer.from(usignedHex, "hex"), bcUrRegistryEth.DataType.personalMessage, hdPath, this.xfp, requestId, void 0, withAccount);
        const {
          r,
          s,
          v
        } = await this.requestSignature(requestId, ethSignRequest, "Scan with your Keystone", 'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');
        return "0x" + Buffer.concat([r, s, v]).toString("hex");
      }
      async signTypedData(withAccount, typedData) {
        const hdPath = await this._pathFromAddress(withAccount);
        const requestId = uuid.v4();
        const ethSignRequest = bcUrRegistryEth.EthSignRequest.constructETHRequest(Buffer.from(JSON.stringify(typedData), "utf-8"), bcUrRegistryEth.DataType.typedData, hdPath, this.xfp, requestId, void 0, withAccount);
        const {
          r,
          s,
          v
        } = await this.requestSignature(requestId, ethSignRequest, "Scan with your Keystone", 'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');
        return "0x" + Buffer.concat([r, s, v]).toString("hex");
      }
      async _pathFromAddress(address) {
        if (this.keyringMode === KEYRING_MODE.hd) {
          const checksummedAddress = ethereumjsUtil.toChecksumAddress(address);
          let index = this.indexes[checksummedAddress];
          if (typeof index === "undefined") {
            for (let i = 0; i < MAX_INDEX; i++) {
              if (checksummedAddress === await this.__addressFromIndex(pathBase, i)) {
                index = i;
                break;
              }
            }
          }
          if (typeof index === "undefined") {
            throw new Error("Unknown address");
          }
          return `${this.hdPath}/${this.childrenPath.replace("*", index.toString()).replace(/\*/g, "0")}`;
        } else {
          const checksummedAddress = ethereumjsUtil.toChecksumAddress(address);
          const path = this.paths[checksummedAddress];
          if (typeof path === "undefined") {
            throw new Error("Unknown address");
          }
          return path;
        }
      }
    };
    BaseKeyring.type = keyringType;
    exports.BaseKeyring = BaseKeyring;
  }
});

// node_modules/@keystonehq/base-eth-keyring/dist/index.js
var require_dist8 = __commonJS({
  "node_modules/@keystonehq/base-eth-keyring/dist/index.js"(exports, module) {
    "use strict";
    init_define_process_env();
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_base_eth_keyring_cjs_development();
    }
  }
});

// node_modules/@keystonehq/eth-keyring/dist/eth-keyring.cjs.development.js
var require_eth_keyring_cjs_development = __commonJS({
  "node_modules/@keystonehq/eth-keyring/dist/eth-keyring.cjs.development.js"(exports) {
    "use strict";
    init_define_process_env();
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    var bcUrRegistryEth = require_dist5();
    var sdk = require_dist6();
    var sdk__default = _interopDefault(sdk);
    var baseEthKeyring = require_dist8();
    var DefaultInteractionProvider = class {
      constructor() {
        this.keystoneSDK = void 0;
        this.readCryptoHDKeyOrCryptoAccount = async () => {
          const decodedResult = await this.keystoneSDK.read([sdk.SupportedResult.UR_CRYPTO_HDKEY, sdk.SupportedResult.UR_CRYPTO_ACCOUNT], {
            title: "Sync Keystone",
            description: "Please scan the QR code displayed on your Keystone",
            renderInitial: {
              walletMode: "Web3",
              link: "https://keyst.one/defi"
            },
            URTypeErrorMessage: "The scanned QR code is not the sync code from the Keystone hardware wallet. Please verify the code and try again ( Keystone firmware V1.3.0 or newer required)."
          });
          if (decodedResult.status === sdk.ReadStatus.success) {
            const {
              result
            } = decodedResult;
            if (result.type === "crypto-hdkey") {
              return bcUrRegistryEth.CryptoHDKey.fromCBOR(result.cbor);
            } else {
              return bcUrRegistryEth.CryptoAccount.fromCBOR(result.cbor);
            }
          } else {
            throw new Error("Reading canceled");
          }
        };
        this.readCryptoAccount = async () => {
          throw new Error("");
        };
        this.requestSignature = async (ethSignRequest, requestTitle, requestDescription) => {
          const status = await this.keystoneSDK.play(ethSignRequest.toUR(), {
            hasNext: true,
            title: requestTitle,
            description: requestDescription
          });
          if (status === sdk.PlayStatus.canceled)
            throw new Error("#ktek_error[play-cancel]: play canceled");
          const result = await this.keystoneSDK.read([sdk.SupportedResult.UR_ETH_SIGNATURE], {
            title: "Scan Keystone",
            description: "Please scan the QR code displayed on your Keystone"
          });
          if (result.status === sdk.ReadStatus.canceled) {
            throw new Error("#ktek_error[read-cancel]: read signature canceled");
          } else {
            return bcUrRegistryEth.ETHSignature.fromCBOR(result.result.cbor);
          }
        };
        if (DefaultInteractionProvider.instance) {
          return DefaultInteractionProvider.instance;
        }
        sdk__default.bootstrap();
        this.keystoneSDK = sdk__default.getSdk();
        DefaultInteractionProvider.instance = this;
      }
    };
    var DefaultKeyring = class extends baseEthKeyring.BaseKeyring {
      constructor(opts) {
        super(opts);
        this.getInteraction = () => {
          return new DefaultInteractionProvider();
        };
      }
      static getEmptyKeyring() {
        return new DefaultKeyring();
      }
    };
    DefaultKeyring.type = baseEthKeyring.BaseKeyring.type;
    exports.default = DefaultKeyring;
  }
});

// node_modules/@keystonehq/eth-keyring/dist/index.js
var require_dist9 = __commonJS({
  "node_modules/@keystonehq/eth-keyring/dist/index.js"(exports, module) {
    init_define_process_env();
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_eth_keyring_cjs_development();
    }
  }
});
"use strict";
export default require_dist9();
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=dist-HUMVDRJ2.js.map
